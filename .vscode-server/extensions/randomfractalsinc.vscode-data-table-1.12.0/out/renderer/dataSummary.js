var t={2672:(t,e,n)=>{n.r(e),n.d(e,{addAggregateFunction:()=>im,addFunction:()=>am,addPackage:()=>fm,addTableMethod:()=>hm,addVerb:()=>dm,addWindowFunction:()=>sm,agg:()=>Zp,all:()=>Xl,bin:()=>Gp,desc:()=>zd,endswith:()=>eu,escape:()=>Kp,field:()=>Hd,frac:()=>Xp,from:()=>Rp,fromArrow:()=>Sf,fromCSV:()=>Ff,fromFixed:()=>Pf,fromJSON:()=>Vf,internal:()=>pm,load:()=>jp,loadArrow:()=>zp,loadCSV:()=>Hp,loadFixed:()=>Wp,loadJSON:()=>qp,matches:()=>Ql,names:()=>Jp,not:()=>Jl,op:()=>dt,query:()=>df,queryFrom:()=>ff,range:()=>Zl,rolling:()=>Wd,seed:()=>G,startswith:()=>tu,table:()=>$p,toArrow:()=>Fl,version:()=>mm});const r=Array.isArray;function i(t){return null!=t?r(t)?t:[t]:[]}function s(t){return t<0?`count() + ${t}`:t}class a{constructor(t){t&&(this._params=t)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}reify(t){return this.__reify(this,t)}count(t){return this.__count(this,t)}derive(t,e){return this.__derive(this,t,e)}filter(t){return this.__filter(this,t)}slice(t,e){return this.filter(function(t=0,e=1/0){return`${s(t)} < row_number() && row_number() <= ${s(e)}`}(t,e)).reify()}groupby(...t){return this.__groupby(this,t.flat())}orderby(...t){return this.__orderby(this,t.flat())}relocate(t,e){return this.__relocate(this,i(t),e)}rename(...t){return this.__rename(this,t.flat())}rollup(t){return this.__rollup(this,t)}sample(t,e){return this.__sample(this,t,e)}select(...t){return this.__select(this,t.flat())}ungroup(){return this.__ungroup(this)}unorder(){return this.__unorder(this)}dedupe(...t){return this.__dedupe(this,t.flat())}impute(t,e){return this.__impute(this,t,e)}fold(t,e){return this.__fold(this,t,e)}pivot(t,e,n){return this.__pivot(this,t,e,n)}spread(t,e){return this.__spread(this,t,e)}unroll(t,e){return this.__unroll(this,t,e)}lookup(t,e,...n){return this.__lookup(this,t,e,n.flat())}join(t,e,n,r){return this.__join(this,t,e,n,r)}join_left(t,e,n,r){const i={...r,left:!0,right:!1};return this.__join(this,t,e,n,i)}join_right(t,e,n,r){const i={...r,left:!1,right:!0};return this.__join(this,t,e,n,i)}join_full(t,e,n,r){const i={...r,left:!0,right:!0};return this.__join(this,t,e,n,i)}cross(t,e,n){return this.__cross(this,t,e,n)}semijoin(t,e){return this.__semijoin(this,t,e)}antijoin(t,e){return this.__antijoin(this,t,e)}concat(...t){return this.__concat(this,t.flat())}union(...t){return this.__union(this,t.flat())}intersect(...t){return this.__intersect(this,t.flat())}except(...t){return this.__except(this,t.flat())}}function o(t){throw Error(t)}function c(t){return"number"==typeof t}function l(t){return"function"==typeof t}function u(t,e){const n=Array(t);if(l(e))for(let r=0;r<t;++r)n[r]=e(r);else n.fill(e);return n}class h extends a{constructor(t,e,n,r,i,s,a){super(a),this._names=Object.freeze(t),this._data=n,this._total=e,this._nrows=r?r.count():e,this._mask=e!==this._nrows&&r||null,this._group=i||null,this._order=s||null}create(t){o("Not implemented")}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows()+" row"+(1!==this.numRows()?"s":"");return`Table: ${this.numCols()+" col"+(1!==this.numCols()?"s":"")} x ${t}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}columnArray(t,e){return this.array(t,e)}array(t,e){o("Not implemented")}*values(t){const e=this.getter(t),n=this.numRows();for(let t=0;t<n;++t)yield e(t)}get(t,e=0){o("Not implemented")}getter(t){o("Not implemented")}objects(t){o("Not implemented")}object(t){o("Not implemented")}[Symbol.iterator](){o("Not implemented")}print(t={}){c(t)?t={limit:t}:null==t.limit&&(t.limit=10);const e=this.objects({...t,grouped:!1}),n=`${this[Symbol.toStringTag]}. Showing ${e.length} rows.`;return console.log(n),console.table(e),this}indices(t=!0){if(this._index)return this._index;const e=this.numRows(),n=new Uint32Array(e),r=this.isOrdered(),i=this.mask();let s=-1;if(i)for(let t=i.next(0);t>=0;t=i.next(t+1))n[++s]=t;else for(let t=0;t<e;++t)n[++s]=t;if(t&&r){const t=this._order,e=this._data;n.sort(((n,r)=>t(n,r,e)))}return!t&&r||(this._index=n),n}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:e,size:n}=this._group,r=u(n,(()=>[])),i=this._index,s=this.mask(),a=this.numRows();if(i&&this.isOrdered())for(let t,n=0;n<a;++n)t=i[n],r[e[t]].push(t);else if(s)for(let t=s.next(0);t>=0;t=s.next(t+1))r[e[t]].push(t);else for(let t=0;t<a;++t)r[e[t]].push(t);if(t&&!i&&this.isOrdered()){const t=this._order,e=this._data;for(let i=0;i<n;++i)r[i].sort(((n,r)=>t(n,r,e)))}return!t&&this.isOrdered()||(this._partitions=r),r}scan(t,e,n=1/0,r=0){const i=this._mask,s=this._nrows,a=this._data;let o=r||0;if(o>s)return;const c=Math.min(s,o+n),l=()=>o=this._total;if(e&&this.isOrdered()||i&&this._index){const e=this.indices(),n=this._data;for(;o<c;++o)t(e[o],n,l)}else if(i){let e=c-o+1;for(o=i.nth(o);--e&&o>-1;o=i.next(o+1))t(o,a,l)}else for(;o<c;++o)t(o,a,l)}slice(t=0,e=1/0){if(this.isGrouped())return super.slice(t,e);const n=[],r=this.numRows();return t=Math.max(0,t+(t<0?r:0)),e=Math.min(r,Math.max(0,e+(e<0?r:0))),this.scan((t=>n.push(t)),!0,e-t,t),this.reify(n)}reduce(t){return this.__reduce(this,t)}}class d{constructor(t){this.data=t}get length(){return this.data.length}get(t){return this.data[t]}[Symbol.iterator](){return this.data[Symbol.iterator]()}}let f=function(t){return t&&l(t.get)?t:new d(t)};function p(t){return t instanceof Date}function m(t){return t===Object(t)}function g(t){return t instanceof RegExp}function y(t){return"string"==typeof t}function b(t,e=["key","value"]){const n=[],r=[];for(const[e,i]of t)n.push(e),r.push(i);const i={};return e[0]&&(i[e[0]]=n),e[1]&&(i[e[1]]=r),i}const{hasOwnProperty:v}=Object.prototype;function _(t,e){return v.call(t,e)}function w(t){return t?new x({...t.data()},t.columnNames()):new x}class x{constructor(t,e){this.data=t||{},this.names=e||[]}add(t,e){return this.has(t)||this.names.push(t+""),this.data[t]=e}has(t){return _(this.data,t)}new(){return this.filter=null,this.groups=this.groups||null,this.order=null,this}groupby(t){return this.groups=t,this}}const S=void 0,A=Object.getPrototypeOf(Int8Array);function I(t){return t instanceof A}function T(t){return r(t)||I(t)}function M(t){return null!=t&&t==t}const k=t=>T(t)||y(t),C={compact:t=>T(t)?t.filter((t=>M(t))):t,concat:(...t)=>[].concat(...t),includes:(t,e,n)=>!!k(t)&&t.includes(e,n),indexof:(t,e)=>k(t)?t.indexOf(e):-1,join:(t,e)=>T(t)?t.join(e):S,lastindexof:(t,e)=>k(t)?t.lastIndexOf(e):-1,length:t=>k(t)?t.length:0,pluck:(t,e)=>T(t)?t.map((t=>M(t)?t[e]:S)):S,reverse:t=>T(t)?t.slice().reverse():y(t)?t.split("").reverse().join(""):S,slice:(t,e,n)=>k(t)?t.slice(e,n):S};function N(t,e,n="0"){const r=t+"",i=r.length;return i<e?Array(e-i+1).join(n)+r:r}const E=t=>(t<10?"0":"")+t;function O(t,e,n,r,i,s,a,o,c){const l=o?"Z":"";return(t=>t<0?"-"+N(-t,6):t>9999?"+"+N(t,6):N(t,4))(t)+"-"+E(e+1)+"-"+E(n)+(!c||a?"T"+E(r)+":"+E(i)+":"+E(s)+"."+N(a,3)+l:s?"T"+E(r)+":"+E(i)+":"+E(s)+l:i||r||!o?"T"+E(r)+":"+E(i)+l:"")}function D(t,e){return isNaN(t)?"Invalid Date":O(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),!1,e)}function B(t,e){return isNaN(t)?"Invalid Date":O(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds(),!0,e)}const L=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function F(t){return t.match(L)}const P=864e5,U=6048e5,V=new Date,$=new Date,R=t=>(V.setTime("string"==typeof t?function(t,e=Date.parse){return F(t)?e(t):t}(t):t),V),j={format_date:(t,e)=>D(R(t),!e),format_utcdate:(t,e)=>B(R(t),!e),timestamp:t=>+R(t),year:t=>R(t).getFullYear(),quarter:t=>Math.floor(R(t).getMonth()/3),month:t=>R(t).getMonth(),date:t=>R(t).getDate(),dayofweek:t=>R(t).getDay(),hours:t=>R(t).getHours(),minutes:t=>R(t).getMinutes(),seconds:t=>R(t).getSeconds(),milliseconds:t=>R(t).getMilliseconds(),utcyear:t=>R(t).getUTCFullYear(),utcquarter:t=>Math.floor(R(t).getUTCMonth()/3),utcmonth:t=>R(t).getUTCMonth(),utcdate:t=>R(t).getUTCDate(),utcdayofweek:t=>R(t).getUTCDay(),utchours:t=>R(t).getUTCHours(),utcminutes:t=>R(t).getUTCMinutes(),utcseconds:t=>R(t).getUTCSeconds(),utcmilliseconds:t=>R(t).getUTCMilliseconds(),datetime:function(t,e,n,r,i,s,a){return arguments.length?new Date(t,e||0,null==n?1:n,r||0,i||0,s||0,a||0):new Date(Date.now())},dayofyear:function(t){$.setTime(+t),$.setHours(0,0,0,0),V.setTime(+$),V.setMonth(0),V.setDate(1);const e=6e4*($.getTimezoneOffset()-V.getTimezoneOffset());return Math.floor(1+($-V-e)/P)},week:function(t,e){const n=e||0;$.setTime(+t),$.setDate($.getDate()-($.getDay()+7-n)%7),$.setHours(0,0,0,0),V.setTime(+t),V.setMonth(0),V.setDate(1),V.setDate(1-(V.getDay()+7-n)%7),V.setHours(0,0,0,0);const r=6e4*($.getTimezoneOffset()-V.getTimezoneOffset());return Math.floor(($-V+1-r)/U)},utcdatetime:function(t,e,n,r,i,s,a){return arguments.length?new Date(Date.UTC(t,e||0,null==n?1:n,r||0,i||0,s||0,a||0)):new Date(Date.now())},utcdayofyear:function(t){$.setTime(+t),$.setUTCHours(0,0,0,0);const e=Date.UTC($.getUTCFullYear(),0,1);return Math.floor(1+($-e)/P)},utcweek:function(t,e){const n=e||0;return $.setTime(+t),$.setUTCDate($.getUTCDate()-($.getUTCDay()+7-n)%7),$.setUTCHours(0,0,0,0),V.setTime(+t),V.setUTCMonth(0),V.setUTCDate(1),V.setUTCDate(1-(V.getUTCDay()+7-n)%7),V.setUTCHours(0,0,0,0),Math.floor(($-V+1)/U)},now:Date.now};function z(t,e){return null!=t&&null!=e&&t==t&&e==e&&(t===e||(p(t)||p(e)?+t==+e:g(t)&&g(e)?t+""==e+"":!(!m(t)||!m(e))&&function(t,e){if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;if(t.length||e.length)return H(t,e);const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;if(n.sort(),r.sort(),!H(n,r,((t,e)=>t===e)))return!1;const i=n.length;for(let r=0;r<i;++r){const i=n[r];if(!z(t[i],e[i]))return!1}return!0}(t,e)))}function H(t,e,n=z){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;++i)if(!n(t[i],e[i]))return!1;return!0}const W={parse_json:t=>JSON.parse(t),to_json:t=>JSON.stringify(t)};let q=Math.random;function Y(){return q()}function G(t){q=M(t)&&isFinite(t=+t)?function(t){const e=1/4294967296;return t=0|(0<=t&&t<1?t/e:Math.abs(t)),()=>e*((t=1664525*t+1013904223|0)>>>0)}(t):Math.random}function K(t){return t instanceof Map}function X(t){return K(t)||function(t){return t instanceof Set}(t)}function J(t){return Array.from(t)}const Z={has:(t,e)=>X(t)?t.has(e):null!=t&&_(t,e),keys:t=>K(t)?J(t.keys()):null!=t?Object.keys(t):[],values:t=>X(t)?J(t.values()):null!=t?Object.values(t):[],entries:t=>X(t)?J(t.entries()):null!=t?Object.entries(t):[],object:t=>t?Object.fromEntries(t):S};function Q(t,e,n){let r=arguments.length;t=+t,e=+e,n=r<2?(e=t,t=0,1):r<3?1:+n,r=0|Math.max(0,Math.ceil((e-t)/n));const i=new Array(r);for(let e=0;e<r;++e)i[e]=t+e*n;return i}const tt={bin:function(t,e,n,r,i){return null==t?null:t<e?-1/0:t>n?1/0:(t=Math.max(e,Math.min(t,n)),e+r*Math.floor(1e-14+(t-e)/r+(i||0)))},equal:z,recode:function(t,e,n){if(e instanceof Map){if(e.has(t))return e.get(t)}else if(_(e,t))return e[t];return void 0!==n?n:t},sequence:Q,...C,...j,...W,random:Y,is_nan:Number.isNaN,is_finite:Number.isFinite,abs:Math.abs,cbrt:Math.cbrt,ceil:Math.ceil,clz32:Math.clz32,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,greatest:Math.max,least:Math.min,log:Math.log,log10:Math.log10,log1p:Math.log1p,log2:Math.log2,pow:Math.pow,round:Math.round,sign:Math.sign,sqrt:Math.sqrt,trunc:Math.trunc,degrees:t=>180*t/Math.PI,radians:t=>Math.PI*t/180,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atan2:Math.atan2,atanh:Math.atanh,cos:Math.cos,cosh:Math.cosh,sin:Math.sin,sinh:Math.sinh,tan:Math.tan,tanh:Math.tanh,...Z,parse_date:t=>null==t?t:new Date(t),parse_float:t=>null==t?t:Number.parseFloat(t),parse_int:(t,e)=>null==t?t:Number.parseInt(t,e),endswith:(t,e,n)=>null!=t&&String(t).endsWith(e,n),match:(t,e,n)=>{const r=null==t?t:String(t).match(e);return null==n||null==r?r:"number"==typeof n?r[n]:r.groups?r.groups[n]:null},normalize:(t,e)=>null==t?t:String(t).normalize(e),padend:(t,e,n)=>null==t?t:String(t).padEnd(e,n),padstart:(t,e,n)=>null==t?t:String(t).padStart(e,n),upper:t=>null==t?t:String(t).toUpperCase(),lower:t=>null==t?t:String(t).toLowerCase(),repeat:(t,e)=>null==t?t:String(t).repeat(e),replace:(t,e,n)=>null==t?t:String(t).replace(e,String(n)),substring:(t,e,n)=>null==t?t:String(t).substring(e,n),split:(t,e,n)=>null==t?[]:String(t).split(e,n),startswith:(t,e,n)=>null!=t&&String(t).startsWith(e,n),trim:t=>null==t?t:String(t).trim()};function et(t){return"bigint"==typeof t}function nt(t){return void 0===t?t+"":et(t)?t+"n":JSON.stringify(t)}function rt(t,e=[],n=[]){return new it(t,i(e),i(n))}class it{constructor(t,e,n){this.name=t,this.fields=e,this.params=n}toString(){const t=[...this.fields.map((t=>`d[${nt(t)}]`)),...this.params.map(nt)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}}const st=t=>rt("any",t),at=()=>rt("count"),ot=t=>rt("array_agg",t),ct=t=>rt("array_agg_distinct",t),lt=(t,e)=>rt("map_agg",[t,e]),ut=(t,e)=>rt("object_agg",[t,e]),ht=(t,e)=>rt("entries_agg",[t,e]),dt={...tt,row_object:(...t)=>rt("row_object",null,t.flat()),count:at,any:st,array_agg:ot,array_agg_distinct:ct,object_agg:ut,map_agg:lt,entries_agg:ht,valid:t=>rt("valid",t),invalid:t=>rt("invalid",t),distinct:t=>rt("distinct",t),mode:t=>rt("mode",t),sum:t=>rt("sum",t),product:t=>rt("product",t),mean:t=>rt("mean",t),average:t=>rt("average",t),variance:t=>rt("variance",t),variancep:t=>rt("variancep",t),stdev:t=>rt("stdev",t),stdevp:t=>rt("stdevp",t),min:t=>rt("min",t),max:t=>rt("max",t),quantile:(t,e)=>rt("quantile",t,e),median:t=>rt("median",t),covariance:(t,e)=>rt("covariance",[t,e]),covariancep:(t,e)=>rt("covariancep",[t,e]),corr:(t,e)=>rt("corr",[t,e]),bins:(t,e,n,r)=>rt("bins",t,[e,n,r]),row_number:()=>rt("row_number"),rank:()=>rt("rank"),avg_rank:()=>rt("avg_rank"),dense_rank:()=>rt("dense_rank"),percent_rank:()=>rt("percent_rank"),cume_dist:()=>rt("cume_dist"),ntile:t=>rt("ntile",null,t),lag:(t,e,n)=>rt("lag",t,[e,n]),lead:(t,e,n)=>rt("lead",t,[e,n]),first_value:t=>rt("first_value",t),last_value:t=>rt("last_value",t),nth_value:(t,e)=>rt("nth_value",t,e),fill_down:(t,e)=>rt("fill_down",t,e),fill_up:(t,e)=>rt("fill_up",t,e)};const ft="Identifier",pt="Literal",mt="MemberExpression",gt="ObjectPattern",yt="Property",bt="Column",vt=(t,e)=>{const n=Tt[t.type];return n?n(t,e):o(`Unsupported expression construct: ${t.type}`)},_t=(t,e)=>"("+vt(t.left,e)+" "+t.operator+" "+vt(t.right,e)+")",wt=(t,e)=>"("+St(t.params,e)+")=>"+vt(t.body,e),xt=(t,e)=>vt(t.callee,e)+"("+St(t.arguments,e)+")",St=(t,e,n=",")=>t.map((t=>vt(t,e))).join(n),At=t=>t.computed?`[${nt(t.name)}]`:`.${t.name}`,It=(t,e,n)=>{const r=t.table||"";return`data${r}${At(t)}.${n}(${e.index}${r})`},Tt={Constant:t=>t.raw,Column:(t,e)=>It(t,e,"get"),Dictionary:(t,e)=>It(t,e,"key"),Function:t=>`fn.${t.name}`,Parameter:t=>`$${At(t)}`,Op:(t,e)=>`op(${nt(t.name)},${e.op||e.index})`,Literal:t=>t.raw,Identifier:t=>t.name,TemplateLiteral:(t,e)=>{const{quasis:n,expressions:r}=t,i=r.length;let s=n[0].value.raw;for(let t=0;t<i;)s+="${"+vt(r[t],e)+"}"+n[++t].value.raw;return"`"+s+"`"},MemberExpression:(t,e)=>{const n=!t.computed,r=vt(t.object,e),i=vt(t.property,e);return r+(n?"."+i:"["+i+"]")},CallExpression:xt,NewExpression:(t,e)=>"new "+xt(t,e),ArrayExpression:(t,e)=>"["+St(t.elements,e)+"]",AssignmentExpression:_t,BinaryExpression:_t,LogicalExpression:_t,UnaryExpression:(t,e)=>"("+t.operator+vt(t.argument,e)+")",ConditionalExpression:(t,e)=>"("+vt(t.test,e)+"?"+vt(t.consequent,e)+":"+vt(t.alternate,e)+")",ObjectExpression:(t,e)=>"({"+St(t.properties,e)+"})",Property:(t,e)=>{const n=vt(t.key,e);return(t.computed?`[${n}]`:n)+":"+vt(t.value,e)},ArrowFunctionExpression:wt,FunctionExpression:wt,FunctionDeclaration:wt,ArrayPattern:(t,e)=>"["+St(t.elements,e)+"]",ObjectPattern:(t,e)=>"{"+St(t.properties,e)+"}",VariableDeclaration:(t,e)=>t.kind+" "+St(t.declarations,e,","),VariableDeclarator:(t,e)=>vt(t.id,e)+"="+vt(t.init,e),SpreadElement:(t,e)=>"..."+vt(t.argument,e),BlockStatement:(t,e)=>"{"+St(t.body,e,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(t,e)=>vt(t.expression,e),IfStatement:(t,e)=>"if ("+vt(t.test,e)+")"+vt(t.consequent,e)+(t.alternate?" else "+vt(t.alternate,e):""),SwitchStatement:(t,e)=>"switch ("+vt(t.discriminant,e)+") {"+St(t.cases,e,"")+"}",SwitchCase:(t,e)=>(t.test?"case "+vt(t.test,e):"default")+": "+St(t.consequent,e,";")+";",ReturnStatement:(t,e)=>"return "+vt(t.argument,e),Program:(t,e)=>vt(t.body[0],e)};function Mt(t,e={index:"row"}){return vt(t,e)}function kt(t){const e=typeof t;return"string"===e?`"${t}"`:"object"===e&&t?p(t)?+t:r(t)||I(t)?`[${t.map(kt)}]`:g(t)?t+"":function(t){let e="{",n=-1;for(const r in t)++n>0&&(e+=","),e+=`"${r}":${kt(t[r])}`;return e+="}",e}(t):t}function Ct(t,e){const n=t.length;return 1===n?(e,n)=>kt(t[0](e,n)):(r,i)=>{let s="";for(let a=0;a<n;++a){a>0&&(s+="|");const n=t[a](r,i);if(e&&(null==n||n!=n))return null;s+=kt(n)}return s}}function Nt(){}function Et(t){return t.init=t.init||Nt,t.add=t.add||Nt,t.rem=t.rem||Nt,t}function Ot(t,e){return t.product_v=!1,t.product=e}const Dt={count:{create:()=>Et({value:t=>t.count}),param:[]},array_agg:{create:()=>Et({init:t=>t.values=!0,value:t=>t.list.values(t.stream)}),param:[1]},object_agg:{create:()=>Et({init:t=>t.values=!0,value:t=>Object.fromEntries(t.list.values())}),param:[2]},map_agg:{create:()=>Et({init:t=>t.values=!0,value:t=>new Map(t.list.values())}),param:[2]},entries_agg:{create:()=>Et({init:t=>t.values=!0,value:t=>t.list.values(t.stream)}),param:[2]},any:{create:()=>Et({add:(t,e)=>{null==t.any&&(t.any=e)},value:t=>t.valid?t.any:S}),param:[1]},valid:{create:()=>Et({value:t=>t.valid}),param:[1]},invalid:{create:()=>Et({value:t=>t.count-t.valid}),param:[1]},distinct:{create:()=>({init:t=>t.distinct=function(){const t=new Map;return{count:()=>t.size,values:()=>Array.from(t.values(),(t=>t.v)),increment(e){const n=kt(e),r=t.get(n);r?++r.n:t.set(n,{v:e,n:1})},decrement(e){const n=kt(e),r=t.get(n);1===r.n?t.delete(n):--r.n},forEach(e){t.forEach((({v:t,n})=>e(t,n)))}}}(),value:t=>t.distinct.count()+(t.valid===t.count?0:1),add:(t,e)=>t.distinct.increment(e),rem:(t,e)=>t.distinct.decrement(e)}),param:[1]},array_agg_distinct:{create:()=>Et({value:t=>t.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>Et({value:t=>{let e=S,n=0;return t.distinct.forEach(((t,r)=>{r>n&&(n=r,e=t)})),e}}),param:[1],req:["distinct"]},sum:{create:()=>({init:t=>t.sum=0,value:t=>t.valid?t.sum:S,add:(t,e)=>et(e)?0===t.sum?t.sum=e:t.sum+=e:t.sum+=+e,rem:(t,e)=>t.sum-=e}),param:[1]},product:{create:()=>({init:t=>Ot(t,1),value:t=>t.valid?t.product_v?Ot(t,function(t,e=0,n=t.length){let r=t[e++];for(let i=e;i<n;++i)r*=t[i];return r}(t.list.values())):t.product:void 0,add:(t,e)=>et(e)&&1===t.product?t.product=e:t.product*=e,rem:(t,e)=>0==e||e===1/0||e===-1/0?t.product_v=!0:t.product/=e}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:t=>t.mean=0,value:t=>t.valid?t.mean:S,add:(t,e)=>{t.mean_d=e-t.mean,t.mean+=t.mean_d/t.valid},rem:(t,e)=>{t.mean_d=e-t.mean,t.mean-=t.valid?t.mean_d/t.valid:t.mean}}),param:[1]},average:{create:()=>Et({value:t=>t.valid?t.mean:S}),param:[1],req:["mean"]},variance:{create:()=>({init:t=>t.dev=0,value:t=>t.valid>1?t.dev/(t.valid-1):S,add:(t,e)=>t.dev+=t.mean_d*(e-t.mean),rem:(t,e)=>t.dev-=t.mean_d*(e-t.mean)}),param:[1],req:["mean"]},variancep:{create:()=>Et({value:t=>t.valid>1?t.dev/t.valid:S}),param:[1],req:["variance"]},stdev:{create:()=>Et({value:t=>t.valid>1?Math.sqrt(t.dev/(t.valid-1)):S}),param:[1],req:["variance"]},stdevp:{create:()=>Et({value:t=>t.valid>1?Math.sqrt(t.dev/t.valid):S}),param:[1],req:["variance"]},min:{create:()=>({init:t=>t.min=S,value:t=>t.min=Number.isNaN(t.min)?t.list.min():t.min,add:(t,e)=>{(e<t.min||t.min===S)&&(t.min=e)},rem:(t,e)=>{e<=t.min&&(t.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:t=>t.max=S,value:t=>t.max=Number.isNaN(t.max)?t.list.max():t.max,add:(t,e)=>{(e>t.max||t.max===S)&&(t.max=e)},rem:(t,e)=>{e>=t.max&&(t.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:t=>Et({value:e=>e.list.quantile(t)}),param:[1,1],req:["array_agg"]},median:{create:()=>Et({value:t=>t.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:t=>{t.cov=t.mean_x=t.mean_y=t.dev_x=t.dev_y=0},value:t=>t.valid>1?t.cov/(t.valid-1):S,add:(t,e,n)=>{const r=e-t.mean_x,i=n-t.mean_y;t.mean_x+=r/t.valid,t.mean_y+=i/t.valid;const s=n-t.mean_y;t.dev_x+=r*(e-t.mean_x),t.dev_y+=i*s,t.cov+=r*s},rem:(t,e,n)=>{const r=e-t.mean_x,i=n-t.mean_y;t.mean_x-=t.valid?r/t.valid:t.mean_x,t.mean_y-=t.valid?i/t.valid:t.mean_y;const s=n-t.mean_y;t.dev_x-=r*(e-t.mean_x),t.dev_y-=i*s,t.cov-=r*s}}),param:[2]},covariancep:{create:()=>Et({value:t=>t.valid>1?t.cov/t.valid:S}),param:[2],req:["covariance"]},corr:{create:()=>Et({value:t=>t.valid>1?t.cov/(Math.sqrt(t.dev_x)*Math.sqrt(t.dev_y)):S}),param:[2],req:["covariance"]},bins:{create:(t,e,n,r)=>Et({value:i=>function(t,e,n=15,r=!0,i=0,s){const a=Math.LN10;if(null==s){const r=Math.ceil(Math.log(n)/a),o=e-t||Math.abs(t)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(o)/a)-r));Math.ceil(o/s)>n;)s*=10;const l=c.length;for(let t=0;t<l;++t){const e=s/c[t];e>=i&&o/e<=n&&(s=e)}}if(r){let n=Math.log(s);const r=n>=0?0:1+~~(-n/a),i=Math.pow(10,-r-1);n=Math.floor(t/s+i)*s,t=t<n?n-s:n,e=Math.ceil(e/s)*s}return[t,e===t?t+s:e,s]}(i.min,i.max,t,e,n,r)}),param:[1,4],req:["min","max"]}},Bt={create(){let t;return{init:()=>t=1,value:e=>{const n=e.index;return n&&!e.peer(n)?t=n+1:t}}},param:[]},Lt={create(){let t;return{init:()=>t=0,value:e=>{const{index:n,peer:r,size:i}=e;let s=n;if(t<s){for(;s+1<i&&r(s+1);)++s;t=s}return(1+t)/i}}},param:[]},Ft={row_number:{create:()=>({init:Nt,value:t=>t.index+1}),param:[]},rank:Bt,avg_rank:{create(){let t,e;return{init:()=>(t=-1,e=1),value:n=>{const r=n.index;if(r>=t){for(e=t=r+1;n.peer(t);e+=++t);e/=t-r}return e}}},param:[]},dense_rank:{create(){let t;return{init:()=>t=1,value:e=>{const n=e.index;return n&&!e.peer(n)?++t:t}}},param:[]},percent_rank:{create(){const{init:t,value:e}=Bt.create();return{init:t,value:t=>(e(t)-1)/(t.size-1)}},param:[]},cume_dist:Lt,ntile:{create(t){(t=+t)>0||o("ntile num must be greater than zero.");const{init:e,value:n}=Lt.create();return{init:e,value:e=>Math.ceil(t*n(e))}},param:[0,1]},lag:{create:(t,e)=>(t=+t||1,{init:Nt,value:(n,r)=>{const i=n.index-t;return i>=0?n.value(i,r):e}}),param:[1,2]},lead:{create:(t,e)=>(t=+t||1,{init:Nt,value:(n,r)=>{const i=n.index+t;return i<n.size?n.value(i,r):e}}),param:[1,2]},first_value:{create:()=>({init:Nt,value:(t,e)=>t.value(t.i0,e)}),param:[1]},last_value:{create:()=>({init:Nt,value:(t,e)=>t.value(t.i1-1,e)}),param:[1]},nth_value:{create:t=>((t=+t)>0||o("nth_value nth must be greater than zero."),{init:Nt,value:(e,n)=>{const r=e.i0+(t-1);return r<e.i1?e.value(r,n):S}}),param:[1,1]},fill_down:{create(t){let e;return{init:()=>e=t,value:(t,n)=>{const r=t.value(t.index,n);return M(r)?e=r:e}}},param:[1,1]},fill_up:{create(t){let e,n;return{init:()=>(e=t,n=-1),value:(r,i)=>r.index<=n?e:(n=function(t,e,n){for(const r=t.size;n<r;++n)if(M(t.value(n,e)))return n;return-1}(r,i,r.index))>=0?e=r.value(n,i):(n=r.size,e=t)}},param:[1,1]}};function Pt(t){return _(Dt,t)}function Ut(t){return _(Ft,t)}function Vt(t){return _(tt,t)||"row_object"===t}function $t(t){return Pt(t)&&Dt[t]}function Rt(t){return Ut(t)&&Ft[t]}function jt(t,e,n){return t=`"use strict"; return ${t};`,Function("fn","$",t)(e,n)}const zt={escape:(t,e,n)=>jt(t,e,n),expr:(t,e)=>jt(`(row,data,op)=>${t}`,tt,e),expr2:(t,e)=>jt(`(row0,data0,row,data)=>${t}`,tt,e),join:(t,e)=>jt(`(row1,data1,row2,data2)=>${t}`,tt,e),param:(t,e)=>jt(t,tt,e)},Ht={"==":1,"!=":1,"===":1,"!==":1};function Wt(t,e,n=0,r,i){if(t.type=bt,t.name=e,t.table=n,i&&r&&l(r.keyFor)){const e=Ht[i.operator]?i.left===t?i.right:i.left:i.callee&&"equal"===i.callee.name?i.arguments[i.arguments[0]===t?1:0]:null;e&&e.type===pt&&function(t,e,n,r){r<0?(t.type=pt,t.value=!1,t.raw="false"):(e.type="Dictionary",n.value=r,n.raw=r+"")}(i,t,e,r.keyFor(e.value))}return t}function qt(t){return r(t)?t:K(t)?t.entries():t?Object.entries(t):[]}const Yt="row_object";function Gt(t,e){t.type="ObjectExpression";const n=t.properties=[];for(const t of qt(e)){const[e,i]=r(t)?t:[t,t];n.push({type:yt,key:{type:pt,raw:nt(i)},value:Wt({computed:!0},e)})}return t}function Kt(t){return Mt(Gt({},t))}function Xt(t){return zt.expr(Kt(t))}var Jt,Zt,Qt,te,ee,ne,re,ie,se,ae,oe;function ce(t){if(null===t)return"null";if(void 0===t)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"==typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map((t=>ce(t)))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,((t,e)=>"bigint"==typeof e?`${e}`:e))}function le(t,e,n,r){return new(n||(n=Promise))((function(i,s){function a(t){try{c(r.next(t))}catch(t){s(t)}}function o(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}c((r=r.apply(t,e||[])).next())}))}function ue(t){return this instanceof ue?(this.v=t,this):new ue(t)}function he(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||o(t,e)}))})}function o(t,e){try{(n=i[t](e)).value instanceof ue?Promise.resolve(n.value.v).then(c,l):u(s[0][2],n)}catch(t){u(s[0][3],t)}var n}function c(t){o("next",t)}function l(t){o("throw",t)}function u(t,e){t(e),s.shift(),s.length&&o(s[0][0],s[0][1])}}function de(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:ue(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function fe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Jt||(Jt={})),(oe=Zt||(Zt={}))[oe.Sparse=0]="Sparse",oe[oe.Dense=1]="Dense",function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(Qt||(Qt={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(te||(te={})),(ae=ee||(ee={}))[ae.SECOND=0]="SECOND",ae[ae.MILLISECOND=1]="MILLISECOND",ae[ae.MICROSECOND=2]="MICROSECOND",ae[ae.NANOSECOND=3]="NANOSECOND",function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(ne||(ne={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(re||(re={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(ie||(ie={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(se||(se={})),Object.create,Object.create;const pe=new TextDecoder("utf-8"),me=t=>pe.decode(t),ge=new TextEncoder,ye=t=>ge.encode(t),[be,ve]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!=typeof BigInt?[BigInt,!0]:[e,!1]})(),[_e,we]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[xe,Se]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),Ae=t=>"boolean"==typeof t,Ie=t=>"function"==typeof t,Te=t=>null!=t&&Object(t)===t,Me=t=>Te(t)&&Ie(t.then),ke=t=>Te(t)&&Ie(t[Symbol.iterator]),Ce=t=>Te(t)&&Ie(t[Symbol.asyncIterator]),Ne=t=>Te(t)&&Te(t.schema),Ee=t=>Te(t)&&"done"in t&&"value"in t,Oe=t=>Te(t)&&Ie(t.stat)&&(t=>"number"==typeof t)(t.fd),De=t=>Te(t)&&Le(t.body),Be=t=>"_getDOMStream"in t&&"_getNodeStream"in t,Le=t=>Te(t)&&Ie(t.cancel)&&Ie(t.getReader)&&!Be(t),Fe=t=>Te(t)&&Ie(t.read)&&Ie(t.pipe)&&Ae(t.readable)&&!Be(t),Pe="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Ue(t,e,n=0,r=e.byteLength){const i=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,i),a=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(a,n),t}function Ve(t,e){const n=function(t){const e=t[0]?[t[0]]:[];let n,r,i,s;for(let a,o,c=0,l=0,u=t.length;++c<u;)a=e[l],o=t[c],!a||!o||a.buffer!==o.buffer||o.byteOffset<a.byteOffset?o&&(e[++l]=o):(({byteOffset:n,byteLength:i}=a),({byteOffset:r,byteLength:s}=o),n+i<r||r+s<n?o&&(e[++l]=o):e[l]=new Uint8Array(a.buffer,n,r-n+s));return e}(t),r=n.reduce(((t,e)=>t+e.byteLength),0);let i,s,a,o=0,c=-1;const l=Math.min(e||Number.POSITIVE_INFINITY,r);for(const t=n.length;++c<t;){if(i=n[c],s=i.subarray(0,Math.min(i.length,l-o)),l<=o+s.length){s.length<i.length?n[c]=i.subarray(s.length):s.length===i.length&&c++,a?Ue(a,s,o):a=s;break}Ue(a||(a=new Uint8Array(l)),s,o),o+=s.length}return[a||new Uint8Array(0),n.slice(c),r-(a?a.byteLength:0)]}function $e(t,e){let n=Ee(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?("string"==typeof n&&(n=ye(n)),n instanceof ArrayBuffer||n instanceof Pe?new t(n):Te(r=n)&&Ie(r.clear)&&Ie(r.bytes)&&Ie(r.position)&&Ie(r.setPosition)&&Ie(r.capacity)&&Ie(r.getBufferIdentifier)&&Ie(r.createLong)?$e(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0);var r}const Re=t=>$e(Int32Array,t),je=t=>$e(Uint8Array,t),ze=t=>(t.next(),t);function He(t,e){return he(this,arguments,(function*(){if(Me(e))return yield ue(yield ue(yield*de(fe(He(t,yield ue(e))))));const n=function(t){return he(this,arguments,(function*(){yield yield ue(yield ue(t))}))},r="string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Pe?n(e):ke(e)?function(t){return he(this,arguments,(function*(){yield ue(yield*de(fe(ze(function*(t){let e=null;do{e=t.next(yield null==e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):Ce(e)?e:n(e);return yield ue(yield*de(fe(ze(function(e){return he(this,arguments,(function*(){let n=null;do{n=yield ue(e.next(yield yield ue($e(t,n))))}while(!n.done)}))}(r[Symbol.asyncIterator]()))))),yield ue(new t)}))}const We=t=>He(Uint8Array,t);function qe(t,e,n){if(0!==t){n=n.slice(0,e+1);for(let r=-1;++r<=e;)n[r]+=t}return n}const Ye=Symbol.for("isArrowBigNum");function Ge(t,...e){return 0===e.length?Object.setPrototypeOf($e(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}function Ke(...t){return Ge.apply(this,t)}function Xe(...t){return Ge.apply(this,t)}function Je(...t){return Ge.apply(this,t)}function Ze(t){const{buffer:e,byteOffset:n,length:r,signed:i}=t,s=new xe(e,n,r),a=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let o=a?BigInt(1):BigInt(0),c=BigInt(0);if(a){for(const t of s)o+=~t*(BigInt(1)<<BigInt(32)*c++);o*=BigInt(-1)}else for(const t of s)o+=t*(BigInt(1)<<BigInt(32)*c++);return o}let Qe,tn;function en(t){let e="";const n=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const a=r.length-1;do{for(n[0]=r[s=0];s<a;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}Ge.prototype[Ye]=!0,Ge.prototype.toJSON=function(){return`"${Qe(this)}"`},Ge.prototype.valueOf=function(){return Ze(this)},Ge.prototype.toString=function(){return Qe(this)},Ge.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return Ze(this);case"string":return Qe(this);case"default":return tn(this)}return Qe(this)},Object.setPrototypeOf(Ke.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(Xe.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(Je.prototype,Object.create(Uint32Array.prototype)),Object.assign(Ke.prototype,Ge.prototype,{constructor:Ke,signed:!0,TypedArray:Int32Array,BigIntArray:_e}),Object.assign(Xe.prototype,Ge.prototype,{constructor:Xe,signed:!1,TypedArray:Uint32Array,BigIntArray:xe}),Object.assign(Je.prototype,Ge.prototype,{constructor:Je,signed:!0,TypedArray:Uint32Array,BigIntArray:xe}),ve?(tn=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:en(t),Qe=t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:en(t)):(Qe=en,tn=Qe);class nn{static new(t,e){switch(e){case!0:return new Ke(t);case!1:return new Xe(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case _e:return new Ke(t)}return 16===t.byteLength?new Je(t):new Xe(t)}static signed(t){return new Ke(t)}static unsigned(t){return new Xe(t)}static decimal(t){return new Je(t)}constructor(t,e){return nn.new(t,e)}}var rn,sn,an,on,cn,ln,un,hn,dn,fn,pn,mn,gn,yn,bn,vn,_n,wn,xn;class Sn{static isNull(t){return(null==t?void 0:t.typeId)===ie.Null}static isInt(t){return(null==t?void 0:t.typeId)===ie.Int}static isFloat(t){return(null==t?void 0:t.typeId)===ie.Float}static isBinary(t){return(null==t?void 0:t.typeId)===ie.Binary}static isUtf8(t){return(null==t?void 0:t.typeId)===ie.Utf8}static isBool(t){return(null==t?void 0:t.typeId)===ie.Bool}static isDecimal(t){return(null==t?void 0:t.typeId)===ie.Decimal}static isDate(t){return(null==t?void 0:t.typeId)===ie.Date}static isTime(t){return(null==t?void 0:t.typeId)===ie.Time}static isTimestamp(t){return(null==t?void 0:t.typeId)===ie.Timestamp}static isInterval(t){return(null==t?void 0:t.typeId)===ie.Interval}static isList(t){return(null==t?void 0:t.typeId)===ie.List}static isStruct(t){return(null==t?void 0:t.typeId)===ie.Struct}static isUnion(t){return(null==t?void 0:t.typeId)===ie.Union}static isFixedSizeBinary(t){return(null==t?void 0:t.typeId)===ie.FixedSizeBinary}static isFixedSizeList(t){return(null==t?void 0:t.typeId)===ie.FixedSizeList}static isMap(t){return(null==t?void 0:t.typeId)===ie.Map}static isDictionary(t){return(null==t?void 0:t.typeId)===ie.Dictionary}static isDenseUnion(t){return Sn.isUnion(t)&&t.mode===Zt.Dense}static isSparseUnion(t){return Sn.isUnion(t)&&t.mode===Zt.Sparse}get typeId(){return ie.NONE}}rn=Symbol.toStringTag,Sn[rn]=(t=>(t.children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"))(Sn.prototype);class An extends Sn{toString(){return"Null"}get typeId(){return ie.Null}}sn=Symbol.toStringTag,An[sn]=(t=>t[Symbol.toStringTag]="Null")(An.prototype);class In extends Sn{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return ie.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}an=Symbol.toStringTag,In[an]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(In.prototype);class Tn extends In{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}class Mn extends In{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}class kn extends In{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}class Cn extends In{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}}class Nn extends In{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}class En extends In{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}class On extends In{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}class Dn extends In{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}}Object.defineProperty(Tn.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(Mn.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(kn.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(Cn.prototype,"ArrayType",{value:BigInt64Array}),Object.defineProperty(Nn.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(En.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(On.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(Dn.prototype,"ArrayType",{value:BigUint64Array});class Bn extends Sn{constructor(t){super(),this.precision=t}get typeId(){return ie.Float}get ArrayType(){switch(this.precision){case Qt.HALF:return Uint16Array;case Qt.SINGLE:return Float32Array;case Qt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}on=Symbol.toStringTag,Bn[on]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Bn.prototype);class Ln extends Bn{constructor(){super(Qt.HALF)}}class Fn extends Bn{constructor(){super(Qt.SINGLE)}}class Pn extends Bn{constructor(){super(Qt.DOUBLE)}}Object.defineProperty(Ln.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(Fn.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(Pn.prototype,"ArrayType",{value:Float64Array});class Un extends Sn{constructor(){super()}get typeId(){return ie.Binary}toString(){return"Binary"}}cn=Symbol.toStringTag,Un[cn]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Un.prototype);class Vn extends Sn{constructor(){super()}get typeId(){return ie.Utf8}toString(){return"Utf8"}}ln=Symbol.toStringTag,Vn[ln]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Vn.prototype);class $n extends Sn{constructor(){super()}get typeId(){return ie.Bool}toString(){return"Bool"}}un=Symbol.toStringTag,$n[un]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))($n.prototype);class Rn extends Sn{constructor(t,e,n=128){super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return ie.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}hn=Symbol.toStringTag,Rn[hn]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Rn.prototype);class jn extends Sn{constructor(t){super(),this.unit=t}get typeId(){return ie.Date}toString(){return`Date${32*(this.unit+1)}<${te[this.unit]}>`}}dn=Symbol.toStringTag,jn[dn]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(jn.prototype);class zn extends jn{constructor(){super(te.DAY)}}class Hn extends jn{constructor(){super(te.MILLISECOND)}}class Wn extends Sn{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return ie.Time}toString(){return`Time${this.bitWidth}<${ee[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}fn=Symbol.toStringTag,Wn[fn]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(Wn.prototype);class qn extends Wn{constructor(){super(ee.SECOND,32)}}class Yn extends Wn{constructor(){super(ee.MILLISECOND,32)}}class Gn extends Wn{constructor(){super(ee.MICROSECOND,64)}}class Kn extends Wn{constructor(){super(ee.NANOSECOND,64)}}class Xn extends Sn{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return ie.Timestamp}toString(){return`Timestamp<${ee[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}pn=Symbol.toStringTag,Xn[pn]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Xn.prototype);class Jn extends Sn{constructor(t){super(),this.unit=t}get typeId(){return ie.Interval}toString(){return`Interval<${ne[this.unit]}>`}}mn=Symbol.toStringTag,Jn[mn]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Jn.prototype);class Zn extends Jn{constructor(){super(ne.DAY_TIME)}}class Qn extends Jn{constructor(){super(ne.YEAR_MONTH)}}class tr extends Sn{constructor(t){super(),this.children=[t]}get typeId(){return ie.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}gn=Symbol.toStringTag,tr[gn]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(tr.prototype);class er extends Sn{constructor(t){super(),this.children=t}get typeId(){return ie.Struct}toString(){return`Struct<{${this.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}yn=Symbol.toStringTag,er[yn]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(er.prototype);class nr extends Sn{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,n)=>(t[e]=n)&&t||t),Object.create(null))}get typeId(){return ie.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((t=>`${t.type}`)).join(" | ")}>`}}bn=Symbol.toStringTag,nr[bn]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(nr.prototype);class rr extends Sn{constructor(t){super(),this.byteWidth=t}get typeId(){return ie.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}vn=Symbol.toStringTag,rr[vn]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(rr.prototype);class ir extends Sn{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return ie.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}_n=Symbol.toStringTag,ir[_n]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(ir.prototype);class sr extends Sn{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return ie.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}wn=Symbol.toStringTag,sr[wn]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(sr.prototype);const ar=(or=-1,()=>++or);var or;class cr extends Sn{constructor(t,e,n,r){super(),this.indices=e,this.dictionary=t,this.isOrdered=r||!1,this.id=null==n?ar():"number"==typeof n?n:n.low}get typeId(){return ie.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function lr(t){const e=t;switch(t.typeId){case ie.Decimal:return t.bitWidth/32;case ie.Timestamp:return 2;case ie.Date:case ie.Interval:return 1+e.unit;case ie.FixedSizeList:return e.listSize;case ie.FixedSizeBinary:return e.byteWidth;default:return 1}}xn=Symbol.toStringTag,cr[xn]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(cr.prototype);class ur{visitMany(t,...e){return t.map(((t,n)=>this.visit(t,...e.map((t=>t[n])))))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return function(t,e,n=!0){return"number"==typeof e?hr(t,e,n):"string"==typeof e&&e in ie?hr(t,ie[e],n):e&&e instanceof Sn?hr(t,dr(e),n):(null==e?void 0:e.type)&&e.type instanceof Sn?hr(t,dr(e.type),n):hr(t,ie.NONE,n)}(this,t,e)}getVisitFnByTypeId(t,e=!0){return hr(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function hr(t,e,n=!0){let r=null;switch(e){case ie.Null:r=t.visitNull;break;case ie.Bool:r=t.visitBool;break;case ie.Int:r=t.visitInt;break;case ie.Int8:r=t.visitInt8||t.visitInt;break;case ie.Int16:r=t.visitInt16||t.visitInt;break;case ie.Int32:r=t.visitInt32||t.visitInt;break;case ie.Int64:r=t.visitInt64||t.visitInt;break;case ie.Uint8:r=t.visitUint8||t.visitInt;break;case ie.Uint16:r=t.visitUint16||t.visitInt;break;case ie.Uint32:r=t.visitUint32||t.visitInt;break;case ie.Uint64:r=t.visitUint64||t.visitInt;break;case ie.Float:r=t.visitFloat;break;case ie.Float16:r=t.visitFloat16||t.visitFloat;break;case ie.Float32:r=t.visitFloat32||t.visitFloat;break;case ie.Float64:r=t.visitFloat64||t.visitFloat;break;case ie.Utf8:r=t.visitUtf8;break;case ie.Binary:r=t.visitBinary;break;case ie.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case ie.Date:r=t.visitDate;break;case ie.DateDay:r=t.visitDateDay||t.visitDate;break;case ie.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case ie.Timestamp:r=t.visitTimestamp;break;case ie.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case ie.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case ie.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case ie.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case ie.Time:r=t.visitTime;break;case ie.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case ie.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case ie.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case ie.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case ie.Decimal:r=t.visitDecimal;break;case ie.List:r=t.visitList;break;case ie.Struct:r=t.visitStruct;break;case ie.Union:r=t.visitUnion;break;case ie.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case ie.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case ie.Dictionary:r=t.visitDictionary;break;case ie.Interval:r=t.visitInterval;break;case ie.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case ie.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case ie.FixedSizeList:r=t.visitFixedSizeList;break;case ie.Map:r=t.visitMap}if("function"==typeof r)return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${ie[e]}'`)}function dr(t){switch(t.typeId){case ie.Null:return ie.Null;case ie.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?ie.Int8:ie.Uint8;case 16:return n?ie.Int16:ie.Uint16;case 32:return n?ie.Int32:ie.Uint32;case 64:return n?ie.Int64:ie.Uint64}return ie.Int}case ie.Float:switch(t.precision){case Qt.HALF:return ie.Float16;case Qt.SINGLE:return ie.Float32;case Qt.DOUBLE:return ie.Float64}return ie.Float;case ie.Binary:return ie.Binary;case ie.Utf8:return ie.Utf8;case ie.Bool:return ie.Bool;case ie.Decimal:return ie.Decimal;case ie.Time:switch(t.unit){case ee.SECOND:return ie.TimeSecond;case ee.MILLISECOND:return ie.TimeMillisecond;case ee.MICROSECOND:return ie.TimeMicrosecond;case ee.NANOSECOND:return ie.TimeNanosecond}return ie.Time;case ie.Timestamp:switch(t.unit){case ee.SECOND:return ie.TimestampSecond;case ee.MILLISECOND:return ie.TimestampMillisecond;case ee.MICROSECOND:return ie.TimestampMicrosecond;case ee.NANOSECOND:return ie.TimestampNanosecond}return ie.Timestamp;case ie.Date:switch(t.unit){case te.DAY:return ie.DateDay;case te.MILLISECOND:return ie.DateMillisecond}return ie.Date;case ie.Interval:switch(t.unit){case ne.DAY_TIME:return ie.IntervalDayTime;case ne.YEAR_MONTH:return ie.IntervalYearMonth}return ie.Interval;case ie.Map:return ie.Map;case ie.List:return ie.List;case ie.Struct:return ie.Struct;case ie.Union:switch(t.mode){case Zt.Dense:return ie.DenseUnion;case Zt.Sparse:return ie.SparseUnion}return ie.Union;case ie.FixedSizeBinary:return ie.FixedSizeBinary;case ie.FixedSizeList:return ie.FixedSizeList;case ie.Dictionary:return ie.Dictionary}throw new Error(`Unrecognized type '${ie[t.typeId]}'`)}ur.prototype.visitInt8=null,ur.prototype.visitInt16=null,ur.prototype.visitInt32=null,ur.prototype.visitInt64=null,ur.prototype.visitUint8=null,ur.prototype.visitUint16=null,ur.prototype.visitUint32=null,ur.prototype.visitUint64=null,ur.prototype.visitFloat16=null,ur.prototype.visitFloat32=null,ur.prototype.visitFloat64=null,ur.prototype.visitDateDay=null,ur.prototype.visitDateMillisecond=null,ur.prototype.visitTimestampSecond=null,ur.prototype.visitTimestampMillisecond=null,ur.prototype.visitTimestampMicrosecond=null,ur.prototype.visitTimestampNanosecond=null,ur.prototype.visitTimeSecond=null,ur.prototype.visitTimeMillisecond=null,ur.prototype.visitTimeMicrosecond=null,ur.prototype.visitTimeNanosecond=null,ur.prototype.visitDenseUnion=null,ur.prototype.visitSparseUnion=null,ur.prototype.visitIntervalDayTime=null,ur.prototype.visitIntervalYearMonth=null;const fr=new Float64Array(1),pr=new Uint32Array(fr.buffer);function mr(t){const e=(31744&t)>>10,n=(1023&t)/1024,r=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,e-15)*(1+n)}function gr(t){if(t!=t)return 32256;fr[0]=t;const e=(2147483648&pr[1])>>16&65535;let n=2146435072&pr[1],r=0;return n>=1089470464?pr[0]>0?n=31744:(n=(2080374784&n)>>16,r=(1048575&pr[1])>>10):n<=1056964608?(r=1048576+(1048575&pr[1]),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=512+(1048575&pr[1])>>10),e|n|65535&r}class yr extends ur{}function br(t){return(e,n,r)=>{if(e.setValid(n,null!=r))return t(e,n,r)}}const vr=(t,e,n)=>{t[e]=Math.trunc(n%4294967296),t[e+1]=Math.trunc(n/4294967296)},_r=(t,e,n,r)=>{if(n+1<e.length){const{[n]:i,[n+1]:s}=e;t.set(r.subarray(0,s-i),i)}},wr=({values:t},e,n)=>{t[e]=n},xr=({values:t},e,n)=>{t[e]=n},Sr=({values:t},e,n)=>{t[e]=gr(n)},Ar=({values:t},e,n)=>{((t,e,n)=>{t[e]=Math.trunc(n/864e5)})(t,e,n.valueOf())},Ir=({values:t},e,n)=>{vr(t,2*e,n.valueOf())},Tr=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},Mr=(t,e,n)=>{t.type.unit===te.DAY?Ar(t,e,n):Ir(t,e,n)},kr=({values:t},e,n)=>vr(t,2*e,n/1e3),Cr=({values:t},e,n)=>vr(t,2*e,n),Nr=({values:t},e,n)=>((t,e,n)=>{t[e]=Math.trunc(1e3*n%4294967296),t[e+1]=Math.trunc(1e3*n/4294967296)})(t,2*e,n),Er=({values:t},e,n)=>((t,e,n)=>{t[e]=Math.trunc(1e6*n%4294967296),t[e+1]=Math.trunc(1e6*n/4294967296)})(t,2*e,n),Or=(t,e,n)=>{switch(t.type.unit){case ee.SECOND:return kr(t,e,n);case ee.MILLISECOND:return Cr(t,e,n);case ee.MICROSECOND:return Nr(t,e,n);case ee.NANOSECOND:return Er(t,e,n)}},Dr=({values:t},e,n)=>{t[e]=n},Br=({values:t},e,n)=>{t[e]=n},Lr=({values:t},e,n)=>{t[e]=n},Fr=({values:t},e,n)=>{t[e]=n},Pr=(t,e,n)=>{switch(t.type.unit){case ee.SECOND:return Dr(t,e,n);case ee.MILLISECOND:return Br(t,e,n);case ee.MICROSECOND:return Lr(t,e,n);case ee.NANOSECOND:return Fr(t,e,n)}},Ur=({values:t,stride:e},n,r)=>{t.set(r.subarray(0,e),e*n)},Vr=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Hr.visit(i,t.valueOffsets[e],n)},$r=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Hr.visit(i,e,n)},Rr=(t,e,n)=>{t.type.unit===ne.DAY_TIME?jr(t,e,n):zr(t,e,n)},jr=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},zr=({values:t},e,n)=>{t[e]=12*n[0]+n[1]%12};yr.prototype.visitBool=br((({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)})),yr.prototype.visitInt=br(wr),yr.prototype.visitInt8=br(wr),yr.prototype.visitInt16=br(wr),yr.prototype.visitInt32=br(wr),yr.prototype.visitInt64=br(wr),yr.prototype.visitUint8=br(wr),yr.prototype.visitUint16=br(wr),yr.prototype.visitUint32=br(wr),yr.prototype.visitUint64=br(wr),yr.prototype.visitFloat=br(((t,e,n)=>{switch(t.type.precision){case Qt.HALF:return Sr(t,e,n);case Qt.SINGLE:case Qt.DOUBLE:return xr(t,e,n)}})),yr.prototype.visitFloat16=br(Sr),yr.prototype.visitFloat32=br(xr),yr.prototype.visitFloat64=br(xr),yr.prototype.visitUtf8=br((({values:t,valueOffsets:e},n,r)=>{_r(t,e,n,ye(r))})),yr.prototype.visitBinary=br((({values:t,valueOffsets:e},n,r)=>_r(t,e,n,r))),yr.prototype.visitFixedSizeBinary=br(Tr),yr.prototype.visitDate=br(Mr),yr.prototype.visitDateDay=br(Ar),yr.prototype.visitDateMillisecond=br(Ir),yr.prototype.visitTimestamp=br(Or),yr.prototype.visitTimestampSecond=br(kr),yr.prototype.visitTimestampMillisecond=br(Cr),yr.prototype.visitTimestampMicrosecond=br(Nr),yr.prototype.visitTimestampNanosecond=br(Er),yr.prototype.visitTime=br(Pr),yr.prototype.visitTimeSecond=br(Dr),yr.prototype.visitTimeMillisecond=br(Br),yr.prototype.visitTimeMicrosecond=br(Lr),yr.prototype.visitTimeNanosecond=br(Fr),yr.prototype.visitDecimal=br(Ur),yr.prototype.visitList=br(((t,e,n)=>{const r=t.children[0],i=t.valueOffsets,s=Hr.getVisitFn(r);if(Array.isArray(n))for(let t=-1,a=i[e],o=i[e+1];a<o;)s(r,a++,n[++t]);else for(let t=-1,a=i[e],o=i[e+1];a<o;)s(r,a++,n.get(++t))})),yr.prototype.visitStruct=br(((t,e,n)=>{const r=t.type.children.map((t=>Hr.getVisitFn(t.type))),i=n instanceof Map?(s=e,a=n,(t,e,n,r)=>e&&t(e,s,a.get(n.name))):n instanceof os?((t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(s)))(e,n):Array.isArray(n)?((t,e)=>(n,r,i,s)=>r&&n(r,t,e[s]))(e,n):((t,e)=>(n,r,i,s)=>r&&n(r,t,e[i.name]))(e,n);var s,a;t.type.children.forEach(((e,n)=>i(r[n],t.children[n],e,n)))})),yr.prototype.visitUnion=br(((t,e,n)=>{t.type.mode===Zt.Dense?Vr(t,e,n):$r(t,e,n)})),yr.prototype.visitDenseUnion=br(Vr),yr.prototype.visitSparseUnion=br($r),yr.prototype.visitDictionary=br(((t,e,n)=>{var r;null===(r=t.dictionary)||void 0===r||r.set(t.values[e],n)})),yr.prototype.visitInterval=br(Rr),yr.prototype.visitIntervalDayTime=br(jr),yr.prototype.visitIntervalYearMonth=br(zr),yr.prototype.visitFixedSizeList=br(((t,e,n)=>{const{stride:r}=t,i=t.children[0],s=Hr.getVisitFn(i);if(Array.isArray(n))for(let t=-1,a=e*r;++t<r;)s(i,a+t,n[t]);else for(let t=-1,a=e*r;++t<r;)s(i,a+t,n.get(t))})),yr.prototype.visitMap=br(((t,e,n)=>{const r=t.children[0],{valueOffsets:i}=t,s=Hr.getVisitFn(r);let{[e]:a,[e+1]:o}=i;const c=n instanceof Map?n.entries():Object.entries(n);for(const t of c)if(s(r,a,t),++a>=o)break}));const Hr=new yr,Wr=Symbol.for("parent"),qr=Symbol.for("rowIndex");class Yr{constructor(t,e){return this[Wr]=t,this[qr]=e,new Proxy(this,new Kr)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[qr],e=this[Wr],n=e.type.children,r={};for(let i=-1,s=n.length;++i<s;)r[n[i].name]=yi.visit(e.children[i],t);return r}toString(){return`{${[...this].map((([t,e])=>`${ce(t)}: ${ce(e)}`)).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Gr(this[Wr],this[qr])}}class Gr{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,yi.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Yr.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Wr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[qr]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Kr{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Wr].type.children.map((t=>t.name))}has(t,e){return-1!==t[Wr].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[Wr].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Wr].type.children.findIndex((t=>t.name===e));if(-1!==n){const r=yi.visit(t[Wr].children[n],t[qr]);return Reflect.set(t,e,r),r}}set(t,e,n){const r=t[Wr].type.children.findIndex((t=>t.name===e));return-1!==r?(Hr.visit(t[Wr].children[r],t[qr],n),Reflect.set(t,e,n)):!(!Reflect.has(t,e)&&"symbol"!=typeof e)&&Reflect.set(t,e,n)}}class Xr extends ur{}function Jr(t){return(e,n)=>e.getValid(n)?t(e,n):null}const Zr=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Qr=t=>new Date(t),ti=(t,e,n)=>{if(n+1>=e.length)return null;const r=e[n],i=e[n+1];return t.subarray(r,i)},ei=({values:t},e)=>((t,e)=>Qr(((t,e)=>864e5*t[e])(t,e)))(t,e),ni=({values:t},e)=>((t,e)=>Qr(Zr(t,e)))(t,2*e),ri=({stride:t,values:e},n)=>e[t*n],ii=({values:t},e)=>t[e],si=({values:t},e)=>1e3*Zr(t,2*e),ai=({values:t},e)=>Zr(t,2*e),oi=({values:t},e)=>((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(t,2*e),ci=({values:t},e)=>((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(t,2*e),li=({values:t},e)=>t[e],ui=({values:t},e)=>t[e],hi=({values:t},e)=>t[e],di=({values:t},e)=>t[e],fi=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return yi.visit(r,t.valueOffsets[e])},pi=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return yi.visit(r,e)},mi=({values:t},e)=>t.subarray(2*e,2*(e+1)),gi=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};Xr.prototype.visitNull=Jr(((t,e)=>null)),Xr.prototype.visitBool=Jr((({offset:t,values:e},n)=>{const r=t+n;return 0!=(e[r>>3]&1<<r%8)})),Xr.prototype.visitInt=Jr((({values:t},e)=>t[e])),Xr.prototype.visitInt8=Jr(ri),Xr.prototype.visitInt16=Jr(ri),Xr.prototype.visitInt32=Jr(ri),Xr.prototype.visitInt64=Jr(ii),Xr.prototype.visitUint8=Jr(ri),Xr.prototype.visitUint16=Jr(ri),Xr.prototype.visitUint32=Jr(ri),Xr.prototype.visitUint64=Jr(ii),Xr.prototype.visitFloat=Jr((({type:t,values:e},n)=>t.precision!==Qt.HALF?e[n]:mr(e[n]))),Xr.prototype.visitFloat16=Jr((({stride:t,values:e},n)=>mr(e[t*n]))),Xr.prototype.visitFloat32=Jr(ri),Xr.prototype.visitFloat64=Jr(ri),Xr.prototype.visitUtf8=Jr((({values:t,valueOffsets:e},n)=>{const r=ti(t,e,n);return null!==r?me(r):null})),Xr.prototype.visitBinary=Jr((({values:t,valueOffsets:e},n)=>ti(t,e,n))),Xr.prototype.visitFixedSizeBinary=Jr((({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)))),Xr.prototype.visitDate=Jr(((t,e)=>t.type.unit===te.DAY?ei(t,e):ni(t,e))),Xr.prototype.visitDateDay=Jr(ei),Xr.prototype.visitDateMillisecond=Jr(ni),Xr.prototype.visitTimestamp=Jr(((t,e)=>{switch(t.type.unit){case ee.SECOND:return si(t,e);case ee.MILLISECOND:return ai(t,e);case ee.MICROSECOND:return oi(t,e);case ee.NANOSECOND:return ci(t,e)}})),Xr.prototype.visitTimestampSecond=Jr(si),Xr.prototype.visitTimestampMillisecond=Jr(ai),Xr.prototype.visitTimestampMicrosecond=Jr(oi),Xr.prototype.visitTimestampNanosecond=Jr(ci),Xr.prototype.visitTime=Jr(((t,e)=>{switch(t.type.unit){case ee.SECOND:return li(t,e);case ee.MILLISECOND:return ui(t,e);case ee.MICROSECOND:return hi(t,e);case ee.NANOSECOND:return di(t,e)}})),Xr.prototype.visitTimeSecond=Jr(li),Xr.prototype.visitTimeMillisecond=Jr(ui),Xr.prototype.visitTimeMicrosecond=Jr(hi),Xr.prototype.visitTimeNanosecond=Jr(di),Xr.prototype.visitDecimal=Jr((({values:t,stride:e},n)=>nn.decimal(t.subarray(e*n,e*(n+1))))),Xr.prototype.visitList=Jr(((t,e)=>{const{valueOffsets:n,stride:r,children:i}=t,{[e*r]:s,[e*r+1]:a}=n,o=i[0].slice(s,a-s);return new os([o])})),Xr.prototype.visitStruct=Jr(((t,e)=>new Yr(t,e))),Xr.prototype.visitUnion=Jr(((t,e)=>t.type.mode===Zt.Dense?fi(t,e):pi(t,e))),Xr.prototype.visitDenseUnion=Jr(fi),Xr.prototype.visitSparseUnion=Jr(pi),Xr.prototype.visitDictionary=Jr(((t,e)=>{var n;return null===(n=t.dictionary)||void 0===n?void 0:n.get(t.values[e])})),Xr.prototype.visitInterval=Jr(((t,e)=>t.type.unit===ne.DAY_TIME?mi(t,e):gi(t,e))),Xr.prototype.visitIntervalDayTime=Jr(mi),Xr.prototype.visitIntervalYearMonth=Jr(gi),Xr.prototype.visitFixedSizeList=Jr(((t,e)=>{const{stride:n,children:r}=t,i=r[0].slice(e*n,n);return new os([i])})),Xr.prototype.visitMap=Jr(((t,e)=>{const{valueOffsets:n,children:r}=t,{[e]:i,[e+1]:s}=n,a=r[0];return new _i(a.slice(i,s-i))}));const yi=new Xr,bi=Symbol.for("keys"),vi=Symbol.for("vals");class _i{constructor(t){return this[bi]=new os([t.children[0]]).memoize(),this[vi]=t.children[1],new Proxy(this,new xi)}[Symbol.iterator](){return new wi(this[bi],this[vi])}get size(){return this[bi].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[bi],e=this[vi],n={};for(let r=-1,i=t.length;++r<i;)n[t.get(r)]=yi.visit(e,r);return n}toString(){return`{${[...this].map((([t,e])=>`${ce(t)}: ${ce(e)}`)).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class wi{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),yi.visit(this.vals,t)]})}}class xi{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[bi].toArray().map(String)}has(t,e){return t[bi].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[bi].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[bi].indexOf(e);if(-1!==n){const r=yi.visit(Reflect.get(t,vi),n);return Reflect.set(t,e,r),r}}set(t,e,n){const r=t[bi].indexOf(e);return-1!==r?(Hr.visit(Reflect.get(t,vi),r,n),Reflect.set(t,e,n)):!!Reflect.has(t,e)&&Reflect.set(t,e,n)}}let Si;function Ai(t,e,n,r){const{length:i=0}=t;let s="number"!=typeof e?0:e,a="number"!=typeof n?i:n;return s<0&&(s=(s%i+i)%i),a<0&&(a=(a%i+i)%i),a<s&&(Si=s,s=a,a=Si),a>i&&(a=i),r?r(t,s,a):[s,a]}Object.defineProperties(_i.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[bi]:{writable:!0,enumerable:!1,configurable:!1,value:null},[vi]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const Ii=t=>t!=t;function Ti(t){if("object"!=typeof t||null===t)return Ii(t)?Ii:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let n=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do{if(t[n]!==e[n])return!1}while(++n<r);return!0}(t,e):t instanceof Map?function(t){let e=-1;const n=[];for(const r of t.values())n[++e]=Ti(r);return Mi(n)}(t):Array.isArray(t)?function(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=Ti(t[n]);return Mi(e)}(t):t instanceof os?function(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=Ti(t.get(n));return Mi(e)}(t):function(t,e=!1){const n=Object.keys(t);if(!e&&0===n.length)return()=>!1;const r=[];for(let e=-1,i=n.length;++e<i;)r[e]=Ti(t[n[e]]);return Mi(r,n)}(t,!0)}function Mi(t,e){return n=>{if(!n||"object"!=typeof n)return!1;switch(n.constructor){case Array:return function(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}(t,n);case Map:return ki(t,n,n.keys());case _i:case Yr:case Object:case void 0:return ki(t,n,e||Object.keys(n))}return n instanceof os&&function(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}(t,n)}}function ki(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let a=0;const o=t.length;let c=s.next(),l=r.next(),u=i.next();for(;a<o&&!l.done&&!u.done&&!c.done&&l.value===u.value&&t[a](c.value);++a,l=r.next(),u=i.next(),c=s.next());return!!(a===o&&l.done&&u.done&&c.done)||(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}class Ci{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Ni(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function Ei(t){return t.reduce(((t,e,n)=>(t[n+1]=t[n]+e.length,t)),new Uint32Array(t.length+1))}function Oi(t,e,n,r){const i=[];for(let s=-1,a=t.length;++s<a;){const a=t[s],o=e[s],{length:c}=a;if(o>=r)break;if(n>=o+c)continue;if(o>=n&&o+c<=r){i.push(a);continue}const l=Math.max(0,n-o),u=Math.min(r-o,c);i.push(a.slice(l,u-l))}return 0===i.length&&i.push(t[0].slice(0,0)),i}function Di(t,e,n,r){let i=0,s=0,a=e.length-1;do{if(i>=a-1)return n<e[a]?r(t,i,n-e[i]):null;s=i+Math.trunc(.5*(a-i)),n<e[s]?a=s:i=s}while(i<a)}function Bi(t,e){return t.getValid(e)}function Li(t){function e(e,n,r){return t(e[n],r)}return function(t){return Di(this.data,this._offsets,t,e)}}function Fi(t){let e;function n(n,r,i){return t(n[r],i,e)}return function(t,r){const i=this.data;e=r;const s=Di(i,this._offsets,t,n);return e=void 0,s}}function Pi(t){let e;function n(n,r,i){let s=i,a=0,o=0;for(let i=r-1,c=n.length;++i<c;){const r=n[i];if(~(a=t(r,e,s)))return o+a;s=0,o+=r.length}return-1}return function(t,r){e=t;const i=this.data,s="number"!=typeof r?n(i,0,0):Di(i,this._offsets,r,n);return e=void 0,s}}function Ui(t,e,n,r){return 0!=(n&1<<r)}function Vi(t,e,n,r){return(n&1<<r)>>r}function $i(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8==0?n.subarray(t>>3):Ri(new ji(n,t,e,null,Ui)).subarray(0,r)),i}return n}function Ri(t){const e=[];let n=0,r=0,i=0;for(const s of t)s&&(i|=1<<r),8==++r&&(e[n++]=i,i=r=0);(0===n||r>0)&&(e[n++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class ji{constructor(t,e,n,r,i){this.bytes=t,this.length=n,this.context=r,this.get=i,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function zi(t,e,n){if(n-e<=0)return 0;if(n-e<8){let r=0;for(const i of new ji(t,e,n-e,t,Vi))r+=i;return r}const r=n>>3<<3,i=e+(e%8==0?0:8-e%8);return zi(t,e,i)+zi(t,r,n)+function(t,e,n){let r=0,i=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),a=void 0===n?t.byteLength:i+n;for(;a-i>=4;)r+=Hi(s.getUint32(i)),i+=4;for(;a-i>=2;)r+=Hi(s.getUint16(i)),i+=2;for(;a-i>=1;)r+=Hi(s.getUint8(i)),i+=1;return r}(t,i>>3,r-i>>3)}function Hi(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Wi extends ur{}function qi(t,e,n){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of new ji(n,t.offset+(e||0),t.length,n,Ui)){if(!i)return r;++r}return-1}(t,n);const r=yi.getVisitFn(t),i=Ti(e);for(let e=(n||0)-1,s=t.length;++e<s;)if(i(r(t,e)))return e;return-1}function Yi(t,e,n){const r=yi.getVisitFn(t),i=Ti(e);for(let e=(n||0)-1,s=t.length;++e<s;)if(i(r(t,e)))return e;return-1}Wi.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Wi.prototype.visitBool=qi,Wi.prototype.visitInt=qi,Wi.prototype.visitInt8=qi,Wi.prototype.visitInt16=qi,Wi.prototype.visitInt32=qi,Wi.prototype.visitInt64=qi,Wi.prototype.visitUint8=qi,Wi.prototype.visitUint16=qi,Wi.prototype.visitUint32=qi,Wi.prototype.visitUint64=qi,Wi.prototype.visitFloat=qi,Wi.prototype.visitFloat16=qi,Wi.prototype.visitFloat32=qi,Wi.prototype.visitFloat64=qi,Wi.prototype.visitUtf8=qi,Wi.prototype.visitBinary=qi,Wi.prototype.visitFixedSizeBinary=qi,Wi.prototype.visitDate=qi,Wi.prototype.visitDateDay=qi,Wi.prototype.visitDateMillisecond=qi,Wi.prototype.visitTimestamp=qi,Wi.prototype.visitTimestampSecond=qi,Wi.prototype.visitTimestampMillisecond=qi,Wi.prototype.visitTimestampMicrosecond=qi,Wi.prototype.visitTimestampNanosecond=qi,Wi.prototype.visitTime=qi,Wi.prototype.visitTimeSecond=qi,Wi.prototype.visitTimeMillisecond=qi,Wi.prototype.visitTimeMicrosecond=qi,Wi.prototype.visitTimeNanosecond=qi,Wi.prototype.visitDecimal=qi,Wi.prototype.visitList=qi,Wi.prototype.visitStruct=qi,Wi.prototype.visitUnion=qi,Wi.prototype.visitDenseUnion=Yi,Wi.prototype.visitSparseUnion=Yi,Wi.prototype.visitDictionary=qi,Wi.prototype.visitInterval=qi,Wi.prototype.visitIntervalDayTime=qi,Wi.prototype.visitIntervalYearMonth=qi,Wi.prototype.visitFixedSizeList=qi,Wi.prototype.visitMap=qi;const Gi=new Wi;class Ki extends ur{}function Xi(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===ie.Timestamp||e instanceof In&&64!==e.bitWidth||e instanceof Wn&&64!==e.bitWidth||e instanceof Bn&&e.precision!==Qt.HALF))return new Ci(t.data.length,(e=>{const n=t.data[e];return n.values.subarray(0,n.length)[Symbol.iterator]()}));let n=0;return new Ci(t.data.length,(e=>{const r=t.data[e].length,i=t.slice(n,n+r);return n+=r,new Ji(i)}))}class Ji{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ki.prototype.visitNull=Xi,Ki.prototype.visitBool=Xi,Ki.prototype.visitInt=Xi,Ki.prototype.visitInt8=Xi,Ki.prototype.visitInt16=Xi,Ki.prototype.visitInt32=Xi,Ki.prototype.visitInt64=Xi,Ki.prototype.visitUint8=Xi,Ki.prototype.visitUint16=Xi,Ki.prototype.visitUint32=Xi,Ki.prototype.visitUint64=Xi,Ki.prototype.visitFloat=Xi,Ki.prototype.visitFloat16=Xi,Ki.prototype.visitFloat32=Xi,Ki.prototype.visitFloat64=Xi,Ki.prototype.visitUtf8=Xi,Ki.prototype.visitBinary=Xi,Ki.prototype.visitFixedSizeBinary=Xi,Ki.prototype.visitDate=Xi,Ki.prototype.visitDateDay=Xi,Ki.prototype.visitDateMillisecond=Xi,Ki.prototype.visitTimestamp=Xi,Ki.prototype.visitTimestampSecond=Xi,Ki.prototype.visitTimestampMillisecond=Xi,Ki.prototype.visitTimestampMicrosecond=Xi,Ki.prototype.visitTimestampNanosecond=Xi,Ki.prototype.visitTime=Xi,Ki.prototype.visitTimeSecond=Xi,Ki.prototype.visitTimeMillisecond=Xi,Ki.prototype.visitTimeMicrosecond=Xi,Ki.prototype.visitTimeNanosecond=Xi,Ki.prototype.visitDecimal=Xi,Ki.prototype.visitList=Xi,Ki.prototype.visitStruct=Xi,Ki.prototype.visitUnion=Xi,Ki.prototype.visitDenseUnion=Xi,Ki.prototype.visitSparseUnion=Xi,Ki.prototype.visitDictionary=Xi,Ki.prototype.visitInterval=Xi,Ki.prototype.visitIntervalDayTime=Xi,Ki.prototype.visitIntervalYearMonth=Xi,Ki.prototype.visitFixedSizeList=Xi,Ki.prototype.visitMap=Xi;const Zi=new Ki,Qi=(t,e)=>t+e;class ts extends ur{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===ee.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,n)=>t+rs.visit(n,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,n)=>t+rs.visit(n,e)),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+((null===(n=t.dictionary)||void 0===n?void 0:n.getByteLength(t.values[e]))||0)}}const es=({type:t,children:e,typeIds:n,valueOffsets:r},i)=>{const s=t.typeIdToChildIndex[n[i]];return 8+rs.visit(e[s],r[i])},ns=({children:t},e)=>4+rs.visitMany(t,t.map((()=>e))).reduce(Qi,0);ts.prototype.visitUtf8=({valueOffsets:t},e)=>t[e+1]-t[e]+8,ts.prototype.visitBinary=({valueOffsets:t},e)=>t[e+1]-t[e]+8,ts.prototype.visitList=({valueOffsets:t,stride:e,children:n},r)=>{const i=n[0],{[r*e]:s}=t,{[r*e+1]:a}=t,o=rs.getVisitFn(i.type),c=i.slice(s,a-s);let l=8;for(let t=-1,e=a-s;++t<e;)l+=o(c,t);return l},ts.prototype.visitFixedSizeList=({stride:t,children:e},n)=>{const r=e[0],i=r.slice(n*t,t),s=rs.getVisitFn(r.type);let a=0;for(let t=-1,e=i.length;++t<e;)a+=s(i,t);return a},ts.prototype.visitUnion=(t,e)=>t.type.mode===Zt.Dense?es(t,e):ns(t,e),ts.prototype.visitDenseUnion=es,ts.prototype.visitSparseUnion=ns;const rs=new ts;var is;const ss={},as={};class os{constructor(t){var e,n,r;const i=t[0]instanceof os?t.flatMap((t=>t.data)):t;if(0===i.length||i.some((t=>!(t instanceof ls))))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=i[0])||void 0===e?void 0:e.type;switch(i.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:n,byteLength:r}=ss[s.typeId],a=i[0];this.isValid=t=>Bi(a,t),this.get=e=>t(a,e),this.set=(t,n)=>e(a,t,n),this.indexOf=t=>n(a,t),this.getByteLength=t=>r(a,t),this._offsets=[0,a.length];break}default:Object.setPrototypeOf(this,as[s.typeId]),this._offsets=Ei(i)}this.data=i,this.type=s,this.stride=lr(s),this.numChildren=null!==(r=null===(n=s.children)||void 0===n?void 0:n.length)&&void 0!==r?r:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=Ni(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${ie[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Zi.visit(this)}concat(...t){return new os(this.data.concat(t.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new os(Ai(this,t,e,(({data:t,_offsets:e},n,r)=>Oi(t,e,n,r))))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:r,ArrayType:i}=this;switch(t.typeId){case ie.Int:case ie.Float:case ie.Decimal:case ie.Time:case ie.Timestamp:switch(e.length){case 0:return new i;case 1:return e[0].values.subarray(0,n*r);default:return e.reduce(((t,{values:e})=>(t.array.set(e,t.offset),t.offset+=e.length,t)),{array:new i(n*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new os(this.data.map((({children:e})=>e[t]))):null}get isMemoized(){return!!Sn.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Sn.isDictionary(this.type)){const t=new cs(this.data[0].dictionary),e=this.data.map((e=>{const n=e.clone();return n.dictionary=t,n}));return new os(e)}return new cs(this)}unmemoize(){if(Sn.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const n=e.clone();return n.dictionary=t,n}));return new os(e)}return this}}is=Symbol.toStringTag,os[is]=(t=>{t.type=Sn.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(ie).map((t=>ie[t])).filter((t=>"number"==typeof t&&t!==ie.NONE));for(const n of e){const e=yi.getVisitFnByTypeId(n),r=Hr.getVisitFnByTypeId(n),i=Gi.getVisitFnByTypeId(n),s=rs.getVisitFnByTypeId(n);ss[n]={get:e,set:r,indexOf:i,byteLength:s},as[n]=Object.create(t,{isValid:{value:Li(Bi)},get:{value:Li(yi.getVisitFnByTypeId(n))},set:{value:Fi(Hr.getVisitFnByTypeId(n))},indexOf:{value:Pi(Gi.getVisitFnByTypeId(n))},getByteLength:{value:Li(rs.getVisitFnByTypeId(n))}})}return"Vector"})(os.prototype);class cs extends os{constructor(t){super(t.data);const e=this.get,n=this.set,r=this.slice,i=new Array(this.length);Object.defineProperty(this,"get",{value(t){const n=i[t];if(void 0!==n)return n;const r=e.call(this,t);return i[t]=r,r}}),Object.defineProperty(this,"set",{value(t,e){n.call(this,t,e),i[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new cs(r.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new os(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class ls{constructor(t,e,n,r,i,s=[],a){let o;this.type=t,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1)),i instanceof ls?(this.stride=i.stride,this.values=i.values,this.typeIds=i.typeIds,this.nullBitmap=i.nullBitmap,this.valueOffsets=i.valueOffsets):(this.stride=lr(t),i&&((o=i[0])&&(this.valueOffsets=o),(o=i[1])&&(this.values=o),(o=i[2])&&(this.nullBitmap=o),(o=i[3])&&(this.typeIds=o))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:r,typeIds:i}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-zi(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!=(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:n,offset:r}=this,i=r+t>>3,s=(r+t)%8,a=n[i]>>s&1;return e?0===a&&(n[i]|=1<<s,this._nullCount=this.nullCount+1):1===a&&(n[i]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,n=this.length,r=this._nullCount,i=this,s=this.children){return new ls(t,e,n,r,i,s,this.dictionary)}slice(t,e){const{stride:n,typeId:r,children:i}=this,s=+(0===this._nullCount)-1,a=16===r?n:1,o=this._sliceBuffers(t,e,n,r);return this.clone(this.type,this.offset+t,e,s,o,0===i.length||this.valueOffsets?i:this._sliceChildren(i,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===ie.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);r[e>>3]=(1<<e-(-8&e))-1,n>0&&r.set($i(this.offset,e,this.nullBitmap),0);const i=this.buffers;return i[se.VALIDITY]=r,this.clone(this.type,0,t,n+(t-e),i)}_sliceBuffers(t,e,n,r){let i;const{buffers:s}=this;return(i=s[se.TYPE])&&(s[se.TYPE]=i.subarray(t,t+e)),(i=s[se.OFFSET])&&(s[se.OFFSET]=i.subarray(t,t+e+1))||(i=s[se.DATA])&&(s[se.DATA]=6===r?i:i.subarray(n*t,n*(t+e))),s}_sliceChildren(t,e,n){return t.map((t=>t.slice(e,n)))}}ls.prototype.children=Object.freeze([]);class us extends ur{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:n=0,length:r=0}=t;return new ls(e,n,r,0)}visitBool(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length>>3,nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitInt(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitFloat(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitUtf8(t){const{type:e,offset:n=0}=t,r=je(t.data),i=je(t.nullBitmap),s=Re(t.valueOffsets),{length:a=s.length-1,nullCount:o=(t.nullBitmap?-1:0)}=t;return new ls(e,n,a,o,[s,r,i])}visitBinary(t){const{type:e,offset:n=0}=t,r=je(t.data),i=je(t.nullBitmap),s=Re(t.valueOffsets),{length:a=s.length-1,nullCount:o=(t.nullBitmap?-1:0)}=t;return new ls(e,n,a,o,[s,r,i])}visitFixedSizeBinary(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length/lr(e),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitDate(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length/lr(e),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitTimestamp(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length/lr(e),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitTime(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length/lr(e),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitDecimal(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length/lr(e),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitList(t){const{type:e,offset:n=0,child:r}=t,i=je(t.nullBitmap),s=Re(t.valueOffsets),{length:a=s.length-1,nullCount:o=(t.nullBitmap?-1:0)}=t;return new ls(e,n,a,o,[s,void 0,i],[r])}visitStruct(t){const{type:e,offset:n=0,children:r=[]}=t,i=je(t.nullBitmap),{length:s=r.reduce(((t,{length:e})=>Math.max(t,e)),0),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,void 0,i],r)}visitUnion(t){const{type:e,offset:n=0,children:r=[]}=t,i=je(t.nullBitmap),s=$e(e.ArrayType,t.typeIds),{length:a=s.length,nullCount:o=(t.nullBitmap?-1:0)}=t;if(Sn.isSparseUnion(e))return new ls(e,n,a,o,[void 0,void 0,i,s],r);const c=Re(t.valueOffsets);return new ls(e,n,a,o,[c,void 0,i,s],r)}visitDictionary(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.indices.ArrayType,t.data),{dictionary:s=new os([(new us).visit({type:e.dictionary})])}=t,{length:a=i.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new ls(e,n,a,o,[void 0,i,r],[],s)}visitInterval(t){const{type:e,offset:n=0}=t,r=je(t.nullBitmap),i=$e(e.ArrayType,t.data),{length:s=i.length/lr(e),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,i,r])}visitFixedSizeList(t){const{type:e,offset:n=0,child:r=(new us).visit({type:e.valueType})}=t,i=je(t.nullBitmap),{length:s=r.length/lr(e),nullCount:a=(t.nullBitmap?-1:0)}=t;return new ls(e,n,s,a,[void 0,void 0,i],[r])}visitMap(t){const{type:e,offset:n=0,child:r=(new us).visit({type:e.childType})}=t,i=je(t.nullBitmap),s=Re(t.valueOffsets),{length:a=s.length-1,nullCount:o=(t.nullBitmap?-1:0)}=t;return new ls(e,n,a,o,[s,void 0,i],[r])}}function hs(t){return(new us).visit(t)}function ds(t,e=1){return(t*e+63&-64||64)/e}function fs(t,e,n=t.BYTES_PER_ELEMENT){return new t(ds(e,n))}function ps(t){return t instanceof ls?t:new ls(t.type,0,t.length,t.nulls,t.buffers,null,t.dict)}const ms=new TextEncoder,gs=ms.encodeInto?function(t,e,n){return ms.encodeInto(n,t.subarray(e)).written}:function(t,e,n){const r=ms.encode(n);return t.set(r,e),r.length};function ys(t,e){const n=fs(t.ArrayType,e);return{set(t,e){n[e]=t},data:()=>({type:t,length:e,buffers:[null,n]})}}function bs(t,e){const n=fs(t.ArrayType,e/8);return{set(t,e){t&&(n[e>>3]|=1<<e%8)},data:()=>({type:t,length:e,buffers:[null,n]})}}function vs(t,e){const n=fs(t.ArrayType,e);return{set(t,e){n[e]=t/864e5|0},data:()=>({type:t,length:e,buffers:[null,n]})}}function _s(t,e){const n=fs(t.ArrayType,e<<1);return{set(t,e){const r=e<<1;n[r]=t%4294967296|0,n[r+1]=t/4294967296|0},data:()=>({type:t,length:e,buffers:[null,n]})}}const ws=(t,e)=>(t*e+63&-64||64)/e;class xs{constructor(t,e=1){this.buffer=t,this.stride=e,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.trunc(t.length/e))}get byteLength(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(t,e){return this}append(t){return this.set(this.length,t)}reserve(t){if(t>0){this.length+=t;const e=this.stride,n=this.length*e,r=this.buffer.length;n>=r&&this._resize(ws(0===r?1*n:2*n,this.BYTES_PER_ELEMENT))}return this}flush(t=this.length){t=ws(t*this.stride,this.BYTES_PER_ELEMENT);const e=((t,e=0)=>t.length>=e?t.subarray(0,e):Ue(new t.constructor(e),t,0))(this.buffer,t);return this.clear(),e}clear(){return this.length=0,this._resize(0),this}_resize(t){return this.buffer=Ue(new this.ArrayType(t),this.buffer)}}xs.prototype.offset=0;class Ss extends xs{last(){return this.get(this.length-1)}get(t){return this.buffer[t]}set(t,e){return this.reserve(t-this.length+1),this.buffer[t*this.stride]=e,this}}class As extends Ss{constructor(t=new Uint8Array(0)){super(t,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(t){return this.buffer[t>>3]>>t%8&1}set(t,e){const{buffer:n}=this.reserve(t-this.length+1),r=t>>3,i=t%8,s=n[r]>>i&1;return e?0===s&&(n[r]|=1<<i,++this.numValid):1===s&&(n[r]&=~(1<<i),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class Is extends Ss{constructor(t=new Int32Array(1)){super(t,1)}append(t){return this.set(this.length-1,t)}set(t,e){const n=this.length-1,r=this.reserve(t-n+1).buffer;return n<t++&&r.fill(r[n],n,t),r[t]=r[t-1]+e,this}flush(t=this.length-1){return t>this.length&&this.set(t-1,0),super.flush(t+1)}}class Ts{constructor({type:t,nullValues:e}){this.length=0,this.finished=!1,this.type=t,this.children=[],this.nullValues=e,this.stride=lr(t),this._nulls=new As,e&&e.length>0&&(this._isValid=function(t){if(!t||t.length<=0)return function(t){return!0};let e="";const n=t.filter((t=>t==t));return n.length>0&&(e=`\n    switch (x) {${n.map((t=>`\n        case ${function(t){return"bigint"!=typeof t?ce(t):ve?`${ce(t)}n`:`"${ce(t)}"`}(t)}:`)).join("")}\n            return false;\n    }`),t.length!==n.length&&(e=`if (x !== x) return false;\n${e}`),new Function("x",`${e}\nreturn true;`)}(e))}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t){throw new Error('"throughDOM" not available in this environment')}toVector(){return new os([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let t=0;const{_offsets:e,_values:n,_nulls:r,_typeIds:i,children:s}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),i&&(t+=i.byteLength),s.reduce(((t,e)=>t+e.byteLength),t)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let t=0;return this._offsets&&(t+=this._offsets.reservedByteLength),this._values&&(t+=this._values.reservedByteLength),this._nulls&&(t+=this._nulls.reservedByteLength),this._typeIds&&(t+=this._typeIds.reservedByteLength),this.children.reduce(((t,e)=>t+e.reservedByteLength),t)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(t){return this.set(this.length,t)}isValid(t){return this._isValid(t)}set(t,e){return this.setValid(t,this.isValid(e))&&this.setValue(t,e),this}setValue(t,e){this._setValue(this,t,e)}setValid(t,e){return this.length=this._nulls.set(t,+e).length,e}addChild(t,e=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(t){return this.children[t]||null}flush(){let t,e,n,r;const{type:i,length:s,nullCount:a,_typeIds:o,_offsets:c,_values:l,_nulls:u}=this;(e=null==o?void 0:o.flush(s))?r=null==c?void 0:c.flush(s):t=(r=null==c?void 0:c.flush(s))?null==l?void 0:l.flush(c.last()):null==l?void 0:l.flush(s),a>0&&(n=null==u?void 0:u.flush(s));const h=this.children.map((t=>t.flush()));return this.clear(),hs({type:i,length:s,nullCount:a,children:h,child:h[0],data:t,typeIds:e,nullBitmap:n,valueOffsets:r})}finish(){this.finished=!0;for(const t of this.children)t.finish();return this}clear(){var t,e,n,r;this.length=0,null===(t=this._nulls)||void 0===t||t.clear(),null===(e=this._values)||void 0===e||e.clear(),null===(n=this._offsets)||void 0===n||n.clear(),null===(r=this._typeIds)||void 0===r||r.clear();for(const t of this.children)t.clear();return this}}Ts.prototype.length=1,Ts.prototype.stride=1,Ts.prototype.children=null,Ts.prototype.finished=!1,Ts.prototype.nullValues=null,Ts.prototype._isValid=()=>!0;class Ms extends Ts{constructor(t){super(t),this._values=new Ss(new this.ArrayType(0),this.stride)}setValue(t,e){const n=this._values;return n.reserve(t-n.length+1),super.setValue(t,e)}}class ks extends Ts{constructor(t){super(t),this._pendingLength=0,this._offsets=new Is}setValue(t,e){const n=this._pending||(this._pending=new Map),r=n.get(t);r&&(this._pendingLength-=r.length),this._pendingLength+=e instanceof _i?e[bi].length:e.length,n.set(t,e)}setValid(t,e){return!!super.setValid(t,e)||((this._pending||(this._pending=new Map)).set(t,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const t=this._pending,e=this._pendingLength;return this._pendingLength=0,this._pending=void 0,t&&t.size>0&&this._flushPending(t,e),this}}class Cs extends ks{constructor(t){super(t),this._values=new xs(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,je(e))}_flushPending(t,e){const n=this._offsets,r=this._values.reserve(e).buffer;let i=0;for(const[e,s]of t)if(void 0===s)n.set(e,0);else{const t=s.length;r.set(s,i),n.set(e,t),i+=t}}}class Ns extends Ts{constructor(t){super(t),this._values=new As}setValue(t,e){this._values.set(t,+e)}}class Es extends Ms{}Es.prototype._setValue=Mr;class Os extends Es{}Os.prototype._setValue=Ar;class Ds extends Es{}Ds.prototype._setValue=Ir;class Bs extends Ms{}Bs.prototype._setValue=Ur;class Ls extends Ts{constructor({type:t,nullValues:e,dictionaryHashFunction:n}){super({type:new cr(t.dictionary,t.indices,t.id,t.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Sa({type:this.type.indices,nullValues:e}),this.dictionary=Sa({type:this.type.dictionary,nullValues:null}),"function"==typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(t){return this.indices.isValid(t)}setValid(t,e){const n=this.indices;return e=n.setValid(t,e),this.length=n.length,e}setValue(t,e){const n=this._keysToIndices,r=this.valueToKey(e);let i=n[r];return void 0===i&&(n[r]=i=this._dictionaryOffset+this.dictionary.append(e).length-1),this.indices.setValue(t,i)}flush(){const t=this.type,e=this._dictionary,n=this.dictionary.toVector(),r=this.indices.flush().clone(t);return r.dictionary=e?e.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=r.dictionary,this.clear(),r}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(t){return"string"==typeof t?t:`${t}`}}class Fs extends Ms{}Fs.prototype._setValue=Tr;class Ps{constructor(t=[],e,n){this.fields=t||[],this.metadata=e||new Map,n||(n=$s(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return`Schema<{ ${this.fields.map(((t,e)=>`${e}: ${t}`)).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter((t=>e.has(t.name)));return new Ps(n,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Ps(e,this.metadata)}assign(...t){const e=t[0]instanceof Ps?t[0]:Array.isArray(t[0])?new Ps(t[0]):new Ps(t),n=[...this.fields],r=Vs(Vs(new Map,this.metadata),e.metadata),i=e.fields.filter((t=>{const e=n.findIndex((e=>e.name===t.name));return!~e||(n[e]=t.clone({metadata:Vs(Vs(new Map,n[e].metadata),t.metadata)}))&&!1})),s=$s(i,new Map);return new Ps([...n,...i],r,new Map([...this.dictionaries,...s]))}}Ps.prototype.fields=null,Ps.prototype.metadata=null,Ps.prototype.dictionaries=null;class Us{constructor(t,e,n=!1,r){this.name=t,this.type=e,this.nullable=n,this.metadata=r||new Map}static new(...t){let[e,n,r,i]=t;return t[0]&&"object"==typeof t[0]&&(({name:e}=t[0]),void 0===n&&(n=t[0].type),void 0===r&&(r=t[0].nullable),void 0===i&&(i=t[0].metadata)),new Us(`${e}`,n,r,i)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,r,i]=t;return t[0]&&"object"==typeof t[0]?({name:e=this.name,type:n=this.type,nullable:r=this.nullable,metadata:i=this.metadata}=t[0]):[e=this.name,n=this.type,r=this.nullable,i=this.metadata]=t,Us.new(e,n,r,i)}}function Vs(t,e){return new Map([...t||new Map,...e||new Map])}function $s(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const r=t[n].type;if(Sn.isDictionary(r))if(e.has(r.id)){if(e.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(r.id,r.dictionary);r.children&&r.children.length>0&&$s(r.children,e)}return e}Us.prototype.type=null,Us.prototype.name=null,Us.prototype.nullable=null,Us.prototype.metadata=null;class Rs extends Ts{setValue(t,e){const[n]=this.children,r=t*this.stride;for(let t=-1,i=e.length;++t<i;)n.set(r+t,e[t])}addChild(t,e="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const n=this.children.push(t);return this.type=new ir(this.type.listSize,new Us(e,t.type,!0)),n}}class js extends Ms{setValue(t,e){this._values.set(t,e)}}class zs extends js{setValue(t,e){super.setValue(t,gr(e))}}class Hs extends js{}class Ws extends js{}class qs extends Ms{}qs.prototype._setValue=Rr;class Ys extends qs{}Ys.prototype._setValue=jr;class Gs extends qs{}Gs.prototype._setValue=zr;class Ks extends Ms{setValue(t,e){this._values.set(t,e)}}class Xs extends Ks{}class Js extends Ks{}class Zs extends Ks{}class Qs extends Ks{}class ta extends Ks{}class ea extends Ks{}class na extends Ks{}class ra extends Ks{}class ia extends ks{constructor(t){super(t),this._offsets=new Is}addChild(t,e="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new tr(new Us(e,t.type,!0)),this.numChildren-1}_flushPending(t){const e=this._offsets,[n]=this.children;for(const[r,i]of t)if(void 0===i)e.set(r,0);else{const t=i.length,s=e.set(r,t).buffer[r];for(let e=-1;++e<t;)n.set(s+e,i[e])}}}class sa extends ks{set(t,e){return super.set(t,e)}setValue(t,e){const n=e instanceof Map?e:new Map(Object.entries(e)),r=this._pending||(this._pending=new Map),i=r.get(t);i&&(this._pendingLength-=i.size),this._pendingLength+=n.size,r.set(t,n)}addChild(t,e=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=t,this.type=new sr(new Us(e,t.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(t){const e=this._offsets,[n]=this.children;for(const[r,i]of t)if(void 0===i)e.set(r,0);else{let{[r]:t,[r+1]:s}=e.set(r,i.size).buffer;for(const e of i.entries())if(n.set(t,e),++t>=s)break}}}class aa extends Ts{setValue(t,e){}setValid(t,e){return this.length=Math.max(t+1,this.length),e}}class oa extends Ts{setValue(t,e){const{children:n,type:r}=this;switch(Array.isArray(e)||e.constructor){case!0:return r.children.forEach(((r,i)=>n[i].set(t,e[i])));case Map:return r.children.forEach(((r,i)=>n[i].set(t,e.get(r.name))));default:return r.children.forEach(((r,i)=>n[i].set(t,e[r.name])))}}setValid(t,e){return super.setValid(t,e)||this.children.forEach((n=>n.setValid(t,e))),e}addChild(t,e=`${this.numChildren}`){const n=this.children.push(t);return this.type=new er([...this.type.children,new Us(e,t.type,!0)]),n}}class ca extends Ms{}ca.prototype._setValue=Or;class la extends ca{}la.prototype._setValue=kr;class ua extends ca{}ua.prototype._setValue=Cr;class ha extends ca{}ha.prototype._setValue=Nr;class da extends ca{}da.prototype._setValue=Er;class fa extends Ms{}fa.prototype._setValue=Pr;class pa extends fa{}pa.prototype._setValue=Dr;class ma extends fa{}ma.prototype._setValue=Br;class ga extends fa{}ga.prototype._setValue=Lr;class ya extends fa{}ya.prototype._setValue=Fr;class ba extends Ts{constructor(t){super(t),this._typeIds=new Ss(new Int8Array(0),1),"function"==typeof t.valueToChildTypeId&&(this._valueToChildTypeId=t.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(t,e){return this.set(this.length,t,e)}set(t,e,n){return void 0===n&&(n=this._valueToChildTypeId(this,e,t)),this.setValid(t,this.isValid(e))&&this.setValue(t,e,n),this}setValue(t,e,n){this._typeIds.set(t,n);const r=this.type.typeIdToChildIndex[n],i=this.children[r];null==i||i.set(t,e)}addChild(t,e=`${this.children.length}`){const n=this.children.push(t),{type:{children:r,mode:i,typeIds:s}}=this,a=[...r,new Us(e,t.type)];return this.type=new nr(i,[...s,n],a),n}_valueToChildTypeId(t,e,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class va extends ba{}class _a extends ba{constructor(t){super(t),this._offsets=new Ss(new Int32Array(0))}setValue(t,e,n){const r=this._typeIds.set(t,n).buffer[t],i=this.getChildAt(this.type.typeIdToChildIndex[r]),s=this._offsets.set(t,i.length).buffer[t];null==i||i.set(s,e)}}class wa extends ks{constructor(t){super(t),this._values=new xs(new Uint8Array(0))}get byteLength(){let t=this._pendingLength+4*this.length;return this._offsets&&(t+=this._offsets.byteLength),this._values&&(t+=this._values.byteLength),this._nulls&&(t+=this._nulls.byteLength),t}setValue(t,e){return super.setValue(t,ye(e))}_flushPending(t,e){}}wa.prototype._flushPending=Cs.prototype._flushPending;const xa=new class extends ur{visitNull(){return aa}visitBool(){return Ns}visitInt(){return Ks}visitInt8(){return Xs}visitInt16(){return Js}visitInt32(){return Zs}visitInt64(){return Qs}visitUint8(){return ta}visitUint16(){return ea}visitUint32(){return na}visitUint64(){return ra}visitFloat(){return js}visitFloat16(){return zs}visitFloat32(){return Hs}visitFloat64(){return Ws}visitUtf8(){return wa}visitBinary(){return Cs}visitFixedSizeBinary(){return Fs}visitDate(){return Es}visitDateDay(){return Os}visitDateMillisecond(){return Ds}visitTimestamp(){return ca}visitTimestampSecond(){return la}visitTimestampMillisecond(){return ua}visitTimestampMicrosecond(){return ha}visitTimestampNanosecond(){return da}visitTime(){return fa}visitTimeSecond(){return pa}visitTimeMillisecond(){return ma}visitTimeMicrosecond(){return ga}visitTimeNanosecond(){return ya}visitDecimal(){return Bs}visitList(){return ia}visitStruct(){return oa}visitUnion(){return ba}visitDenseUnion(){return _a}visitSparseUnion(){return va}visitDictionary(){return Ls}visitInterval(){return qs}visitIntervalDayTime(){return Ys}visitIntervalYearMonth(){return Gs}visitFixedSizeList(){return Rs}visitMap(){return sa}};function Sa(t){const e=t.type,n=new(xa.getVisitFn(e)())(t);if(e.children&&e.children.length>0){const r=t.children||[],i={nullValues:t.nullValues},s=Array.isArray(r)?(t,e)=>r[e]||i:({name:t})=>r[t]||i;for(const[t,r]of e.children.entries()){const{type:e}=r,i=s(r,t);n.children.push(Sa(Object.assign(Object.assign({},i),{type:e})))}}return n}function Aa(t,e){const n=[],r=fs(t.indices.ArrayType,e),i=Object.create(null);let s=-1,a=0;return{set(t,e){const o=String(t);let c=i[o];void 0===c&&(a+=o.length,i[o]=c=++s,n.push(o)),r[e]=c},data:()=>({type:t,length:e,buffers:[null,r],dict:Ia(t.dictionary,n,a)})}}function Ia(t,e,n){const r=function(t,e,n){const r=fs(Int32Array,e+1),i=fs(Uint8Array,3*n);let s=0;return{set(t,e){s+=gs(i,s,t),r[e+1]=s},data:()=>{const n=ds(s),a=i.length>n?i.subarray(0,n):i;return{type:t,length:e,buffers:[r,a]}}}}(t,e.length,n);return e.forEach(r.set),function(t){return new os([ps(t)])}(r.data())}function Ta(t,e,n,r,i=!0){const s=function(t,e,n=!0){let r;switch(t.typeId){case ie.Int:r=t.bitWidth<64?ys:null;break;case ie.Float:r=t.precision>0?ys:null;break;case ie.Dictionary:r=t.dictionary.typeId===ie.Utf8&&t.indices.typeId===ie.Int&&t.indices.bitWidth<64?Aa:null;break;case ie.Bool:r=bs;break;case ie.Date:r=t.unit?_s:vs}return null==r?function(t){const e=Sa({type:t,nullValues:[null,void 0]});return{set(t,n){e.set(n,t)},data:()=>e.finish().flush()}}(t):n?function(t,e){const n=fs(Uint8Array,e/8);let r=0;return{set(e,i){null==e?++r:(t.set(e,i),n[i>>3]|=1<<i%8)},data:()=>{const e=t.data();return r&&(e.nulls=r,e.buffers[2]=n),e}}}(r(t,e),e):r(t,e)}(r,t,i);return e(n,s.set),ps(s.data())}function Ma(t){if(t instanceof Sn||null==t)return t;switch(t){case ie.Binary:return new Un;case ie.Bool:return new $n;case ie.DateDay:return new zn;case ie.DateMillisecond:case ie.Date:return new Hn;case ie.Dictionary:return new cr(new Vn,new kn);case ie.Float16:return new Ln;case ie.Float32:return new Fn;case ie.Float64:case ie.Float:return new Pn;case ie.Int8:return new Tn;case ie.Int16:return new Mn;case ie.Int32:case ie.Int:return new kn;case ie.Int64:return new Cn;case ie.IntervalDayTime:return new Zn;case ie.Interval:case ie.IntervalYearMonth:return new Qn;case ie.Null:return new An;case ie.TimeMicrosecond:return new Gn;case ie.TimeMillisecond:case ie.Time:return new Yn;case ie.TimeNanosecond:return new Kn;case ie.TimeSecond:return new qn;case ie.Uint8:return new Nn;case ie.Uint16:return new En;case ie.Uint32:return new On;case ie.Uint64:return new Dn;case ie.Utf8:return new Vn;default:o(`Unsupported type code: ${nt(t)}. Use a data type constructor instead?`)}}function ka(t,e){const n=Ca();return t(e,n.add),n}function Ca(){const t={count:0,nulls:0,bools:0,nums:0,ints:0,bigints:0,min:1/0,max:-1/0,digits:0,dates:0,utcdays:0,strings:0,strlen:0,arrays:0,minlen:1/0,maxlen:0,structs:0,add(e){if(++t.count,null==e)return void++t.nulls;const n=typeof e;if("string"===n)++t.strings;else if("number"===n)++t.nums,e<t.min&&(t.min=e),e>t.max&&(t.max=e),Number.isInteger(e)&&++t.ints;else if("boolean"===n)++t.bools;else if("object"===n)if(p(e))++t.dates,0===(r=e).getUTCHours()&&0===r.getUTCMinutes()&&0===r.getUTCSeconds()&&0===r.getUTCMilliseconds()&&++t.utcdays;else if(T(e)){++t.arrays,e.length<t.minlen&&(t.minlen=e.length),e.length>t.maxlen&&(t.maxlen=e.length);const n=t.array_prof||(t.array_prof=Ca());e.forEach(n.add)}else{++t.structs;const n=t.struct_prof||(t.struct_prof={});for(const t in e)(n[t]||(n[t]=Ca())).add(e[t])}else"bigint"===n&&(++t.bigints,e<t.min&&(t.min=e),e>t.max&&(t.max=e));var r},type:()=>Ma(function(t){const e=t.count-t.nulls;if(0===e)return ie.Null;if(t.ints===e){const e=Math.max(Math.abs(t.min)-1,t.max);return t.min<0?e>=2**31?ie.Float64:e<128?ie.Int8:e<32768?ie.Int16:ie.Int32:e>=2**32?ie.Float64:e<256?ie.Uint8:e<65536?ie.Uint16:ie.Uint32}if(t.nums===e)return ie.Float64;if(t.bigints===e){const e=-t.min>t.max?-t.min-1n:t.max;return t.min<0?e<2**63?ie.Int64:o(`BigInt exceeds 64 bits: ${e}`):t.max<2**64?ie.Uint64:o(`BigInt exceeds 64 bits: ${t.max}`)}if(t.bools===e)return ie.Bool;if(t.utcdays===e)return ie.DateDay;if(t.dates===e)return ie.DateMillisecond;if(t.arrays===e){const e=Us.new("value",t.array_prof.type(),!0);return t.minlen===t.maxlen?new ir(t.minlen,e):new tr(e)}if(t.structs===e){const e=t.struct_prof;return new er(Object.keys(e).map((t=>Us.new(t,e[t].type(),!0))))}if(t.strings>0)return ie.Dictionary;o("Type inference failure")}(t))};return t}function Na(t,e,n,r,i,s=!0){if(!(i=Ma(i))){const t=ka(r,e);s=t.nulls>0,i=t.type()}return Ta(n,r,e,i,s)}function Ea(t,e,n,r,i,s=!0){i=Ma(i);const a=t.column(e),o=!(t.isFiltered()||t.isOrdered()),c=(l=a)instanceof os?l:l.vector instanceof os?l.vector:null;var l;if(c&&o&&Oa(c.type,i))return c;const u=a.data;if(I(u)){const t=function(t){const e={Float32Array:Fn,Float64Array:Pn,Int8Array:Tn,Int16Array:Mn,Int32Array:kn,Uint8Array:Nn,Uint16Array:En,Uint32Array:On,BigInt64Array:Cn,BigUint64Array:Dn}[t.constructor.name];return e?new e:null}(u);if(o&&t&&Oa(t,i))return function(t,e){const n=t.length,r=ds(n,t.BYTES_PER_ELEMENT);let i=t;return n!==r&&(i=new t.constructor(r),i.set(t)),ps({type:e,length:n,buffers:[null,i]})}(u,t);i=i||t,s=!1}if(!i){const t=ka(r,a);s=t.nulls>0,i=t.type()}return Ta(n,r,a,i,s)}function Oa(t,e){return!t||!e||t.compareTo(e)}function Da(t,e,n){const r=Math.min(t.length,n+e);return(e,i)=>{for(let s=n;s<r;++s)i(t[s][e],s)}}function Ba(t,e,n){const r=0===n&&t.numRows()<=e&&!t.isFiltered()&&!t.isOrdered();return(i,s)=>{let a=-1;r&&T(i.data)?i.data.forEach(s):t.scan((t=>s(i.get(t),++a)),!0,e,n)}}class La extends ur{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,n)=>this.compareFields(t,e[n])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function Fa(t,e){return e instanceof t.constructor}function Pa(t,e){return t===e||Fa(t,e)}function Ua(t,e){return t===e||Fa(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function Va(t,e){return t===e||Fa(t,e)&&t.precision===e.precision}function $a(t,e){return t===e||Fa(t,e)&&t.unit===e.unit}function Ra(t,e){return t===e||Fa(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function ja(t,e){return t===e||Fa(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function za(t,e){return t===e||Fa(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,n)=>t===e.typeIds[n]))&&Wa.compareManyFields(t.children,e.children)}function Ha(t,e){return t===e||Fa(t,e)&&t.unit===e.unit}La.prototype.visitNull=Pa,La.prototype.visitBool=Pa,La.prototype.visitInt=Ua,La.prototype.visitInt8=Ua,La.prototype.visitInt16=Ua,La.prototype.visitInt32=Ua,La.prototype.visitInt64=Ua,La.prototype.visitUint8=Ua,La.prototype.visitUint16=Ua,La.prototype.visitUint32=Ua,La.prototype.visitUint64=Ua,La.prototype.visitFloat=Va,La.prototype.visitFloat16=Va,La.prototype.visitFloat32=Va,La.prototype.visitFloat64=Va,La.prototype.visitUtf8=Pa,La.prototype.visitBinary=Pa,La.prototype.visitFixedSizeBinary=function(t,e){return t===e||Fa(t,e)&&t.byteWidth===e.byteWidth},La.prototype.visitDate=$a,La.prototype.visitDateDay=$a,La.prototype.visitDateMillisecond=$a,La.prototype.visitTimestamp=Ra,La.prototype.visitTimestampSecond=Ra,La.prototype.visitTimestampMillisecond=Ra,La.prototype.visitTimestampMicrosecond=Ra,La.prototype.visitTimestampNanosecond=Ra,La.prototype.visitTime=ja,La.prototype.visitTimeSecond=ja,La.prototype.visitTimeMillisecond=ja,La.prototype.visitTimeMicrosecond=ja,La.prototype.visitTimeNanosecond=ja,La.prototype.visitDecimal=Pa,La.prototype.visitList=function(t,e){return t===e||Fa(t,e)&&t.children.length===e.children.length&&Wa.compareManyFields(t.children,e.children)},La.prototype.visitStruct=function(t,e){return t===e||Fa(t,e)&&t.children.length===e.children.length&&Wa.compareManyFields(t.children,e.children)},La.prototype.visitUnion=za,La.prototype.visitDenseUnion=za,La.prototype.visitSparseUnion=za,La.prototype.visitDictionary=function(t,e){return t===e||Fa(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Wa.visit(t.indices,e.indices)&&Wa.visit(t.dictionary,e.dictionary)},La.prototype.visitInterval=Ha,La.prototype.visitIntervalDayTime=Ha,La.prototype.visitIntervalYearMonth=Ha,La.prototype.visitFixedSizeList=function(t,e){return t===e||Fa(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Wa.compareManyFields(t.children,e.children)},La.prototype.visitMap=function(t,e){return t===e||Fa(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Wa.compareManyFields(t.children,e.children)};const Wa=new La;function qa(t,e){return Wa.compareSchemas(t,e)}var Ya,Ga;class Ka{constructor(...t){switch(t.length){case 2:if([this.schema]=t,!(this.schema instanceof Ps))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=hs({nullCount:0,type:new er(this.schema.fields),children:this.schema.fields.map((t=>hs({type:t.type,nullCount:0})))})]=t,!(this.data instanceof ls))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Xa(this.schema,this.data.children);break;case 1:{const[e]=t,{fields:n,children:r,length:i}=Object.keys(e).reduce(((t,n,r)=>(t.children[r]=e[n],t.length=Math.max(t.length,e[n].length),t.fields[r]=Us.new({name:n,type:e[n].type,nullable:!0}),t)),{length:0,fields:new Array,children:new Array}),s=new Ps(n),a=hs({type:new er(n),length:i,children:r,nullCount:0});[this.schema,this.data]=Xa(s,a.children,i);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Ja(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return yi.visit(this.data,t)}set(t,e){return Hr.visit(this.data,t,e)}indexOf(t,e){return Gi.visit(this.data,t,e)}getByteLength(t){return rs.visit(this.data,t)}[Symbol.iterator](){return Zi.visit(new os([this.data]))}toArray(){return[...this]}concat(...t){return new eo(this.schema,[this,...t])}slice(t,e){const[n]=new os([this.data]).slice(t,e).data;return new Ka(this.schema,n)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new os([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let n=this.schema,r=this.data;if(t>-1&&t<this.numCols){e||(e=new os([hs({type:new An,length:this.numRows})]));const i=n.fields.slice(),s=r.children.slice(),a=i[t].clone({type:e.type});[i[t],s[t]]=[a,e.data[0]],n=new Ps(i,new Map(this.schema.metadata)),r=hs({type:new er(i),children:s})}return new Ka(n,r)}select(t){const e=this.schema.select(t),n=new er(e.fields),r=[];for(const e of t){const t=this.schema.fields.findIndex((t=>t.name===e));~t&&(r[t]=this.data.children[t])}return new Ka(e,hs({type:n,length:this.numRows,children:r}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map((t=>this.data.children[t])).filter(Boolean),r=hs({type:new er(e.fields),length:this.numRows,children:n});return new Ka(e,r)}}function Xa(t,e,n=e.reduce(((t,e)=>Math.max(t,e.length)),0)){var r;const i=[...t.fields],s=[...e],a=(n+63&-64)>>3;for(const[o,c]of t.fields.entries()){const t=e[o];t&&t.length===n||(i[o]=c.clone({nullable:!0}),s[o]=null!==(r=null==t?void 0:t._changeLengthAndBackfillNullBitmap(n))&&void 0!==r?r:hs({type:c.type,length:n,nullCount:n,nullBitmap:new Uint8Array(a)}))}return[t.assign(i),hs({type:new er(i),length:n,children:s})]}function Ja(t,e,n=new Map){for(let r=-1,i=t.length;++r<i;){const i=t[r].type,s=e[r];if(Sn.isDictionary(i))if(n.has(i.id)){if(n.get(i.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&n.set(i.id,s.dictionary);i.children&&i.children.length>0&&Ja(i.children,s.children,n)}return n}Ya=Symbol.toStringTag,Ka[Ya]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Ka.prototype);class Za extends Ka{constructor(t){const e=t.fields.map((t=>hs({type:t.type})));super(t,hs({type:new er(t.fields),nullCount:0,children:e}))}}function Qa(t,e){return function(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let s=0,a=0,o=-1;const c=e.length;let l,u=[];for(;i.numBatches-- >0;){for(a=Number.POSITIVE_INFINITY,o=-1;++o<c;)u[o]=l=e[o].shift(),a=Math.min(a,l?l.length:a);Number.isFinite(a)&&(u=to(n,a,u,e,i),a>0&&(r[s++]=hs({type:new er(n),length:a,nullCount:0,children:u.slice()})))}return[t=t.assign(n),r.map((e=>new Ka(t,e)))]}(t,e.map((t=>t.data.concat())))}function to(t,e,n,r,i){var s;const a=(e+63&-64)>>3;for(let o=-1,c=r.length;++o<c;){const c=n[o],l=null==c?void 0:c.length;if(l>=e)l===e?n[o]=c:(n[o]=c.slice(0,e),i.numBatches=Math.max(i.numBatches,r[o].unshift(c.slice(e,l-e))));else{const r=t[o];t[o]=r.clone({nullable:!0}),n[o]=null!==(s=null==c?void 0:c._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:hs({type:r.type,length:e,nullCount:e,nullBitmap:new Uint8Array(a)})}}return n}class eo{constructor(...t){var e,n;if(0===t.length)return this.batches=[],this.schema=new Ps([]),this._offsets=[0],this;let r,i;t[0]instanceof Ps&&(r=t.shift()),t[t.length-1]instanceof Uint32Array&&(i=t.pop());const s=t=>{if(t){if(t instanceof Ka)return[t];if(t instanceof eo)return t.batches;if(t instanceof ls){if(t.type instanceof er)return[new Ka(new Ps(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>s(t)));if("function"==typeof t[Symbol.iterator])return[...t].flatMap((t=>s(t)));if("object"==typeof t){const e=Object.keys(t),n=e.map((e=>new os([t[e]]))),r=new Ps(e.map(((t,e)=>new Us(String(t),n[e].type)))),[,i]=Qa(r,n);return 0===i.length?[new Ka(t)]:i}}}return[]},a=t.flatMap((t=>s(t)));if(r=null!==(n=null!=r?r:null===(e=a[0])||void 0===e?void 0:e.schema)&&void 0!==n?n:new Ps([]),!(r instanceof Ps))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const t of a){if(!(t instanceof Ka))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!qa(r,t.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=r,this.batches=a,this._offsets=null!=i?i:Ei(this.data)}get data(){return this.batches.map((({data:t})=>t))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=Ni(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Zi.visit(new os(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(...t){const e=this.schema,n=this.data.concat(t.flatMap((({data:t})=>t)));return new eo(e,n.map((t=>new Ka(e,t))))}slice(t,e){const n=this.schema;[t,e]=Ai({length:this.numRows},t,e);const r=Oi(this.data,this._offsets,t,e);return new eo(n,r.map((t=>new Ka(n,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:n}=this.schema.fields[t],r=hs({type:n,length:0,nullCount:0});e.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new os(e)}return null}setChild(t,e){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let n=this.schema,r=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new os([hs({type:new An,length:this.numRows})]));const i=n.fields.slice(),s=i[t].clone({type:e.type}),a=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[i[t],a[t]]=[s,e],[n,r]=Qa(n,a)}return new eo(n,r)}select(t){const e=this.schema.fields.reduce(((t,e,n)=>t.set(e.name,n)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map((e=>e.selectAt(t)));return new eo(e,n)}assign(t){const e=this.schema.fields,[n,r]=t.schema.fields.reduce(((t,n,r)=>{const[i,s]=t,a=e.findIndex((t=>t.name===n.name));return~a?s[a]=r:i.push(r),t}),[[],[]]),i=this.schema.assign(t.schema),s=[...e.map(((t,e)=>[e,r[e]])).map((([e,n])=>void 0===n?this.getChildAt(e):t.getChildAt(n))),...n.map((e=>t.getChildAt(e)))].filter(Boolean);return new eo(...Qa(i,s))}}Ga=Symbol.toStringTag,eo[Ga]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=Li(Bi),t.get=Li(yi.getVisitFn(ie.Struct)),t.set=Fi(Hr.getVisitFn(ie.Struct)),t.indexOf=Pi(Gi.getVisitFn(ie.Struct)),t.getByteLength=Li(rs.getVisitFn(ie.Struct)),"Table"))(eo.prototype);class no{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,r){return t.prep(8,24),t.writeInt64(r),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}const ro=new Int32Array(2),io=new Float32Array(ro.buffer),so=new Float64Array(ro.buffer),ao=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class oo{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?oo.ZERO:new oo(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var co,lo,uo,ho,fo;oo.ZERO=new oo(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(co||(co={}));class po{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new po(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new oo(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new oo(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return ro[0]=this.readInt32(t),io[0]}readFloat64(t){return ro[ao?0:1]=this.readInt32(t),ro[ao?1:0]=this.readInt32(t+4),so[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){io[0]=e,this.writeInt32(t,ro[0])}writeFloat64(t,e){so[0]=e,this.writeInt32(t,ro[ao?0:1]),this.writeInt32(t+4,ro[ao?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let r="",i=0;if(t+=4,e===co.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;i<n;){let e;const n=this.readUint8(t+i++);if(n<192)e=n;else{const r=this.readUint8(t+i++);if(n<224)e=(31&n)<<6|63&r;else{const s=this.readUint8(t+i++);e=n<240?(15&n)<<12|(63&r)<<6|63&s:(7&n)<<18|(63&r)<<12|(63&s)<<6|63&this.readUint8(t+i++)}}e<65536?r+=String.fromCharCode(e):(e-=65536,r+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return r}__union_with_string(t,e){return"string"==typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return oo.create(t,e)}createScalarList(t,e){const n=[];for(let r=0;r<e;++r)null!==t(r)&&n.push(t(r));return n}createObjList(t,e){const n=[];for(let r=0;r<e;++r){const e=t(r);null!==e&&n.push(e.unpack())}return n}}class mo{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=po.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<n+t+e;){const t=this.bb.capacity();this.bb=mo.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,r=po.allocate(n);return r.setPosition(n-e),r.bytes().set(t.bytes(),n-e),r}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const n=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const r=2*(n+2);this.addInt16(r);let i=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(t)){for(let e=2;e<r;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;i=this.vtables[e];break}}return i?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,i-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const r=n?4:0;if(e){const t=e;if(this.prep(this.minalign,8+r),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+e))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let n=0;for(;n<t.length;){let r;const i=t.charCodeAt(n++);r=i<55296||i>=56320?i:(i<<10)+t.charCodeAt(n++)+-56613888,r<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let t=0,n=this.space,r=this.bb.bytes();t<e.length;t++)r[n++]=e[t];return this.endVector()}createLong(t,e){return oo.create(t,e)}createObjectOffset(t){return null===t?0:"string"==typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n];if(null===r)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(r))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class go{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new go).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new go).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return go.startKeyValue(t),go.addKey(t,e),go.addValue(t,n),go.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(lo||(lo={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(uo||(uo={})),function(t){t[t.DenseArray=0]="DenseArray"}(ho||(ho={}));class yo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new yo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new yo).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return yo.startInt(t),yo.addBitWidth(t,e),yo.addIsSigned(t,n),yo.endInt(t)}}class bo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new bo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new bo).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new yo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):ho.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,ho.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(fo||(fo={}));class vo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new vo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new vo).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):fo.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new bo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new vo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new go).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,fo.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class _o{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new _o).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new _o).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):uo.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new vo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new go).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,uo.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,r,i){return _o.startSchema(t),_o.addEndianness(t,e),_o.addFields(t,n),_o.addCustomMetadata(t,r),_o.addFeatures(t,i),_o.endSchema(t)}}class wo{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new wo).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new wo).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):lo.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new _o).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new no).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new no).__init(this.bb.__vector(this.bb_pos+n)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new go).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,lo.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var xo=oo,So=mo,Ao=po;class Io{constructor(t,e=Jt.V4,n,r){this.schema=t,this.version=e,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(t){t=new Ao(je(t));const e=wo.getRootAsFooter(t),n=Ps.decode(e.schema());return new To(n,e)}static encode(t){const e=new So,n=Ps.encode(e,t.schema);wo.startRecordBatchesVector(e,t.numRecordBatches);for(const n of[...t.recordBatches()].slice().reverse())Mo.encode(e,n);const r=e.endVector();wo.startDictionariesVector(e,t.numDictionaries);for(const n of[...t.dictionaryBatches()].slice().reverse())Mo.encode(e,n);const i=e.endVector();return wo.startFooter(e),wo.addSchema(e,n),wo.addVersion(e,Jt.V4),wo.addRecordBatches(e,r),wo.addDictionaries(e,i),wo.finishFooterBuffer(e,wo.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class To extends Io{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Mo.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Mo.decode(e)}return null}}class Mo{constructor(t,e,n){this.metaDataLength=t,this.offset="number"==typeof n?n:n.low,this.bodyLength="number"==typeof e?e:e.low}static decode(t){return new Mo(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,r=new xo(e.offset,0),i=new xo(e.bodyLength,0);return no.createBlock(t,r,n,i)}}const ko={fromIterable:t=>Co(function*(t){let e,n,r,i,s=!1,a=[],o=0;({cmd:r,size:i}=yield null);const c=(l=t,function*(t,e){const n=function*(t){yield t},r="string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Pe?n(e):ke(e)?e:n(e);return yield*ze(function*(e){let n=null;do{n=e.next(yield $e(t,n))}while(!n.done)}(r[Symbol.iterator]())),new t}(Uint8Array,l))[Symbol.iterator]();var l;try{do{if(({done:e,value:n}=Number.isNaN(i-o)?c.next():c.next(i-o)),!e&&n.byteLength>0&&(a.push(n),o+=n.byteLength),e||i<=o)do{({cmd:r,size:i}=yield"peek"===r?Ve(a,i)[0]:([n,a,o]=Ve(a,i),n))}while(i<o)}while(!e)}catch(t){(s=!0)&&"function"==typeof c.throw&&c.throw(t)}finally{!1===s&&"function"==typeof c.return&&c.return(null)}return null}(t)),fromAsyncIterable:t=>Co(function(t){return he(this,arguments,(function*(){let e,n,r,i,s=!1,a=[],o=0;({cmd:r,size:i}=yield yield ue(null));const c=We(t)[Symbol.asyncIterator]();try{do{if(({done:e,value:n}=Number.isNaN(i-o)?yield ue(c.next()):yield ue(c.next(i-o))),!e&&n.byteLength>0&&(a.push(n),o+=n.byteLength),e||i<=o)do{({cmd:r,size:i}=yield yield ue("peek"===r?Ve(a,i)[0]:([n,a,o]=Ve(a,i),n)))}while(i<o)}while(!e)}catch(t){(s=!0)&&"function"==typeof c.throw&&(yield ue(c.throw(t)))}finally{!1===s&&"function"==typeof c.return&&(yield ue(c.return(new Uint8Array(0))))}return yield ue(null)}))}(t)),fromDOMStream:t=>Co(function(t){return he(this,arguments,(function*(){let e,n,r,i=!1,s=!1,a=[],o=0;({cmd:n,size:r}=yield yield ue(null));const c=new No(t);try{do{if(({done:i,value:e}=Number.isNaN(r-o)?yield ue(c.read()):yield ue(c.read(r-o))),!i&&e.byteLength>0&&(a.push(je(e)),o+=e.byteLength),i||r<=o)do{({cmd:n,size:r}=yield yield ue("peek"===n?Ve(a,r)[0]:([e,a,o]=Ve(a,r),e)))}while(r<o)}while(!i)}catch(t){(s=!0)&&(yield ue(c.cancel(t)))}finally{!1===s?yield ue(c.cancel()):t.locked&&c.releaseLock()}return yield ue(null)}))}(t)),fromNodeStream:t=>Co(function(t){return he(this,arguments,(function*(){const e=[];let n,r,i,s="error",a=!1,o=null,c=0,l=[];if(({cmd:n,size:r}=yield yield ue(null)),t.isTTY)return yield yield ue(new Uint8Array(0)),yield ue(null);try{e[0]=Eo(t,"end"),e[1]=Eo(t,"error");do{if(e[2]=Eo(t,"readable"),[s,o]=yield ue(Promise.race(e.map((t=>t[2])))),"error"===s)break;if((a="end"===s)||(Number.isFinite(r-c)?(i=je(t.read(r-c)),i.byteLength<r-c&&(i=je(t.read()))):i=je(t.read()),i.byteLength>0&&(l.push(i),c+=i.byteLength)),a||r<=c)do{({cmd:n,size:r}=yield yield ue("peek"===n?Ve(l,r)[0]:([i,l,c]=Ve(l,r),i)))}while(r<c)}while(!a)}finally{yield ue(function(e,n){return i=l=null,new Promise(((r,i)=>{for(const[n,r]of e)t.off(n,r);try{const e=t.destroy;e&&e.call(t,n),n=void 0}catch(t){n=t||n}finally{null!=n?i(n):r()}}))}(e,"error"===s?o:null))}return yield ue(null)}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Co=t=>(t.next(),t);class No{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return le(this,void 0,void 0,(function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch((()=>{}))),n&&n.locked&&this.releaseLock()}))}read(t){return le(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=je(e)),e}))}}const Eo=(t,e)=>{const n=t=>r([e,t]);let r;return[e,n,new Promise((i=>(r=i)&&t.once(e,n)))]},Oo=Object.freeze({done:!0,value:void 0});class Do{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Bo{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Lo extends Bo{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return le(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Oo);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return ko.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return ko.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return le(this,void 0,void 0,(function*(){return yield this.abort(t),Oo}))}return(t){return le(this,void 0,void 0,(function*(){return yield this.close(),Oo}))}read(t){return le(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return le(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Oo)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Fo extends Lo{write(t){if((t=je(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?me(this.toUint8Array(!0)):this.toUint8Array(!1).then(me)}toUint8Array(t=!1){return t?Ve(this._values)[0]:(()=>le(this,void 0,void 0,(function*(){var t,e;const n=[];let r=0;try{for(var i,s=fe(this);!(i=yield s.next()).done;){const t=i.value;n.push(t),r+=t.byteLength}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return Ve(n,r)[0]})))()}}class Po{constructor(t){t&&(this.source=new Vo(ko.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Uo{constructor(t){t instanceof Uo?this.source=t.source:t instanceof Fo?this.source=new $o(ko.fromAsyncIterable(t)):Fe(t)?this.source=new $o(ko.fromNodeStream(t)):Le(t)?this.source=new $o(ko.fromDOMStream(t)):De(t)?this.source=new $o(ko.fromDOMStream(t.body)):ke(t)?this.source=new $o(ko.fromIterable(t)):(Me(t)||Ce(t))&&(this.source=new $o(ko.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Vo{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Oo)}return(t){return Object.create(this.source.return&&this.source.return(t)||Oo)}}class $o{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return le(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return le(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return le(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t,e="read"){return le(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return le(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Oo;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return le(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Oo;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class Ro extends Po{constructor(t,e){super(),this.position=0,this.buffer=je(t),this.size=void 0===e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:r}=this;return e&&r<n?("number"!=typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,r+Math.min(n-r,t)),e.subarray(r,this.position)):null}readAt(t,e){const n=this.buffer,r=Math.min(this.size,t+e);return n?n.subarray(t,r):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class jo extends Uo{constructor(t,e){super(),this.position=0,this._handle=t,"number"==typeof e?this.size=e:this._pending=(()=>le(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return le(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}))}seek(t){return le(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return le(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:r}=this;if(e&&r<n){"number"!=typeof t&&(t=Number.POSITIVE_INFINITY);let i=r,s=0,a=0;const o=Math.min(n,i+Math.min(n-i,t)),c=new Uint8Array(Math.max(0,(this.position=o)-i));for(;(i+=a)<o&&(s+=a)<c.byteLength;)({bytesRead:a}=yield e.read(c,s,c.byteLength-s,i));return c}return null}))}readAt(t,e){return le(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:n,size:r}=this;if(n&&t+e<r){const i=Math.min(r,t+e),s=new Uint8Array(i-t);return(yield n.read(s,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return le(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return le(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return le(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function zo(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const Ho=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Wo{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let r=e[3]*n[3];this.buffer[0]=65535&r;let i=r>>>16;return r=e[2]*n[3],i+=r,r=e[3]*n[2]>>>0,i+=r,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<r?65536:0,this.buffer[1]+=i>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${zo(this.buffer[1])} ${zo(this.buffer[0])}`}}class qo extends Wo{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return qo.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return qo.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length,r=new qo(e);for(let e=0;e<n;){const i=8<n-e?8:n-e,s=new qo(new Uint32Array([Number.parseInt(t.slice(e,e+i),10),0])),a=new qo(new Uint32Array([Ho[i],0]));r.times(a),r.plus(s),e+=i}return r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,r=t.length;++n<r;)qo.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new qo(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new qo(new Uint32Array(t.buffer)).plus(e)}}class Yo extends Wo{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,n=t.buffer[1]<<0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return Yo.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Yo.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),r=t.length,i=new Yo(e);for(let e=n?1:0;e<r;){const n=8<r-e?8:r-e,s=new Yo(new Uint32Array([Number.parseInt(t.slice(e,e+n),10),0])),a=new Yo(new Uint32Array([Ho[n],0]));i.times(a),i.plus(s),e+=n}return n?i.negate():i}static convertArray(t){const e=new Uint32Array(2*t.length);for(let n=-1,r=t.length;++n<r;)Yo.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new Yo(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Yo(new Uint32Array(t.buffer)).plus(e)}}class Go{constructor(t){this.buffer=t}high(){return new Yo(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Yo(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new qo(new Uint32Array([this.buffer[3],0])),n=new qo(new Uint32Array([this.buffer[2],0])),r=new qo(new Uint32Array([this.buffer[1],0])),i=new qo(new Uint32Array([this.buffer[0],0])),s=new qo(new Uint32Array([t.buffer[3],0])),a=new qo(new Uint32Array([t.buffer[2],0])),o=new qo(new Uint32Array([t.buffer[1],0])),c=new qo(new Uint32Array([t.buffer[0],0]));let l=qo.multiply(i,c);this.buffer[0]=l.low();const u=new qo(new Uint32Array([l.high(),0]));return l=qo.multiply(r,c),u.plus(l),l=qo.multiply(i,o),u.plus(l),this.buffer[1]=u.low(),this.buffer[3]=u.lessThan(l)?1:0,this.buffer[2]=u.high(),new qo(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(qo.multiply(n,c)).plus(qo.multiply(r,o)).plus(qo.multiply(i,a)),this.buffer[3]+=qo.multiply(e,c).plus(qo.multiply(n,o)).plus(qo.multiply(r,a)).plus(qo.multiply(i,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${zo(this.buffer[3])} ${zo(this.buffer[2])} ${zo(this.buffer[1])} ${zo(this.buffer[0])}`}static multiply(t,e){return new Go(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Go(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return Go.fromString("string"==typeof t?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return Go.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),r=t.length,i=new Go(e);for(let e=n?1:0;e<r;){const n=8<r-e?8:r-e,s=new Go(new Uint32Array([Number.parseInt(t.slice(e,e+n),10),0,0,0])),a=new Go(new Uint32Array([Ho[n],0,0,0]));i.times(a),i.plus(s),e+=n}return n?i.negate():i}static convertArray(t){const e=new Uint32Array(4*t.length);for(let n=-1,r=t.length;++n<r;)Go.from(t[n],new Uint32Array(e.buffer,e.byteOffset+16*n,4));return e}}class Ko extends ur{constructor(t,e,n,r){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=r}visit(t){return super.visit(t instanceof Us?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return hs({type:t,length:e})}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===Zt.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return hs({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class Xo extends Ko{constructor(t,e,n,r){super(new Uint8Array(0),e,n,r),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):Ri(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return $e(Uint8Array,$e(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return $e(Uint8Array,$e(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this;return Sn.isTimestamp(t)||(Sn.isInt(t)||Sn.isTime(t))&&64===t.bitWidth||Sn.isDate(t)&&t.unit===te.MILLISECOND?$e(Uint8Array,Yo.convertArray(n[e])):Sn.isDecimal(t)?$e(Uint8Array,Go.convertArray(n[e])):Sn.isBinary(t)||Sn.isFixedSizeBinary(t)?function(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2)n[t>>1]=Number.parseInt(e.slice(t,t+2),16);return n}(n[e]):Sn.isBool(t)?Ri(n[e]):Sn.isUtf8(t)?ye(n[e].join("")):$e(Uint8Array,$e(t.ArrayType,n[e].map((t=>+t))))}}var Jo,Zo,Qo,tc,ec,nc,rc,ic;!function(t){t[t.BUFFER=0]="BUFFER"}(Jo||(Jo={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(Zo||(Zo={}));class sc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new sc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new sc).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Zo.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Jo.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,Zo.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,Jo.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return sc.startBodyCompression(t),sc.addCodec(t,e),sc.addMethod(t,n),sc.endBodyCompression(t)}}class ac{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class oc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}class cc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new cc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new cc).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new oc).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new ac).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new sc).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class lc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new lc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new lc).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new cc).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(Qo||(Qo={}));class uc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new uc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new uc).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Qo.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,Qo.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return uc.startFloatingPoint(t),uc.addPrecision(t,e),uc.endFloatingPoint(t)}}class hc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new hc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new hc).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,r){return hc.startDecimal(t),hc.addPrecision(t,e),hc.addScale(t,n),hc.addBitWidth(t,r),hc.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(tc||(tc={}));class dc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new dc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new dc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):tc.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,tc.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return dc.startDate(t),dc.addUnit(t,e),dc.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(ec||(ec={}));class fc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new fc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new fc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ec.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,ec.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return fc.startTime(t),fc.addUnit(t,e),fc.addBitWidth(t,n),fc.endTime(t)}}class pc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new pc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new pc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ec.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,ec.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return pc.startTimestamp(t),pc.addUnit(t,e),pc.addTimezone(t,n),pc.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(nc||(nc={}));class mc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new mc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new mc).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nc.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,nc.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return mc.startInterval(t),mc.addUnit(t,e),mc.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(rc||(rc={}));class gc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new gc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new gc).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):rc.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,rc.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return gc.startUnion(t),gc.addMode(t,e),gc.addTypeIds(t,n),gc.endUnion(t)}}class yc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new yc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new yc).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return yc.startFixedSizeBinary(t),yc.addByteWidth(t,e),yc.endFixedSizeBinary(t)}}class bc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new bc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new bc).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return bc.startFixedSizeList(t),bc.addListSize(t,e),bc.endFixedSizeList(t)}}class vc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new vc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new vc).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return vc.startMap(t),vc.addKeysSorted(t,e),vc.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(ic||(ic={}));class _c{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new _c).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new _c).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):lo.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):ic.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new go).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,lo.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,ic.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,r,i,s){return _c.startMessage(t),_c.addVersion(t,e),_c.addHeaderType(t,n),_c.addHeader(t,r),_c.addBodyLength(t,i),_c.addCustomMetadata(t,s),_c.endMessage(t)}}class wc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new wc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new wc).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return wc.startNull(t),wc.endNull(t)}}class xc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new xc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new xc).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return xc.startBinary(t),xc.endBinary(t)}}class Sc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Sc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new Sc).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Sc.startBool(t),Sc.endBool(t)}}class Ac{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Ac).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new Ac).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Ac.startUtf8(t),Ac.endUtf8(t)}}class Ic{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new Ic).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new Ic).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Ic.startList(t),Ic.endList(t)}}class Tc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Tc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Tc).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Tc.startStruct_(t),Tc.endStruct_(t)}}var Mc=oo;const kc=new class extends ur{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return wc.startNull(e),wc.endNull(e)}visitInt(t,e){return yo.startInt(e),yo.addBitWidth(e,t.bitWidth),yo.addIsSigned(e,t.isSigned),yo.endInt(e)}visitFloat(t,e){return uc.startFloatingPoint(e),uc.addPrecision(e,t.precision),uc.endFloatingPoint(e)}visitBinary(t,e){return xc.startBinary(e),xc.endBinary(e)}visitBool(t,e){return Sc.startBool(e),Sc.endBool(e)}visitUtf8(t,e){return Ac.startUtf8(e),Ac.endUtf8(e)}visitDecimal(t,e){return hc.startDecimal(e),hc.addScale(e,t.scale),hc.addPrecision(e,t.precision),hc.addBitWidth(e,t.bitWidth),hc.endDecimal(e)}visitDate(t,e){return dc.startDate(e),dc.addUnit(e,t.unit),dc.endDate(e)}visitTime(t,e){return fc.startTime(e),fc.addUnit(e,t.unit),fc.addBitWidth(e,t.bitWidth),fc.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return pc.startTimestamp(e),pc.addUnit(e,t.unit),void 0!==n&&pc.addTimezone(e,n),pc.endTimestamp(e)}visitInterval(t,e){return mc.startInterval(e),mc.addUnit(e,t.unit),mc.endInterval(e)}visitList(t,e){return Ic.startList(e),Ic.endList(e)}visitStruct(t,e){return Tc.startStruct_(e),Tc.endStruct_(e)}visitUnion(t,e){gc.startTypeIdsVector(e,t.typeIds.length);const n=gc.createTypeIdsVector(e,t.typeIds);return gc.startUnion(e),gc.addMode(e,t.mode),gc.addTypeIds(e,n),gc.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return bo.startDictionaryEncoding(e),bo.addId(e,new Mc(t.id,0)),bo.addIsOrdered(e,t.isOrdered),void 0!==n&&bo.addIndexType(e,n),bo.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return yc.startFixedSizeBinary(e),yc.addByteWidth(e,t.byteWidth),yc.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return bc.startFixedSizeList(e),bc.addListSize(e,t.listSize),bc.endFixedSizeList(e)}visitMap(t,e){return vc.startMap(e),vc.addKeysSorted(e,t.keysSorted),vc.endMap(e)}};function Cc(t){return new $c(t.count,Ec(t.columns),Oc(t.columns))}function Nc(t,e){return(t.children||[]).filter(Boolean).map((t=>Us.fromJSON(t,e)))}function Ec(t){return(t||[]).reduce(((t,e)=>{return[...t,new zc(e.count,(n=e.VALIDITY,(n||[]).reduce(((t,e)=>t+ +(0===e)),0))),...Ec(e.children)];var n}),[])}function Oc(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const r=t[n];r.VALIDITY&&e.push(new jc(e.length,r.VALIDITY.length)),r.TYPE&&e.push(new jc(e.length,r.TYPE.length)),r.OFFSET&&e.push(new jc(e.length,r.OFFSET.length)),r.DATA&&e.push(new jc(e.length,r.DATA.length)),e=Oc(r.children,e)}return e}function Dc(t){return new Map(Object.entries(t||{}))}function Bc(t){return new In(t.isSigned,t.bitWidth)}function Lc(t,e){const n=t.type.name;switch(n){case"NONE":case"null":return new An;case"binary":return new Un;case"utf8":return new Vn;case"bool":return new $n;case"list":return new tr((e||[])[0]);case"struct":case"struct_":return new er(e||[])}switch(n){case"int":{const e=t.type;return new In(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Bn(Qt[e.precision])}case"decimal":{const e=t.type;return new Rn(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new jn(te[e.unit])}case"time":{const e=t.type;return new Wn(ee[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new Xn(ee[e.unit],e.timezone)}case"interval":{const e=t.type;return new Jn(ne[e.unit])}case"union":{const n=t.type;return new nr(Zt[n.mode],n.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new rr(e.byteWidth)}case"fixedsizelist":{const n=t.type;return new ir(n.listSize,(e||[])[0])}case"map":{const n=t.type;return new sr((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Fc=oo,Pc=mo,Uc=po;class Vc{constructor(t,e,n,r){this._version=e,this._headerType=n,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength="number"==typeof t?t:t.low}static fromJSON(t,e){const n=new Vc(0,Jt.V4,e);return n._createHeader=function(t,e){return()=>{switch(e){case re.Schema:return Ps.fromJSON(t);case re.RecordBatch:return $c.fromJSON(t);case re.DictionaryBatch:return Rc.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${re[e]}, type: ${e} }`)}}(t,e),n}static decode(t){t=new Uc(je(t));const e=_c.getRootAsMessage(t),n=e.bodyLength(),r=e.version(),i=e.headerType(),s=new Vc(n,r,i);return s._createHeader=function(t,e){return()=>{switch(e){case re.Schema:return Ps.decode(t.header(new _o));case re.RecordBatch:return $c.decode(t.header(new cc),t.version());case re.DictionaryBatch:return Rc.decode(t.header(new lc),t.version())}throw new Error(`Unrecognized Message type: { name: ${re[e]}, type: ${e} }`)}}(e,i),s}static encode(t){const e=new Pc;let n=-1;return t.isSchema()?n=Ps.encode(e,t.header()):t.isRecordBatch()?n=$c.encode(e,t.header()):t.isDictionaryBatch()&&(n=Rc.encode(e,t.header())),_c.startMessage(e),_c.addVersion(e,Jt.V4),_c.addHeader(e,n),_c.addHeaderType(e,t.headerType),_c.addBodyLength(e,new Fc(t.bodyLength,0)),_c.finishMessageBuffer(e,_c.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof Ps)return new Vc(0,Jt.V4,re.Schema,t);if(t instanceof $c)return new Vc(e,Jt.V4,re.RecordBatch,t);if(t instanceof Rc)return new Vc(e,Jt.V4,re.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===re.Schema}isRecordBatch(){return this.headerType===re.RecordBatch}isDictionaryBatch(){return this.headerType===re.DictionaryBatch}}class $c{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length="number"==typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Rc{constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id="number"==typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class jc{constructor(t,e){this.offset="number"==typeof t?t:t.low,this.length="number"==typeof e?e:e.low}}class zc{constructor(t,e){this.length="number"==typeof t?t:t.low,this.nullCount="number"==typeof e?e:e.low}}function Hc(t,e){const n=[];for(let r,i=-1,s=-1,a=t.childrenLength();++i<a;)(r=t.children(i))&&(n[++s]=Us.decode(r,e));return n}function Wc(t){const e=new Map;if(t)for(let n,r,i=-1,s=Math.trunc(t.customMetadataLength());++i<s;)(n=t.customMetadata(i))&&null!=(r=n.key())&&e.set(r,n.value());return e}function qc(t){return new In(t.isSigned(),t.bitWidth())}function Yc(t,e){const n=t.typeType();switch(n){case fo.NONE:case fo.Null:return new An;case fo.Binary:return new Un;case fo.Utf8:return new Vn;case fo.Bool:return new $n;case fo.List:return new tr((e||[])[0]);case fo.Struct_:return new er(e||[])}switch(n){case fo.Int:{const e=t.type(new yo);return new In(e.isSigned(),e.bitWidth())}case fo.FloatingPoint:{const e=t.type(new uc);return new Bn(e.precision())}case fo.Decimal:{const e=t.type(new hc);return new Rn(e.scale(),e.precision(),e.bitWidth())}case fo.Date:{const e=t.type(new dc);return new jn(e.unit())}case fo.Time:{const e=t.type(new fc);return new Wn(e.unit(),e.bitWidth())}case fo.Timestamp:{const e=t.type(new pc);return new Xn(e.unit(),e.timezone())}case fo.Interval:{const e=t.type(new mc);return new Jn(e.unit())}case fo.Union:{const n=t.type(new gc);return new nr(n.mode(),n.typeIdsArray()||[],e||[])}case fo.FixedSizeBinary:{const e=t.type(new yc);return new rr(e.byteWidth())}case fo.FixedSizeList:{const n=t.type(new bc);return new ir(n.listSize(),(e||[])[0])}case fo.Map:{const n=t.type(new vc);return new sr((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${fo[n]}" (${n})`)}Us.encode=function(t,e){let n=-1,r=-1,i=-1;const s=e.type;let a=e.typeId;Sn.isDictionary(s)?(a=s.dictionary.typeId,i=kc.visit(s,t),r=kc.visit(s.dictionary,t)):r=kc.visit(s,t);const o=(s.children||[]).map((e=>Us.encode(t,e))),c=vo.createChildrenVector(t,o),l=e.metadata&&e.metadata.size>0?vo.createCustomMetadataVector(t,[...e.metadata].map((([e,n])=>{const r=t.createString(`${e}`),i=t.createString(`${n}`);return go.startKeyValue(t),go.addKey(t,r),go.addValue(t,i),go.endKeyValue(t)}))):-1;return e.name&&(n=t.createString(e.name)),vo.startField(t),vo.addType(t,r),vo.addTypeType(t,a),vo.addChildren(t,c),vo.addNullable(t,!!e.nullable),-1!==n&&vo.addName(t,n),-1!==i&&vo.addDictionary(t,i),-1!==l&&vo.addCustomMetadata(t,l),vo.endField(t)},Us.decode=function(t,e){let n,r,i,s,a,o;return e&&(o=t.dictionary())?e.has(n=o.id().low)?(s=(s=o.indexType())?qc(s):new kn,a=new cr(e.get(n),s,n,o.isOrdered()),r=new Us(t.name(),a,t.nullable(),Wc(t))):(s=(s=o.indexType())?qc(s):new kn,e.set(n,i=Yc(t,Hc(t,e))),a=new cr(i,s,n,o.isOrdered()),r=new Us(t.name(),a,t.nullable(),Wc(t))):(i=Yc(t,Hc(t,e)),r=new Us(t.name(),i,t.nullable(),Wc(t))),r||null},Us.fromJSON=function(t,e){let n,r,i,s,a,o;return e&&(s=t.dictionary)?e.has(n=s.id)?(r=(r=s.indexType)?Bc(r):new kn,o=new cr(e.get(n),r,n,s.isOrdered),i=new Us(t.name,o,t.nullable,Dc(t.customMetadata))):(r=(r=s.indexType)?Bc(r):new kn,e.set(n,a=Lc(t,Nc(t,e))),o=new cr(a,r,n,s.isOrdered),i=new Us(t.name,o,t.nullable,Dc(t.customMetadata))):(a=Lc(t,Nc(t,e)),i=new Us(t.name,a,t.nullable,Dc(t.customMetadata))),i||null},Ps.encode=function(t,e){const n=e.fields.map((e=>Us.encode(t,e)));_o.startFieldsVector(t,n.length);const r=_o.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?_o.createCustomMetadataVector(t,[...e.metadata].map((([e,n])=>{const r=t.createString(`${e}`),i=t.createString(`${n}`);return go.startKeyValue(t),go.addKey(t,r),go.addValue(t,i),go.endKeyValue(t)}))):-1;return _o.startSchema(t),_o.addFields(t,r),_o.addEndianness(t,Gc?uo.Little:uo.Big),-1!==i&&_o.addCustomMetadata(t,i),_o.endSchema(t)},Ps.decode=function(t,e=new Map){const n=function(t,e){const n=[];for(let r,i=-1,s=-1,a=t.fieldsLength();++i<a;)(r=t.fields(i))&&(n[++s]=Us.decode(r,e));return n}(t,e);return new Ps(n,Wc(t),e)},Ps.fromJSON=function(t,e=new Map){return new Ps(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>Us.fromJSON(t,e)))}(t,e),Dc(t.customMetadata),e)},$c.encode=function(t,e){const n=e.nodes||[],r=e.buffers||[];cc.startNodesVector(t,n.length);for(const e of n.slice().reverse())zc.encode(t,e);const i=t.endVector();cc.startBuffersVector(t,r.length);for(const e of r.slice().reverse())jc.encode(t,e);const s=t.endVector();return cc.startRecordBatch(t),cc.addLength(t,new Fc(e.length,0)),cc.addNodes(t,i),cc.addBuffers(t,s),cc.endRecordBatch(t)},$c.decode=function(t,e=Jt.V4){if(null!==t.compression())throw new Error("Record batch compression not implemented");return new $c(t.length(),function(t){const e=[];for(let n,r=-1,i=-1,s=t.nodesLength();++r<s;)(n=t.nodes(r))&&(e[++i]=zc.decode(n));return e}(t),function(t,e){const n=[];for(let r,i=-1,s=-1,a=t.buffersLength();++i<a;)(r=t.buffers(i))&&(e<Jt.V4&&(r.bb_pos+=8*(i+1)),n[++s]=jc.decode(r));return n}(t,e))},$c.fromJSON=Cc,Rc.encode=function(t,e){const n=$c.encode(t,e.data);return lc.startDictionaryBatch(t),lc.addId(t,new Fc(e.id,0)),lc.addIsDelta(t,e.isDelta),lc.addData(t,n),lc.endDictionaryBatch(t)},Rc.decode=function(t,e=Jt.V4){return new Rc($c.decode(t.data(),e),t.id(),t.isDelta())},Rc.fromJSON=function(t){return new Rc(Cc(t.data),t.id,t.isDelta)},zc.encode=function(t,e){return oc.createFieldNode(t,new Fc(e.length,0),new Fc(e.nullCount,0))},zc.decode=function(t){return new zc(t.length(),t.nullCount())},jc.encode=function(t,e){return ac.createBuffer(t,new Fc(e.offset,0),new Fc(e.length,0))},jc.decode=function(t){return new jc(t.offset(),t.length())};const Gc=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),Kc=t=>`Expected ${re[t]} Message in stream, but was null or length 0.`,Xc=t=>`Header pointer of flatbuffer-encoded ${re[t]} Message is null or length 0.`,Jc=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,Zc=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class Qc{constructor(t){this.source=t instanceof Po?t:new Po(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Oo:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Kc(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=je(this.source.read(t));if(e.byteLength<t)throw new Error(Zc(t,e.byteLength));return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=re.Schema,n=this.readMessage(e),r=null==n?void 0:n.header();if(t&&!r)throw new Error(Xc(e));return r}readMetadataLength(){const t=this.source.read(nl),e=t&&new po(t),n=(null==e?void 0:e.readInt32(0))||0;return{done:0===n,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return Oo;if(e.byteLength<t)throw new Error(Jc(t,e.byteLength));return{done:!1,value:Vc.decode(e)}}}class tl{constructor(t,e){this.source=t instanceof Uo?t:Oe(t)?new jo(t,e):new Uo(t)}[Symbol.asyncIterator](){return this}next(){return le(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Oo:t}))}throw(t){return le(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return le(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return le(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Kc(t));return e.value}))}readMessageBody(t){return le(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=je(yield this.source.read(t));if(e.byteLength<t)throw new Error(Zc(t,e.byteLength));return e.byteOffset%8==0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(t=!1){return le(this,void 0,void 0,(function*(){const e=re.Schema,n=yield this.readMessage(e),r=null==n?void 0:n.header();if(t&&!r)throw new Error(Xc(e));return r}))}readMetadataLength(){return le(this,void 0,void 0,(function*(){const t=yield this.source.read(nl),e=t&&new po(t),n=(null==e?void 0:e.readInt32(0))||0;return{done:0===n,value:n}}))}readMetadata(t){return le(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Oo;if(e.byteLength<t)throw new Error(Jc(t,e.byteLength));return{done:!1,value:Vc.decode(e)}}))}}class el extends Qc{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Do?t:new Do(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Vc.fromJSON(t.schema,re.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:Vc.fromJSON(e,re.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:Vc.fromJSON(e,re.RecordBatch)}}return this._body=[],Oo}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,n)=>[...e,...n.VALIDITY&&[n.VALIDITY]||[],...n.TYPE&&[n.TYPE]||[],...n.OFFSET&&[n.OFFSET]||[],...n.DATA&&[n.DATA]||[],...t(n.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(Kc(t));return e.value}readSchema(){const t=re.Schema,e=this.readMessage(t),n=null==e?void 0:e.header();if(!e||!n)throw new Error(Xc(t));return n}}const nl=4,rl="ARROW1",il=new Uint8Array(rl.length);for(let t=0;t<rl.length;t+=1)il[t]=rl.codePointAt(t);function sl(t,e=0){for(let n=-1,r=il.length;++n<r;)if(il[n]!==t[e+n])return!1;return!0}const al=il.length,ol=al+nl,cl=2*al+nl;class ll extends Bo{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return Me(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return ko.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return ko.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof ll?t:Ne(t)?function(t){return new ul(new vl(t))}(t):Oe(t)?function(t){return le(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),n=new jo(t,e);return e>=cl&&sl(yield n.readAt(0,al+7&-8))?new fl(new bl(n)):new hl(new gl(n))}))}(t):Me(t)?(()=>le(this,void 0,void 0,(function*(){return yield ll.from(yield t)})))():De(t)||Le(t)||Fe(t)||Ce(t)?function(t){return le(this,void 0,void 0,(function*(){const e=yield t.peek(al+7&-8);return e&&e.byteLength>=4?sl(e)?new dl(new yl(yield t.read())):new hl(new gl(t)):new hl(new gl(function(){return he(this,arguments,(function*(){}))}()))}))}(new Uo(t)):function(t){const e=t.peek(al+7&-8);return e&&e.byteLength>=4?sl(e)?new dl(new yl(t.read())):new ul(new ml(t)):new ul(new ml(function*(){}()))}(new Po(t))}static readAll(t){return t instanceof ll?t.isSync()?wl(t):xl(t):Ne(t)||ArrayBuffer.isView(t)||ke(t)||Ee(t)?wl(t):xl(t)}}class ul extends ll{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return he(this,arguments,(function*(){yield ue(yield*de(fe(this[Symbol.iterator]())))}))}}class hl extends ll{constructor(t){super(t),this._impl=t}readAll(){var t,e;return le(this,void 0,void 0,(function*(){const n=new Array;try{for(var r,i=fe(this);!(r=yield i.next()).done;){const t=r.value;n.push(t)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&(yield e.call(i))}finally{if(t)throw t.error}}return n}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class dl extends ul{constructor(t){super(t),this._impl=t}}class fl extends hl{constructor(t){super(t),this._impl=t}}class pl{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),r=hs({type:new er(this.schema.fields),length:t.length,children:n});return new Ka(this.schema,r)}_loadDictionaryBatch(t,e){const{id:n,isDelta:r}=t,{dictionaries:i,schema:s}=this,a=i.get(n);if(r||!a){const i=s.dictionaries.get(n),o=this._loadVectors(t.data,e,[i]);return(a&&r?a.concat(new os(o)):new os(o)).memoize()}return a.memoize()}_loadVectors(t,e,n){return new Ko(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class ml extends pl{constructor(t,e){super(e),this._reader=Ne(t)?new el(this._handle=t):new Qc(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=_l(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Oo}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Oo}next(){if(this.closed)return Oo;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),r=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),r=e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new Za(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class gl extends pl{constructor(t,e){super(e),this._reader=new tl(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return le(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return le(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=_l(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return le(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Oo}))}return(t){return le(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Oo}))}next(){return le(this,void 0,void 0,(function*(){if(this.closed)return Oo;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),r=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),r=yield e.readMessageBody(t.bodyLength),i=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new Za(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return le(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class yl extends ml{constructor(t,e){super(t instanceof Ro?t:new Ro(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(re.RecordBatch);if(null==t?void 0:t.isRecordBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}_readDictionaryBatch(t){var e;const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const t=this._reader.readMessage(re.DictionaryBatch);if(null==t?void 0:t.isDictionaryBatch()){const e=t.header(),n=this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,r)}}}_readFooter(){const{_handle:t}=this,e=t.size-ol,n=t.readInt32(e),r=t.readAt(e-n,n);return Io.decode(r)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class bl extends gl{constructor(t,...e){const n="number"!=typeof e[0]?e.shift():void 0,r=e[0]instanceof Map?e.shift():void 0;super(t instanceof jo?t:new jo(t,n),r)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return le(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return le(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const n=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(re.RecordBatch);if(null==t?void 0:t.isRecordBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,n)}}return null}))}_readDictionaryBatch(t){var e;return le(this,void 0,void 0,(function*(){const n=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const t=yield this._reader.readMessage(re.DictionaryBatch);if(null==t?void 0:t.isDictionaryBatch()){const e=t.header(),n=yield this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,n);this.dictionaries.set(e.id,r)}}}))}_readFooter(){return le(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-ol,n=yield t.readInt32(e),r=yield t.readAt(e-n,n);return Io.decode(r)}))}_readNextMessageAndValidate(t){return le(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class vl extends ml{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new Xo(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function _l(t,e){return e&&"boolean"==typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*wl(t){const e=ll.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function xl(t){return he(this,arguments,(function*(){const e=yield ue(ll.from(t));try{if(!(yield ue(e.open({autoDestroy:!1}))).closed)do{yield yield ue(e)}while(!(yield ue(e.reset().open())).closed)}finally{yield ue(e.cancel())}}))}class Sl extends ur{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=t=>t.flatMap((t=>Array.isArray(t)?e(t):t instanceof Ka?t.data.children:t.data)),n=new Sl;return n.visitMany(e(t)),n}visit(t){if(t instanceof os)return this.visitMany(t.data),this;const{type:e}=t;if(!Sn.isDictionary(e)){const{length:n,nullCount:r}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Sn.isNull(e)||Al.call(this,r<=0?new Uint8Array(0):$i(t.offset,n,t.nullBitmap)),this.nodes.push(new zc(n,r))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Al(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new jc(this._byteLength,e)),this._byteLength+=e,this}function Il(t){return Al.call(this,t.values.subarray(0,t.length*t.stride))}function Tl(t){const{length:e,values:n,valueOffsets:r}=t,i=r[0],s=r[e],a=Math.min(s-i,n.byteLength-i);return Al.call(this,qe(-r[0],e,r)),Al.call(this,n.subarray(i,i+a)),this}function Ml(t){const{length:e,valueOffsets:n}=t;return n&&Al.call(this,qe(n[0],e,n)),this.visit(t.children[0])}function kl(t){return this.visitMany(t.type.children.map(((e,n)=>t.children[n])).filter(Boolean))[0]}Sl.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?Al.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Al.call(this,$i(t.offset,t.length,e)):Al.call(this,Ri(t.values))},Sl.prototype.visitInt=Il,Sl.prototype.visitFloat=Il,Sl.prototype.visitUtf8=Tl,Sl.prototype.visitBinary=Tl,Sl.prototype.visitFixedSizeBinary=Il,Sl.prototype.visitDate=Il,Sl.prototype.visitTimestamp=Il,Sl.prototype.visitTime=Il,Sl.prototype.visitDecimal=Il,Sl.prototype.visitList=Ml,Sl.prototype.visitStruct=kl,Sl.prototype.visitUnion=function(t){const{type:e,length:n,typeIds:r,valueOffsets:i}=t;if(Al.call(this,r),e.mode===Zt.Sparse)return kl.call(this,t);if(e.mode===Zt.Dense){if(t.offset<=0)return Al.call(this,i),kl.call(this,t);{const s=r.reduce(((t,e)=>Math.max(t,e)),r[0]),a=new Int32Array(s+1),o=new Int32Array(s+1).fill(-1),c=new Int32Array(n),l=qe(-i[0],n,i);for(let t,e,i=-1;++i<n;)-1===(e=o[t=r[i]])&&(e=o[t]=l[t]),c[i]=l[i]-e,++a[t];Al.call(this,c);for(let r,i=-1,s=e.children.length;++i<s;)if(r=t.children[i]){const t=e.typeIds[i],s=Math.min(n,a[t]);this.visit(r.slice(o[t],s))}}}return this},Sl.prototype.visitInterval=Il,Sl.prototype.visitFixedSizeList=Ml,Sl.prototype.visitMap=Ml;class Cl extends Bo{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Fo,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Te(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Me(t)?t.then((t=>this.writeAll(t))):Ce(t)?Dl(this,t):Ol(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){var n;return t===this._sink||t instanceof Fo?this._sink=t:(this._sink=new Fo,t&&Te(n=t)&&Ie(n.abort)&&Ie(n.getWriter)&&!Be(n)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>Te(t)&&Ie(t.end)&&Ie(t.write)&&Ae(t.writable)&&!Be(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&qa(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof eo&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Ka&&!(e=t.schema))return this.finish()&&void 0;if(e&&!qa(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Ka?t instanceof Za||this._writeRecordBatch(t):t instanceof eo?this.writeAll(t.batches):ke(t)&&this.writeAll(t)}_writeMessage(t,e=8){const n=e-1,r=Vc.encode(t),i=r.byteLength,s=this._writeLegacyIpcFormat?4:8,a=i+s+n&~n,o=a-i-s;return t.headerType===re.RecordBatch?this._recordBatchBlocks.push(new Mo(a,t.bodyLength,this._position)):t.headerType===re.DictionaryBatch&&this._dictionaryBlocks.push(new Mo(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-s)),i>0&&this._write(r),this._writePadding(o)}_write(t){if(this._started){const e=je(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(Vc.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(il)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:r,buffers:i}=Sl.assemble(t),s=new $c(t.numRows,n,r),a=Vc.from(s,e);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(i)}_writeDictionaryBatch(t,e,n=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:r,nodes:i,bufferRegions:s,buffers:a}=Sl.assemble(new os([t])),o=new $c(t.length,i,s),c=new Rc(o,e,n),l=Vc.from(c,r);return this._writeMessage(l)._writeBodyBuffers(a)}_writeBodyBuffers(t){let e,n,r;for(let i=-1,s=t.length;++i<s;)(e=t[i])&&(n=e.byteLength)>0&&(this._write(e),(r=(n+7&-8)-n)>0&&this._writePadding(r));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(n=null==n?void 0:n.slice(t)).length>0)for(const r of n.data)this._writeDictionaryBatch(r,e,t>0),t+=r.length}return this}}class Nl extends Cl{static writeAll(t,e){const n=new Nl(e);return Me(t)?t.then((t=>n.writeAll(t))):Ce(t)?Dl(n,t):Ol(n,t)}}class El extends Cl{static writeAll(t){const e=new El;return Me(t)?t.then((t=>e.writeAll(t))):Ce(t)?Dl(e,t):Ol(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=Io.encode(new Io(t,Jt.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Ol(t,e){let n=e;e instanceof eo&&(n=e.batches,t.reset(void 0,e.schema));for(const e of n)t.write(e);return t.finish()}function Dl(t,e){var n,r,i,s;return le(this,void 0,void 0,(function*(){try{for(n=fe(e);!(r=yield n.next()).done;){const e=r.value;t.write(e)}}catch(t){i={error:t}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}return t.finish()}))}function Bl(t){const e=ll.from(t);return Me(e)?e.then((t=>Bl(t))):e.isAsync()?e.readAll().then((t=>new eo(t))):new eo(e.readAll())}const Ll=()=>o("Apache Arrow not imported, see https://github.com/uwdata/arquero#usage");function Fl(t,e={}){const{types:n={}}=e,{dataFrom:i,names:s,nrows:a,scan:c}=function(t,e){const{columns:n,limit:i=1/0,offset:s=0}=e,a=l(n)?n(t):r(n)?n:null;return r(t)?{dataFrom:Na,names:a||Object.keys(t[0]),nrows:Math.min(i,t.length-s),scan:Da(t,i,s)}:function(t){return t&&l(t.reify)}(t)?{dataFrom:Ea,names:a||t.columnNames(),nrows:Math.min(i,t.numRows()-s),scan:Ba(t,i,s)}:void o("Unsupported input data type")}(t,e),u={};return s.forEach((e=>{const r=i(t,e,a,c,n[e]);r.length!==a&&o("Column length mismatch"),u[e]=r})),new(function(){try{return eo}catch(t){Ll()}}())(u)}const Pl=Fl;function Ul(t,e){return l(e)?e(t):e||t.columnNames()}function Vl(t,e,n){const r=n.format||{},i=n.align||{},s={},a={};return e.forEach((e=>{const o=function(t,e={}){let n=0,r=0,i=0,s=0,a=0,o=0;return t((t=>{if(++n,null==t)return void++r;const e=typeof t;if("object"===e&&p(t))++i,0===(c=t).getUTCHours()&&0===c.getUTCMinutes()&&0===c.getUTCSeconds()&&0===c.getUTCMilliseconds()&&++s;else if("number"===e&&(++a,t==t&&(0|t)!==t)){const e=t+"",n=e.indexOf(".");if(n>=0){const t=e.indexOf("e"),r=t>0?t:e.length;o=Math.max(o,r-n-1)}}var c})),{align:(r+a+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(o,e.maxdigits||6)}}}(function(t,e){const n=t.column(e);return e=>t.scan((t=>e(n.get(t))))}(t,e),n);a[e]=i[e]||o.align,s[e]=r[e]||o.format})),{align:a,format:s}}function $l(t,e,n=100,r,i){const s=t.data(),a=e.length;t.scan((t=>{i.row(t);for(let n=0;n<a;++n){const r=e[n];i.cell(s[e[n]].get(t),r,n)}}),!0,n,r)}function Rl(t,e={}){if(l(e))return e(t)+"";const n=typeof t;if("object"===n){if(p(t))return e.utc?B(t):D(t);{const n=JSON.stringify(t,((t,e)=>I(e)?Array.from(e):e)),r=e.maxlen||30;return n.length>r?n.slice(0,28)+""+("["===n[0]?"]":"}"):n}}if("number"===n){const n=e.digits||0;let r;return 0!==t&&((r=Math.abs(t))>=1e18||r<Math.pow(10,-n))?t.toExponential(n):t.toFixed(n)}return t+""}function jl(t,e,n={}){for(const r in t)n[r]=e(t[r],r);return n}function zl(t,e=!0,n=!1){return void 0===t||t?e:n}const Hl=t=>p(t)?B(t,!0):t;function Wl(t,e){for(const[n,r]of qt(e))t.set(n,r);return t}function ql(t){return t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function Yl(t,e,n=new Map){return y(e=c(e)?t.columnName(e):e)?n.set(e,e):r(e)?e.forEach((e=>Yl(t,e,n))):l(e)?Yl(t,e(t),n):m(e)?Wl(n,e):o(`Invalid column selection: ${nt(e)}`),n}function Gl(t,e){return t.toObject=e,t}function Kl(t){return r(t)?t.map(Kl):t&&t.toObject?t.toObject():t}function Xl(){return Gl((t=>t.columnNames()),(()=>({all:[]})))}function Jl(...t){return t=t.flat(),Gl((e=>{const n=Yl(e,t);return e.columnNames((t=>!n.has(t)))}),(()=>({not:Kl(t)})))}function Zl(t,e){return Gl((n=>{let r=c(t)?t:n.columnIndex(t),i=c(e)?e:n.columnIndex(e);if(i<r){const t=i;i=r,r=t}return n.columnNames().slice(r,i+1)}),(()=>({range:[t,e]})))}function Ql(t){return y(t)&&(t=RegExp(ql(t))),Gl((e=>e.columnNames((e=>t.test(e)))),(()=>({matches:[t.source,t.flags]})))}function tu(t){return Ql(RegExp("^"+ql(t)))}function eu(t){return Ql(RegExp(ql(t)+"$"))}class nu extends h{static from(t,e){return new nu(function(t,e){const n=e=>o(`Illegal argument type: ${e||typeof t}`);return t instanceof Map?b(t.entries(),e):p(t)?n("Date"):g(t)?n("RegExp"):y(t)?n():r(t)?function(t,e){const n=t.length,r={},i=t=>r[t]=Array(n);if(n){const r=(e=e||Object.keys(t[0])).map(i),s=r.length;for(let i=0;i<n;++i){const n=t[i];for(let t=0;t<s;++t)r[t][i]=n[e[t]]}}else e&&e.forEach(i);return r}(t,e):l(t[Symbol.iterator])?function(t,e){const n={},r=t=>n[t]=[];let i,s;for(const n of t){i||(i=(e=e||Object.keys(n)).map(r),s=i.length);for(let t=0;t<s;++t)i[t].push(n[e[t]])}return!i&&e&&e.forEach(r),n}(t,e):m(t)?b(Object.entries(t),e):n()}(t,e),e)}static new(t,e){if(t instanceof nu)return t;const n={},r=[];for(const[e,i]of qt(t))n[e]=i,r.push(e);return new nu(n,e||r)}constructor(t,e,n,r,i,s){jl(t,f,t),super(e=e||Object.keys(t),e.length?t[e[0]].length:0,t,n,r,i,s)}create({data:t,names:e,filter:n,groups:r,order:i}){const s=void 0!==n?n:this.mask();return new nu(t||this._data,e||(t?null:this._names),s,void 0!==r?r:function(t,e){if(!t||!e)return t;const{keys:n,rows:r,size:i}=t,s=new Int32Array(i);e.scan((t=>s[n[t]]=1));const a=s.reduce(((t,e)=>t+e),0);if(a===i)return t;const o=Array(a);let c=0;for(let t=0;t<i;++t)s[t]&&(o[s[t]=c++]=r[t]);const l=new Uint32Array(n.length);return e.scan((t=>l[t]=s[n[t]])),{...t,keys:l,rows:o,size:c}}(this._group,n&&s),void 0!==i?i:this._order,this._params)}assign(...t){const e=this.numRows(),n=this.reify(),r=w(n).groupby(n.groups());return t.forEach((t=>{(t=nu.new(t)).numRows()!==e&&o("Assign row counts do not match"),(t=t.reify()).columnNames((e=>r.add(e,t.column(e))))})),this.create(r.new())}columns(){return this._data}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,e=Array){const n=this.column(t),r=new e(this.numRows());let i=-1;return this.scan((t=>r[++i]=n.get(t)),!0),r}get(t,e=0){const n=this.column(t);return this.isFiltered()||this.isOrdered()?n.get(this.indices()[e]):n.get(e)}getter(t){const e=this.column(t),n=this.isFiltered()||this.isOrdered()?this.indices():null;return n?t=>e.get(n[t]):e?t=>e.get(t):o(`Unrecognized column: ${t}`)}object(t=0){return ru(this)(t)}objects(t={}){const{grouped:e,limit:n,offset:r}=t,i=Xt(Yl(this,t.columns||Xl())),s=[];if(this.scan(((t,e)=>s.push(i(t,e))),!0,n,r),e&&this.isGrouped()){const t=[];return this.scan((e=>t.push(e)),!0,n,r),function(t,e,n,r){const i="map"===r||!0===r?lt:"entries"===r?ht:"object"===r?ut:o('groups option must be "map", "entries", or "object".'),{names:s}=t.groups(),a=function(t,e){t=X(t)?t:new Set(t);let n="_",r=0;for(;t.has(n);)n="_"+ ++r;return n}(t.columnNames());let c=t.select().reify(e).create({data:{[a]:n}}).rollup({[a]:ot(a)});for(let t=s.length;--t>=0;)c=c.groupby(s.slice(0,t)).rollup({[a]:i(s[t],a)});return c.get(a)}(this,t,s,e)}return s}*[Symbol.iterator](){const t=ru(this),e=this.numRows();for(let n=0;n<e;++n)yield t(n)}reify(t){const e=t?t.length:this.numRows(),n=this._names;let r,i;if(!t&&!this.isOrdered()){if(!this.isFiltered())return this;e===this.totalRows()&&(r=this.data())}if(!r){const a=t?e=>t.forEach(e):t=>this.scan(t,!0),o=n.length;r={};for(let t=0;t<o;++t){const i=n[t],o=this.column(i),c=r[i]=new(I((s=o).data)?s.data.constructor:Array)(e);let l=-1;a((t=>c[++l]=o.get(t)))}this.isGrouped()&&(i=function(t,e,n,r){const{keys:i,rows:s,size:a}=t;let o=s,c=a,l=null;if(n){l=new Int32Array(a),e((t=>l[i[t]]=1));const t=l.reduce(((t,e)=>t+e),0);if(t!==a){o=Array(t),c=0;for(let t=0;t<a;++t)l[t]&&(o[l[t]=c++]=s[t])}}let u=-1;const h=new Uint32Array(r);return e(c!==a?t=>h[++u]=l[i[t]]:t=>h[++u]=i[t]),{...t,keys:h,rows:o,size:c}}(this.groups(),a,!!t,e))}var s;return this.create({data:r,names:n,groups:i,filter:null,order:null})}transform(...t){return t.flat().reduce(((t,e)=>e(t)),this)}toArrow(t){return Pl(this,t)}toArrowBuffer(t){return function(t,e){return function(t,e="stream"){return("stream"===e?Nl:El).writeAll(t).toUint8Array(!0)}(Fl(t,e))}(this,t)}toCSV(t){return function(t,e={}){const n=Ul(t,e.columns),r=e.format||{},i=e.delimiter||",",s=new RegExp(`["${i}\n\r]`),a=t=>null==t?"":p(t)?B(t,!0):s.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t,o=n.map(a);let c="";return $l(t,n,e.limit||1/0,e.offset,{row(){c+=o.join(i)+"\n"},cell(t,e,n){o[n]=a(r[e]?r[e](t):t)}}),c+o.join(i)}(this,t)}toHTML(t){return function(t,e={}){const n=Ul(t,e.columns),{align:r,format:i}=Vl(t,n,e),s=function(t){return jl(t.style,(t=>l(t)?t:()=>t))}(e),a=e.null,o=(t,e)=>Rl(t,e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),c=a?(t,e)=>null==t?a(t):o(t,e):o;let u=-1,h=-1;const d=(t,e,n)=>{const i=n?(t=>"c"===t?"center":"r"===t?"right":"left")(r[e]):"",a=s[t]&&s[t](e,h,u)||"",o=(i?`text-align: ${i};`+(a?" ":""):"")+a;return`<${t}${o?` style="${o}"`:""}>`};let f=d("table")+d("thead")+d("tr",u)+n.map((t=>`${d("th",t,1)}${t}</th>`)).join("")+"</tr></thead>"+d("tbody");return $l(t,n,e.limit,e.offset,{row(t){u=t,f+=(++h?"</tr>":"")+d("tr")},cell(t,e){f+=d("td",e,1)+c(t,i[e])+"</td>"}}),f+"</tr></tbody></table>"}(this,t)}toJSON(t){return function(t,e={}){const n=zl(e.schema),r=e.format||{},i=Ul(t,e.columns);let s="{";return n&&(s+='"schema":{"fields":'+JSON.stringify(i.map((t=>({name:t}))))+'},"data":{'),i.forEach(((n,i)=>{s+=(i?",":"")+JSON.stringify(n)+":[";const a=t.column(n),o=r[n]||Hl;let c=-1;t.scan((t=>{const e=a.get(t);s+=(++c?",":"")+JSON.stringify(o(e))}),!0,e.limit,e.offset),s+="]"})),s+"}"+(n?"}":"")}(this,t)}toMarkdown(t){return function(t,e={}){const n=Ul(t,e.columns),{align:r,format:i}=Vl(t,n,e),s=t=>t.replace(/\|/g,"\\|");let a="|"+n.map(s).join("|")+"|\n|"+n.map((t=>{return"c"===(e=r[t])?":-:":"r"===e?"-:":":-";var e})).join("|")+"|";return $l(t,n,e.limit,e.offset,{row(){a+="\n|"},cell(t,e){a+=s(Rl(t,i[e]))+"|"}}),a+"\n"}(this,t)}}function ru(t){let e=t._builder;if(!e){const n=Xt(t.columnNames()),r=t.data();if(t.isOrdered()||t.isFiltered()){const i=t.indices();e=t=>n(i[t],r)}else e=t=>n(t,r);t._builder=e}return e}class iu{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(){return{}}add(){}rem(){}write(){}}function su(t,e,n,r){const i=n[t.type]||n.Default;if(i&&!1===i(t,e,r))return;const s=du[t.type];s&&s(t,e,n)}const au=(t,e,n)=>{su(t.argument,e,n,t)},ou=(t,e,n)=>{su(t.left,e,n,t),su(t.right,e,n,t)},cu=(t,e,n)=>{su(t.test,e,n,t),su(t.consequent,e,n,t),t.alternate&&su(t.alternate,e,n,t)},lu=(t,e,n)=>{hu(t.params,e,n,t),su(t.body,e,n,t)},uu=(t,e,n)=>{su(t.callee,e,n,t),hu(t.arguments,e,n,t)},hu=(t,e,n,r)=>{t.forEach((t=>su(t,e,n,r)))},du={TemplateLiteral:(t,e,n)=>{hu(t.expressions,e,n,t),hu(t.quasis,e,n,t)},MemberExpression:(t,e,n)=>{su(t.object,e,n,t),su(t.property,e,n,t)},CallExpression:uu,NewExpression:uu,ArrayExpression:(t,e,n)=>{hu(t.elements,e,n,t)},AssignmentExpression:ou,AwaitExpression:au,BinaryExpression:ou,LogicalExpression:ou,UnaryExpression:au,UpdateExpression:au,ConditionalExpression:cu,ObjectExpression:(t,e,n)=>{hu(t.properties,e,n,t)},Property:(t,e,n)=>{su(t.key,e,n,t),su(t.value,e,n,t)},ArrowFunctionExpression:lu,FunctionExpression:lu,FunctionDeclaration:lu,VariableDeclaration:(t,e,n)=>{hu(t.declarations,e,n,t)},VariableDeclarator:(t,e,n)=>{su(t.id,e,n,t),su(t.init,e,n,t)},SpreadElement:(t,e,n)=>{su(t.argument,e,n,t)},BlockStatement:(t,e,n)=>{hu(t.body,e,n,t)},ExpressionStatement:(t,e,n)=>{su(t.expression,e,n,t)},IfStatement:cu,ForStatement:(t,e,n)=>{su(t.init,e,n,t),su(t.test,e,n,t),su(t.update,e,n,t),su(t.body,e,n,t)},WhileStatement:(t,e,n)=>{su(t.test,e,n,t),su(t.body,e,n,t)},DoWhileStatement:(t,e,n)=>{su(t.body,e,n,t),su(t.test,e,n,t)},SwitchStatement:(t,e,n)=>{su(t.discriminant,e,n,t),hu(t.cases,e,n,t)},SwitchCase:(t,e,n)=>{t.test&&su(t.test,e,n,t),hu(t.consequent,e,n,t)},ReturnStatement:au,Program:(t,e,n)=>{su(t.body[0],e,n,t)}};function fu(t){delete t.start,delete t.end,delete t.optional}function pu(t){fu(t),delete t.object,delete t.property,delete t.computed,t.table||delete t.table}function mu(t,e){return e&&e.type===t}function gu(t,e,n){t.aggronly&&o("Escaped functions are not valid as rollup or pivot values.");const r="(row,data)=>fn("+Kt(t.table.columnNames())+",$)";return{escape:zt.escape(r,(i=e.expr,l(i)?i:()=>i),n)};var i}var yu=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],bu=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],vu="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",_u={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},wu="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",xu={5:wu,"5module":wu+" export import",6:wu+" const class extends export import super"},Su=/^in(stanceof)?$/,Au=new RegExp("["+vu+"]"),Iu=new RegExp("["+vu+"-----------------------------------------------------------------------------------------------------------------------------------------------------]");function Tu(t,e){for(var n=65536,r=0;r<e.length;r+=2){if((n+=e[r])>t)return!1;if((n+=e[r+1])>=t)return!0}}function Mu(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&Au.test(String.fromCharCode(t)):!1!==e&&Tu(t,bu)))}function ku(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&Iu.test(String.fromCharCode(t)):!1!==e&&(Tu(t,bu)||Tu(t,yu)))))}var Cu=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function Nu(t,e){return new Cu(t,{beforeExpr:!0,binop:e})}var Eu={beforeExpr:!0},Ou={startsExpr:!0},Du={};function Bu(t,e){return void 0===e&&(e={}),e.keyword=t,Du[t]=new Cu(t,e)}var Lu={num:new Cu("num",Ou),regexp:new Cu("regexp",Ou),string:new Cu("string",Ou),name:new Cu("name",Ou),privateId:new Cu("privateId",Ou),eof:new Cu("eof"),bracketL:new Cu("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Cu("]"),braceL:new Cu("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Cu("}"),parenL:new Cu("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Cu(")"),comma:new Cu(",",Eu),semi:new Cu(";",Eu),colon:new Cu(":",Eu),dot:new Cu("."),question:new Cu("?",Eu),questionDot:new Cu("?."),arrow:new Cu("=>",Eu),template:new Cu("template"),invalidTemplate:new Cu("invalidTemplate"),ellipsis:new Cu("...",Eu),backQuote:new Cu("`",Ou),dollarBraceL:new Cu("${",{beforeExpr:!0,startsExpr:!0}),eq:new Cu("=",{beforeExpr:!0,isAssign:!0}),assign:new Cu("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Cu("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Cu("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Nu("||",1),logicalAND:Nu("&&",2),bitwiseOR:Nu("|",3),bitwiseXOR:Nu("^",4),bitwiseAND:Nu("&",5),equality:Nu("==/!=/===/!==",6),relational:Nu("</>/<=/>=",7),bitShift:Nu("<</>>/>>>",8),plusMin:new Cu("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Nu("%",10),star:Nu("*",10),slash:Nu("/",10),starstar:new Cu("**",{beforeExpr:!0}),coalesce:Nu("??",1),_break:Bu("break"),_case:Bu("case",Eu),_catch:Bu("catch"),_continue:Bu("continue"),_debugger:Bu("debugger"),_default:Bu("default",Eu),_do:Bu("do",{isLoop:!0,beforeExpr:!0}),_else:Bu("else",Eu),_finally:Bu("finally"),_for:Bu("for",{isLoop:!0}),_function:Bu("function",Ou),_if:Bu("if"),_return:Bu("return",Eu),_switch:Bu("switch"),_throw:Bu("throw",Eu),_try:Bu("try"),_var:Bu("var"),_const:Bu("const"),_while:Bu("while",{isLoop:!0}),_with:Bu("with"),_new:Bu("new",{beforeExpr:!0,startsExpr:!0}),_this:Bu("this",Ou),_super:Bu("super",Ou),_class:Bu("class",Ou),_extends:Bu("extends",Eu),_export:Bu("export"),_import:Bu("import",Ou),_null:Bu("null",Ou),_true:Bu("true",Ou),_false:Bu("false",Ou),_in:Bu("in",{beforeExpr:!0,binop:7}),_instanceof:Bu("instanceof",{beforeExpr:!0,binop:7}),_typeof:Bu("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Bu("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Bu("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Fu=/\r\n?|\n|\u2028|\u2029/,Pu=new RegExp(Fu.source,"g");function Uu(t){return 10===t||13===t||8232===t||8233===t}function Vu(t,e,n){void 0===n&&(n=t.length);for(var r=e;r<n;r++){var i=t.charCodeAt(r);if(Uu(i))return r<n-1&&13===i&&10===t.charCodeAt(r+1)?r+2:r+1}return-1}var $u=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ru=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ju=Object.prototype,zu=ju.hasOwnProperty,Hu=ju.toString,Wu=Object.hasOwn||function(t,e){return zu.call(t,e)},qu=Array.isArray||function(t){return"[object Array]"===Hu.call(t)};function Yu(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}function Gu(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}var Ku=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Xu=function(t,e){this.line=t,this.column=e};Xu.prototype.offset=function(t){return new Xu(this.line,this.column+t)};var Ju=function(t,e,n){this.start=e,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)};function Zu(t,e){for(var n=1,r=0;;){var i=Vu(t,r,e);if(i<0)return new Xu(n,e-r);++n,r=i}}var Qu={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},th=!1;function eh(t,e){return 2|(t?4:0)|(e?8:0)}var nh=function(t,e,n){this.options=t=function(t){var e={};for(var n in Qu)e[n]=t&&Wu(t,n)?t[n]:Qu[n];if("latest"===e.ecmaVersion?e.ecmaVersion=1e8:null==e.ecmaVersion?(!th&&"object"==typeof console&&console.warn&&(th=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),null==t.allowHashBang&&(e.allowHashBang=e.ecmaVersion>=14),qu(e.onToken)){var r=e.onToken;e.onToken=function(t){return r.push(t)}}return qu(e.onComment)&&(e.onComment=function(t,e){return function(n,r,i,s,a,o){var c={type:n?"Block":"Line",value:r,start:i,end:s};t.locations&&(c.loc=new Ju(this,a,o)),t.ranges&&(c.range=[i,s]),e.push(c)}}(e,e.onComment)),e}(t),this.sourceFile=t.sourceFile,this.keywords=Yu(xu[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var r="";!0!==t.allowReserved&&(r=_u[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(r+=" await")),this.reservedWords=Yu(r);var i=(r?r+" ":"")+_u.strict;this.reservedWordsStrict=Yu(i),this.reservedWordsStrictBind=Yu(i+" "+_u.strictBind),this.input=String(e),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Fu).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=Lu.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},rh={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};nh.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},rh.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},rh.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},rh.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},rh.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||256&e.flags)return!1;if(2&e.flags)return(4&e.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},rh.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(64&e)>0||n||this.options.allowSuperOutsideMethod},rh.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},rh.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},rh.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,n=t.inClassFieldInit;return(258&e)>0||n},rh.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},nh.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=this,r=0;r<t.length;r++)n=t[r](n);return n},nh.parse=function(t,e){return new this(e,t).parse()},nh.parseExpressionAt=function(t,e,n){var r=new this(n,t,e);return r.nextToken(),r.parseExpression()},nh.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(nh.prototype,rh);var ih=nh.prototype,sh=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ih.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Ru.lastIndex=t,t+=Ru.exec(this.input)[0].length;var e=sh.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){Ru.lastIndex=t+e[0].length;var n=Ru.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||Fu.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}t+=e[0].length,Ru.lastIndex=t,t+=Ru.exec(this.input)[0].length,";"===this.input[t]&&t++}},ih.eat=function(t){return this.type===t&&(this.next(),!0)},ih.isContextual=function(t){return this.type===Lu.name&&this.value===t&&!this.containsEsc},ih.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},ih.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},ih.canInsertSemicolon=function(){return this.type===Lu.eof||this.type===Lu.braceR||Fu.test(this.input.slice(this.lastTokEnd,this.start))},ih.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ih.semicolon=function(){this.eat(Lu.semi)||this.insertSemicolon()||this.unexpected()},ih.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},ih.expect=function(t){this.eat(t)||this.unexpected()},ih.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")};var ah=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};ih.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,e?"Assigning to rvalue":"Parenthesized pattern")}},ih.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,r=t.doubleProto;if(!e)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},ih.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ih.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var oh=nh.prototype;oh.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==Lu.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var ch={kind:"loop"},lh={kind:"switch"};oh.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Ru.lastIndex=this.pos;var e=Ru.exec(this.input),n=this.pos+e[0].length,r=this.input.charCodeAt(n);if(91===r||92===r||r>55295&&r<56320)return!0;if(t)return!1;if(123===r)return!0;if(Mu(r,!0)){for(var i=n+1;ku(r=this.input.charCodeAt(i),!0);)++i;if(92===r||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Su.test(s))return!0}return!1},oh.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Ru.lastIndex=this.pos;var t,e=Ru.exec(this.input),n=this.pos+e[0].length;return!(Fu.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(ku(t=this.input.charCodeAt(n+8))||t>55295&&t<56320))},oh.parseStatement=function(t,e,n){var r,i=this.type,s=this.startNode();switch(this.isLet(t)&&(i=Lu._var,r="let"),i){case Lu._break:case Lu._continue:return this.parseBreakContinueStatement(s,i.keyword);case Lu._debugger:return this.parseDebuggerStatement(s);case Lu._do:return this.parseDoStatement(s);case Lu._for:return this.parseForStatement(s);case Lu._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case Lu._class:return t&&this.unexpected(),this.parseClass(s,!0);case Lu._if:return this.parseIfStatement(s);case Lu._return:return this.parseReturnStatement(s);case Lu._switch:return this.parseSwitchStatement(s);case Lu._throw:return this.parseThrowStatement(s);case Lu._try:return this.parseTryStatement(s);case Lu._const:case Lu._var:return r=r||this.value,t&&"var"!==r&&this.unexpected(),this.parseVarStatement(s,r);case Lu._while:return this.parseWhileStatement(s);case Lu._with:return this.parseWithStatement(s);case Lu.braceL:return this.parseBlock(!0,s);case Lu.semi:return this.parseEmptyStatement(s);case Lu._export:case Lu._import:if(this.options.ecmaVersion>10&&i===Lu._import){Ru.lastIndex=this.pos;var a=Ru.exec(this.input),o=this.pos+a[0].length,c=this.input.charCodeAt(o);if(40===c||46===c)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===Lu._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var l=this.value,u=this.parseExpression();return i===Lu.name&&"Identifier"===u.type&&this.eat(Lu.colon)?this.parseLabeledStatement(s,l,u,t):this.parseExpressionStatement(s,u)}},oh.parseBreakContinueStatement=function(t,e){var n="break"===e;this.next(),this.eat(Lu.semi)||this.insertSemicolon()?t.label=null:this.type!==Lu.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==t.label||i.name===t.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(t.label&&n)break}}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},oh.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},oh.parseDoStatement=function(t){return this.next(),this.labels.push(ch),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(Lu._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(Lu.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},oh.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ch),this.enterScope(0),this.expect(Lu.parenL),this.type===Lu.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===Lu._var||this.type===Lu._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===Lu._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===Lu._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var s=this.isContextual("let"),a=!1,o=new ah,c=this.parseExpression(!(e>-1)||"await",o);return this.type===Lu._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===Lu._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&a&&this.raise(c.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(c,!1,o),this.checkLValPattern(c),this.parseForIn(t,c)):(this.checkExpressionErrors(o,!0),e>-1&&this.unexpected(e),this.parseFor(t,c))},oh.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,hh|(n?0:dh),!1,e)},oh.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(Lu._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},oh.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(Lu.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},oh.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(Lu.braceL),this.labels.push(lh),this.enterScope(0);for(var n=!1;this.type!==Lu.braceR;)if(this.type===Lu._case||this.type===Lu._default){var r=this.type===Lu._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(Lu.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},oh.parseThrowStatement=function(t){return this.next(),Fu.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var uh=[];oh.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===Lu._catch){var e=this.startNode();if(this.next(),this.eat(Lu.parenL)){e.param=this.parseBindingAtom();var n="Identifier"===e.param.type;this.enterScope(n?32:0),this.checkLValPattern(e.param,n?4:2),this.expect(Lu.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(Lu._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},oh.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},oh.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(ch),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},oh.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},oh.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},oh.parseLabeledStatement=function(t,e,n,r){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===e&&this.raise(n.start,"Label '"+e+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===Lu._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var c=this.labels[o];if(c.statementStart!==t.start)break;c.statementStart=this.start,c.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},oh.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},oh.parseBlock=function(t,e,n){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(Lu.braceL),t&&this.enterScope(0);this.type!==Lu.braceR;){var r=this.parseStatement(null);e.body.push(r)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},oh.parseFor=function(t,e){return t.init=e,this.expect(Lu.semi),t.test=this.type===Lu.semi?null:this.parseExpression(),this.expect(Lu.semi),t.update=this.type===Lu.parenR?null:this.parseExpression(),this.expect(Lu.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},oh.parseForIn=function(t,e){var n=this.type===Lu._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(Lu.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")},oh.parseVar=function(t,e,n){for(t.declarations=[],t.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(Lu.eq)?r.init=this.parseMaybeAssign(e):"const"!==n||this.type===Lu._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||e&&(this.type===Lu._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(Lu.comma))break}return t},oh.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?1:2,!1)};var hh=1,dh=2;function fh(t,e){var n=e.key.name,r=t[n],i="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(i=(e.static?"s":"i")+e.kind),"iget"===r&&"iset"===i||"iset"===r&&"iget"===i||"sget"===r&&"sset"===i||"sset"===r&&"sget"===i?(t[n]="true",!1):!!r||(t[n]=i,!1)}function ph(t,e){var n=t.computed,r=t.key;return!n&&("Identifier"===r.type&&r.name===e||"Literal"===r.type&&r.value===e)}oh.parseFunction=function(t,e,n,r,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===Lu.star&&e&dh&&this.unexpected(),t.generator=this.eat(Lu.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&hh&&(t.id=4&e&&this.type!==Lu.name?null:this.parseIdent(),!t.id||e&dh||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(eh(t.async,t.generator)),e&hh||(t.id=this.type===Lu.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,i),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(t,e&hh?"FunctionDeclaration":"FunctionExpression")},oh.parseFunctionParams=function(t){this.expect(Lu.parenL),t.params=this.parseBindingList(Lu.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},oh.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(Lu.braceL);this.type!==Lu.braceR;){var a=this.parseClassElement(null!==t.superClass);a&&(i.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(s&&this.raise(a.start,"Duplicate constructor in the same class"),s=!0):a.key&&"PrivateIdentifier"===a.key.type&&fh(r,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},oh.parseClassElement=function(t){if(this.eat(Lu.semi))return null;var e=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,a="method",o=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(Lu.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===Lu.star?o=!0:r="static"}if(n.static=o,!r&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==Lu.star||this.canInsertSemicolon()?r="async":s=!0),!r&&(e>=9||!s)&&this.eat(Lu.star)&&(i=!0),!r&&!s&&!i){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=c:r=c)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),e<13||this.type===Lu.parenL||"method"!==a||i||s){var l=!n.static&&ph(n,"constructor"),u=l&&t;l&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":a,this.parseClassMethod(n,i,s,u)}else this.parseClassField(n);return n},oh.isClassElementNameStart=function(){return this.type===Lu.name||this.type===Lu.privateId||this.type===Lu.num||this.type===Lu.string||this.type===Lu.bracketL||this.type.keyword},oh.parseClassElementName=function(t){this.type===Lu.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},oh.parseClassMethod=function(t,e,n,r){var i=t.key;"constructor"===t.kind?(e&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):t.static&&ph(t,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,n,r);return"get"===t.kind&&0!==s.params.length&&this.raiseRecoverable(s.start,"getter should have no params"),"set"===t.kind&&1!==s.params.length&&this.raiseRecoverable(s.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===s.params[0].type&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},oh.parseClassField=function(t){if(ph(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&ph(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(Lu.eq)){var e=this.currentThisScope(),n=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=n}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")},oh.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(320);this.type!==Lu.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")},oh.parseClassId=function(t,e){this.type===Lu.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},oh.parseClassSuper=function(t){t.superClass=this.eat(Lu._extends)?this.parseExprSubscripts(!1):null},oh.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},oh.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,n=t.used,r=this.privateNameStack.length,i=0===r?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var a=n[s];Wu(e,a.name)||(i?i.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},oh.parseExport=function(t,e){if(this.next(),this.eat(Lu.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==Lu.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(Lu._default)){var n;if(this.checkExport(e,"default",this.lastTokStart),this.type===Lu._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),t.declaration=this.parseFunction(r,4|hh,!1,n)}else if(this.type===Lu._class){var i=this.startNode();t.declaration=this.parseClass(i,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==Lu.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var s=0,a=t.specifiers;s<a.length;s+=1){var o=a[s];this.checkUnreserved(o.local),this.checkLocalExport(o.local),"Literal"===o.local.type&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},oh.checkExport=function(t,e,n){t&&("string"!=typeof e&&(e="Identifier"===e.type?e.name:e.value),Wu(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)},oh.checkPatternExport=function(t,e){var n=e.type;if("Identifier"===n)this.checkExport(t,e,e.start);else if("ObjectPattern"===n)for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(t,s)}else if("ArrayPattern"===n)for(var a=0,o=e.elements;a<o.length;a+=1){var c=o[a];c&&this.checkPatternExport(t,c)}else"Property"===n?this.checkPatternExport(t,e.value):"AssignmentPattern"===n?this.checkPatternExport(t,e.left):"RestElement"===n?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(t,e.expression)},oh.checkVariableExport=function(t,e){if(t)for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}},oh.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},oh.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(Lu.braceL);!this.eat(Lu.braceR);){if(n)n=!1;else if(this.expect(Lu.comma),this.afterTrailingComma(Lu.braceR))break;var r=this.startNode();r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(t,r.exported,r.exported.start),e.push(this.finishNode(r,"ExportSpecifier"))}return e},oh.parseImport=function(t){return this.next(),this.type===Lu.string?(t.specifiers=uh,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===Lu.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},oh.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===Lu.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLValSimple(n.local,2),t.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(Lu.comma))return t}if(this.type===Lu.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLValSimple(r.local,2),t.push(this.finishNode(r,"ImportNamespaceSpecifier")),t}for(this.expect(Lu.braceL);!this.eat(Lu.braceR);){if(e)e=!1;else if(this.expect(Lu.comma),this.afterTrailingComma(Lu.braceR))break;var i=this.startNode();i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,2),t.push(this.finishNode(i,"ImportSpecifier"))}return t},oh.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===Lu.string){var t=this.parseLiteral(this.value);return Ku.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},oh.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},oh.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var mh=nh.prototype;mh.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,e),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t},mh.toAssignableList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];i&&this.toAssignable(i,e)}if(n){var s=t[n-1];6===this.options.ecmaVersion&&e&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return t},mh.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},mh.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==Lu.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},mh.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case Lu.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(Lu.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case Lu.braceL:return this.parseObj(!0)}return this.parseIdent()},mh.parseBindingList=function(t,e,n){for(var r=[],i=!0;!this.eat(t);)if(i?i=!1:this.expect(Lu.comma),e&&this.type===Lu.comma)r.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===Lu.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),r.push(s),this.type===Lu.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},mh.parseBindingListItem=function(t){return t},mh.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(Lu.eq))return n;var r=this.startNodeAt(t,e);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},mh.checkLValSimple=function(t,e,n){void 0===e&&(e=0);var r=0!==e;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(Wu(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),5!==e&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,n);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}},mh.checkLValPattern=function(t,e,n){switch(void 0===e&&(e=0),t.type){case"ObjectPattern":for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,e,n)}break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var c=o[a];c&&this.checkLValInnerPattern(c,e,n)}break;default:this.checkLValSimple(t,e,n)}},mh.checkLValInnerPattern=function(t,e,n){switch(void 0===e&&(e=0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,n);break;case"RestElement":this.checkLValPattern(t.argument,e,n);break;default:this.checkLValPattern(t,e,n)}};var gh=function(t,e,n,r,i){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=r,this.generator=!!i},yh={b_stat:new gh("{",!1),b_expr:new gh("{",!0),b_tmpl:new gh("${",!1),p_stat:new gh("(",!1),p_expr:new gh("(",!0),q_tmpl:new gh("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new gh("function",!1),f_expr:new gh("function",!0),f_expr_gen:new gh("function",!0,!1,null,!0),f_gen:new gh("function",!1,!1,null,!0)},bh=nh.prototype;bh.initialContext=function(){return[yh.b_stat]},bh.curContext=function(){return this.context[this.context.length-1]},bh.braceIsBlock=function(t){var e=this.curContext();return e===yh.f_expr||e===yh.f_stat||(t!==Lu.colon||e!==yh.b_stat&&e!==yh.b_expr?t===Lu._return||t===Lu.name&&this.exprAllowed?Fu.test(this.input.slice(this.lastTokEnd,this.start)):t===Lu._else||t===Lu.semi||t===Lu.eof||t===Lu.parenR||t===Lu.arrow||(t===Lu.braceL?e===yh.b_stat:t!==Lu._var&&t!==Lu._const&&t!==Lu.name&&!this.exprAllowed):!e.isExpr)},bh.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},bh.updateContext=function(t){var e,n=this.type;n.keyword&&t===Lu.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr},bh.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)},Lu.parenR.updateContext=Lu.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===yh.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},Lu.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?yh.b_stat:yh.b_expr),this.exprAllowed=!0},Lu.dollarBraceL.updateContext=function(){this.context.push(yh.b_tmpl),this.exprAllowed=!0},Lu.parenL.updateContext=function(t){var e=t===Lu._if||t===Lu._for||t===Lu._with||t===Lu._while;this.context.push(e?yh.p_stat:yh.p_expr),this.exprAllowed=!0},Lu.incDec.updateContext=function(){},Lu._function.updateContext=Lu._class.updateContext=function(t){!t.beforeExpr||t===Lu._else||t===Lu.semi&&this.curContext()!==yh.p_stat||t===Lu._return&&Fu.test(this.input.slice(this.lastTokEnd,this.start))||(t===Lu.colon||t===Lu.braceL)&&this.curContext()===yh.b_stat?this.context.push(yh.f_stat):this.context.push(yh.f_expr),this.exprAllowed=!1},Lu.backQuote.updateContext=function(){this.curContext()===yh.q_tmpl?this.context.pop():this.context.push(yh.q_tmpl),this.exprAllowed=!1},Lu.star.updateContext=function(t){if(t===Lu._function){var e=this.context.length-1;this.context[e]===yh.f_expr?this.context[e]=yh.f_expr_gen:this.context[e]=yh.f_gen}this.exprAllowed=!0},Lu.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==Lu.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var vh=nh.prototype;function _h(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&_h(t.expression)}vh.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r,i=t.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===s&&(e.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),e.proto=!0);else{var a=e[r="$"+r];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):a=e[r]={init:!1,get:!1,set:!1},a[s]=!0}}},vh.parseExpression=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(t,e);if(this.type===Lu.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(Lu.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return i},vh.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,i=-1,s=-1,a=-1;e?(i=e.parenthesizedAssign,s=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new ah,r=!0);var o=this.start,c=this.startLoc;this.type!==Lu.parenL&&this.type!==Lu.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t);var l=this.parseMaybeConditional(t,e);if(n&&(l=n.call(this,l,o,c)),this.type.isAssign){var u=this.startNodeAt(o,c);return u.operator=this.value,this.type===Lu.eq&&(l=this.toAssignable(l,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=l.start&&(e.shorthandAssign=-1),this.type===Lu.eq?this.checkLValPattern(l):this.checkLValSimple(l),u.left=l,this.next(),u.right=this.parseMaybeAssign(t),a>-1&&(e.doubleProto=a),this.finishNode(u,"AssignmentExpression")}return r&&this.checkExpressionErrors(e,!0),i>-1&&(e.parenthesizedAssign=i),s>-1&&(e.trailingComma=s),l},vh.parseMaybeConditional=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return i;if(this.eat(Lu.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(Lu.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return i},vh.parseExprOps=function(t,e){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,t)},vh.parseExprOp=function(t,e,n,r,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==Lu._in)&&s>r){var a=this.type===Lu.logicalOR||this.type===Lu.logicalAND,o=this.type===Lu.coalesce;o&&(s=Lu.logicalAND.binop);var c=this.value;this.next();var l=this.start,u=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),l,u,s,i),d=this.buildBinary(e,n,t,h,c,a||o);return(a&&this.type===Lu.coalesce||o&&(this.type===Lu.logicalOR||this.type===Lu.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,e,n,r,i)}return t},vh.buildBinary=function(t,e,n,r,i,s){"PrivateIdentifier"===r.type&&this.raise(r.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(t,e);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},vh.parseMaybeUnary=function(t,e,n,r){var i,s=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)i=this.parseAwait(r),e=!0;else if(this.type.prefix){var o=this.startNode(),c=this.type===Lu.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,c,r),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):"delete"===o.operator&&_h(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):e=!0,i=this.finishNode(o,c?"UpdateExpression":"UnaryExpression")}else if(e||this.type!==Lu.privateId){if(i=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(s,a);l.operator=this.value,l.prefix=!1,l.argument=i,this.checkLValSimple(i),this.next(),i=this.finishNode(l,"UpdateExpression")}}else(r||0===this.privateNameStack.length)&&this.unexpected(),i=this.parsePrivateIdent(),this.type!==Lu._in&&this.unexpected();return n||!this.eat(Lu.starstar)?i:e?void this.unexpected(this.lastTokStart):this.buildBinary(s,a,i,this.parseMaybeUnary(null,!1,!1,r),"**",!1)},vh.parseExprSubscripts=function(t,e){var n=this.start,r=this.startLoc,i=this.parseExprAtom(t,e);if("ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return i;var s=this.parseSubscripts(i,n,r,!1,e);return t&&"MemberExpression"===s.type&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s},vh.parseSubscripts=function(t,e,n,r,i){for(var s=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start==5&&this.potentialArrowAt===t.start,a=!1;;){var o=this.parseSubscript(t,e,n,r,s,a,i);if(o.optional&&(a=!0),o===t||"ArrowFunctionExpression"===o.type){if(a){var c=this.startNodeAt(e,n);c.expression=o,o=this.finishNode(c,"ChainExpression")}return o}t=o}},vh.parseSubscript=function(t,e,n,r,i,s,a){var o=this.options.ecmaVersion>=11,c=o&&this.eat(Lu.questionDot);r&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(Lu.bracketL);if(l||c&&this.type!==Lu.parenL&&this.type!==Lu.backQuote||this.eat(Lu.dot)){var u=this.startNodeAt(e,n);u.object=t,l?(u.property=this.parseExpression(),this.expect(Lu.bracketR)):this.type===Lu.privateId&&"Super"!==t.type?u.property=this.parsePrivateIdent():u.property=this.parseIdent("never"!==this.options.allowReserved),u.computed=!!l,o&&(u.optional=c),t=this.finishNode(u,"MemberExpression")}else if(!r&&this.eat(Lu.parenL)){var h=new ah,d=this.yieldPos,f=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(Lu.parenR,this.options.ecmaVersion>=8,!1,h);if(i&&!c&&!this.canInsertSemicolon()&&this.eat(Lu.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=f,this.awaitIdentPos=p,this.parseArrowExpression(this.startNodeAt(e,n),m,!0,a);this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=f||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(e,n);g.callee=t,g.arguments=m,o&&(g.optional=c),t=this.finishNode(g,"CallExpression")}else if(this.type===Lu.backQuote){(c||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(e,n);y.tag=t,y.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(y,"TaggedTemplateExpression")}return t},vh.parseExprAtom=function(t,e){this.type===Lu.slash&&this.readRegexp();var n,r=this.potentialArrowAt===this.start;switch(this.type){case Lu._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type!==Lu.parenL||this.allowDirectSuper||this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==Lu.dot&&this.type!==Lu.bracketL&&this.type!==Lu.parenL&&this.unexpected(),this.finishNode(n,"Super");case Lu._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case Lu.name:var i=this.start,s=this.startLoc,a=this.containsEsc,o=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===o.name&&!this.canInsertSemicolon()&&this.eat(Lu._function))return this.overrideContext(yh.f_expr),this.parseFunction(this.startNodeAt(i,s),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(Lu.arrow))return this.parseArrowExpression(this.startNodeAt(i,s),[o],!1,e);if(this.options.ecmaVersion>=8&&"async"===o.name&&this.type===Lu.name&&!a&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return o=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(Lu.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,s),[o],!0,e)}return o;case Lu.regexp:var c=this.value;return(n=this.parseLiteral(c.value)).regex={pattern:c.pattern,flags:c.flags},n;case Lu.num:case Lu.string:return this.parseLiteral(this.value);case Lu._null:case Lu._true:case Lu._false:return(n=this.startNode()).value=this.type===Lu._null?null:this.type===Lu._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case Lu.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(t.parenthesizedAssign=l),t.parenthesizedBind<0&&(t.parenthesizedBind=l)),u;case Lu.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(Lu.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case Lu.braceL:return this.overrideContext(yh.b_expr),this.parseObj(!1,t);case Lu._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case Lu._class:return this.parseClass(this.startNode(),!1);case Lu._new:return this.parseNew();case Lu.backQuote:return this.parseTemplate();case Lu._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},vh.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case Lu.parenL:return this.parseDynamicImport(t);case Lu.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}},vh.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(Lu.parenR)){var e=this.start;this.eat(Lu.comma)&&this.eat(Lu.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},vh.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},vh.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},vh.parseParenExpression=function(){this.expect(Lu.parenL);var t=this.parseExpression();return this.expect(Lu.parenR),t},vh.parseParenAndDistinguishExpression=function(t,e){var n,r=this.start,i=this.startLoc,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,o=this.start,c=this.startLoc,l=[],u=!0,h=!1,d=new ah,f=this.yieldPos,p=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==Lu.parenR;){if(u?u=!1:this.expect(Lu.comma),s&&this.afterTrailingComma(Lu.parenR,!0)){h=!0;break}if(this.type===Lu.ellipsis){a=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===Lu.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(Lu.parenR),t&&!this.canInsertSemicolon()&&this.eat(Lu.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=p,this.parseParenArrowList(r,i,l,e);l.length&&!h||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,l.length>1?((n=this.startNodeAt(o,c)).expressions=l,this.finishNodeAt(n,"SequenceExpression",m,g)):n=l[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(r,i);return y.expression=n,this.finishNode(y,"ParenthesizedExpression")}return n},vh.parseParenItem=function(t){return t},vh.parseParenArrowList=function(t,e,n,r){return this.parseArrowExpression(this.startNodeAt(t,e),n,!1,r)};var wh=[];vh.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(Lu.dot)){t.meta=e;var n=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,i=this.startLoc,s=this.type===Lu._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0,!1),s&&"ImportExpression"===t.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(Lu.parenL)?t.arguments=this.parseExprList(Lu.parenR,this.options.ecmaVersion>=8,!1):t.arguments=wh,this.finishNode(t,"NewExpression")},vh.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===Lu.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===Lu.backQuote,this.finishNode(n,"TemplateElement")},vh.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(n.quasis=[r];!r.tail;)this.type===Lu.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(Lu.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(Lu.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")},vh.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===Lu.name||this.type===Lu.num||this.type===Lu.string||this.type===Lu.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===Lu.star)&&!Fu.test(this.input.slice(this.lastTokEnd,this.start))},vh.parseObj=function(t,e){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(Lu.braceR);){if(r)r=!1;else if(this.expect(Lu.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(Lu.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,i,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},vh.parseProperty=function(t,e){var n,r,i,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(Lu.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===Lu.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,e),this.type===Lu.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(i=this.start,s=this.startLoc),t||(n=this.eat(Lu.star)));var o=this.containsEsc;return this.parsePropertyName(a),!t&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(Lu.star),this.parsePropertyName(a,e)):r=!1,this.parsePropertyValue(a,t,n,r,i,s,e,o),this.finishNode(a,"Property")},vh.parsePropertyValue=function(t,e,n,r,i,s,a,o){if((n||r)&&this.type===Lu.colon&&this.unexpected(),this.eat(Lu.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===Lu.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,r);else if(e||o||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===Lu.comma||this.type===Lu.braceR||this.type===Lu.eq)this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),t.kind="init",e?t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key)):this.type===Lu.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(i,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var c="get"===t.kind?0:1;if(t.value.params.length!==c){var l=t.value.start;"get"===t.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},vh.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(Lu.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(Lu.bracketR),t.key;t.computed=!1}return t.key=this.type===Lu.num||this.type===Lu.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},vh.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},vh.parseMethod=function(t,e,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|eh(e,r.generator)|(n?128:0)),this.expect(Lu.parenL),r.params=this.parseBindingList(Lu.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},vh.parseArrowExpression=function(t,e,n,r){var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|eh(n,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(t,"ArrowFunctionExpression")},vh.parseFunctionBody=function(t,e,n,r){var i=e&&this.type!==Lu.braceL,s=this.strict,a=!1;if(i)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);s&&!o||(a=this.strictDirective(this.end))&&o&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var c=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(t,!s&&!a&&!e&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,a&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()},vh.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1)if("Identifier"!==n[e].type)return!1;return!0},vh.checkParams=function(t,e){for(var n=Object.create(null),r=0,i=t.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,1,e?null:n)}},vh.parseExprList=function(t,e,n,r){for(var i=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(Lu.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===Lu.comma?a=null:this.type===Lu.ellipsis?(a=this.parseSpread(r),r&&this.type===Lu.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i},vh.checkUnreserved=function(t){var e=t.start,n=t.end,r=t.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===r&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==r&&"await"!==r||this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))},vh.parseIdent=function(t,e){var n=this.startNode();return this.type===Lu.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(n,"Identifier"),t||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},vh.parsePrivateIdent=function(){var t=this.startNode();return this.type===Lu.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t},vh.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===Lu.semi||this.canInsertSemicolon()||this.type!==Lu.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(Lu.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},vh.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var xh=nh.prototype;xh.raise=function(t,e){var n=Zu(this.input,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=this.pos,r},xh.raiseRecoverable=xh.raise,xh.curPosition=function(){if(this.options.locations)return new Xu(this.curLine,this.pos-this.lineStart)};var Sh=nh.prototype,Ah=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Sh.enterScope=function(t){this.scopeStack.push(new Ah(t))},Sh.exitScope=function(){this.scopeStack.pop()},Sh.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},Sh.declareName=function(t,e,n){var r=!1;if(2===e){var i=this.currentScope();r=i.lexical.indexOf(t)>-1||i.functions.indexOf(t)>-1||i.var.indexOf(t)>-1,i.lexical.push(t),this.inModule&&1&i.flags&&delete this.undefinedExports[t]}else if(4===e)this.currentScope().lexical.push(t);else if(3===e){var s=this.currentScope();r=this.treatFunctionsAsVar?s.lexical.indexOf(t)>-1:s.lexical.indexOf(t)>-1||s.var.indexOf(t)>-1,s.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(t)>-1&&!(32&o.flags&&o.lexical[0]===t)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(t)>-1){r=!0;break}if(o.var.push(t),this.inModule&&1&o.flags&&delete this.undefinedExports[t],259&o.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")},Sh.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},Sh.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Sh.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags)return e}},Sh.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags&&!(16&e.flags))return e}};var Ih=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new Ju(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},Th=nh.prototype;function Mh(t,e,n,r){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=n),t}Th.startNode=function(){return new Ih(this,this.start,this.startLoc)},Th.startNodeAt=function(t,e){return new Ih(this,t,e)},Th.finishNode=function(t,e){return Mh.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},Th.finishNodeAt=function(t,e,n,r){return Mh.call(this,t,e,n,r)},Th.copyNode=function(t){var e=new Ih(this,t.start,this.startLoc);for(var n in t)e[n]=t[n];return e};var kh,Ch,Nh="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Eh=Nh+" Extended_Pictographic",Oh={9:Nh,10:Eh,11:Eh,12:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic EBase EComp EMod EPres ExtPict",13:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic EBase EComp EMod EPres ExtPict"},Dh="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Bh="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Lh=Bh+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Fh=Lh+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ph={9:Bh,10:Lh,11:Fh,12:"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",13:"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith"},Uh={};for(var Vh=0,$h=[9,10,11,12,13];Vh<$h.length;Vh+=1)Ch=void 0,(Ch=Uh[kh=$h[Vh]]={binary:Yu(Oh[kh]+" "+Dh),nonBinary:{General_Category:Yu(Dh),Script:Yu(Ph[kh])}}).nonBinary.Script_Extensions=Ch.nonBinary.Script,Ch.nonBinary.gc=Ch.nonBinary.General_Category,Ch.nonBinary.sc=Ch.nonBinary.Script,Ch.nonBinary.scx=Ch.nonBinary.Script_Extensions;var Rh=nh.prototype,jh=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":""),this.unicodeProperties=Uh[t.options.ecmaVersion>=13?13:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function zh(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function Hh(t){return t>=65&&t<=90||t>=97&&t<=122}function Wh(t){return Hh(t)||95===t}function qh(t){return Wh(t)||Yh(t)}function Yh(t){return t>=48&&t<=57}function Gh(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Kh(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function Xh(t){return t>=48&&t<=55}jh.prototype.reset=function(t,e,n){var r=-1!==n.indexOf("u");this.start=0|t,this.source=e+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},jh.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},jh.prototype.at=function(t,e){void 0===e&&(e=!1);var n=this.source,r=n.length;if(t>=r)return-1;var i=n.charCodeAt(t);if(!e&&!this.switchU||i<=55295||i>=57344||t+1>=r)return i;var s=n.charCodeAt(t+1);return s>=56320&&s<=57343?(i<<10)+s-56613888:i},jh.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var n=this.source,r=n.length;if(t>=r)return r;var i,s=n.charCodeAt(t);return!e&&!this.switchU||s<=55295||s>=57344||t+1>=r||(i=n.charCodeAt(t+1))<56320||i>57343?t+1:t+2},jh.prototype.current=function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},jh.prototype.lookahead=function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},jh.prototype.advance=function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},jh.prototype.eat=function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)},Rh.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===e.indexOf(i)&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}},Rh.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},Rh.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var r=n[e];-1===t.groupNames.indexOf(r)&&t.raise("Invalid named capture referenced")}},Rh.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},Rh.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},Rh.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},Rh.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1},Rh.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},Rh.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},Rh.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue),t.eat(125)))return-1!==i&&i<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1},Rh.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},Rh.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},Rh.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},Rh.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},Rh.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},Rh.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},Rh.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!zh(e)&&(t.lastIntValue=e,t.advance(),!0)},Rh.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;-1!==(n=t.current())&&!zh(n);)t.advance();return t.pos!==e},Rh.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e||(t.advance(),0))},Rh.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},Rh.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},Rh.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Gu(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Gu(t.lastIntValue);return!0}return!1},Rh.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),function(t){return Mu(t,!0)||36===t||95===t}(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)},Rh.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=this.options.ecmaVersion>=11,r=t.current(n);return t.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(t,n)&&(r=t.lastIntValue),function(t){return ku(t,!0)||36===t||95===t||8204===t||8205===t}(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)},Rh.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},Rh.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1},Rh.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},Rh.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},Rh.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},Rh.regexp_eatZero=function(t){return 48===t.current()&&!Yh(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},Rh.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},Rh.regexp_eatControlLetter=function(t){var e=t.current();return!!Hh(e)&&(t.lastIntValue=e%32,t.advance(),!0)},Rh.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var n,r=t.pos,i=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(i&&s>=55296&&s<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=1024*(s-55296)+(o-56320)+65536,!0}t.pos=a,t.lastIntValue=s}return!0}if(i&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&(n=t.lastIntValue)>=0&&n<=1114111)return!0;i&&t.raise("Invalid unicode escape"),t.pos=r}return!1},Rh.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e||(t.lastIntValue=e,t.advance(),0))},Rh.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1},Rh.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(function(t){return 100===t||68===t||115===t||83===t||119===t||87===t}(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(80===e||112===e)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},Rh.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,r),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,i),!0}return!1},Rh.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){Wu(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")},Rh.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},Rh.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Wh(e=t.current());)t.lastStringValue+=Gu(e),t.advance();return""!==t.lastStringValue},Rh.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";qh(e=t.current());)t.lastStringValue+=Gu(e),t.advance();return""!==t.lastStringValue},Rh.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},Rh.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},Rh.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;!t.switchU||-1!==e&&-1!==n||t.raise("Invalid character class"),-1!==e&&-1!==n&&e>n&&t.raise("Range out of order in character class")}}},Rh.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(99===n||Xh(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return 93!==r&&(t.lastIntValue=r,t.advance(),!0)},Rh.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},Rh.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!Yh(e)&&95!==e||(t.lastIntValue=e%32,t.advance(),0))},Rh.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},Rh.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Yh(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e},Rh.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Gh(n=t.current());)t.lastIntValue=16*t.lastIntValue+Kh(n),t.advance();return t.pos!==e},Rh.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*n+t.lastIntValue:t.lastIntValue=8*e+n}else t.lastIntValue=e;return!0}return!1},Rh.regexp_eatOctalDigit=function(t){var e=t.current();return Xh(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},Rh.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var i=t.current();if(!Gh(i))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+Kh(i),t.advance()}return!0};var Jh=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Ju(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Zh=nh.prototype;function Qh(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}Zh.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Jh(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Zh.getToken=function(){return this.next(),new Jh(this)},"undefined"!=typeof Symbol&&(Zh[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===Lu.eof,value:e}}}}),Zh.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(Lu.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},Zh.readToken=function(t){return Mu(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},Zh.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888},Zh.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=e;(r=Vu(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,n),e,this.pos,t,this.curPosition())},Zh.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Uu(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())},Zh.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&$u.test(String.fromCharCode(t))))break t;++this.pos}}},Zh.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)},Zh.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(Lu.ellipsis)):(++this.pos,this.finishToken(Lu.dot))},Zh.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(Lu.assign,2):this.finishOp(Lu.slash,1)},Zh.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,r=42===t?Lu.star:Lu.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++n,r=Lu.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(Lu.assign,n+1):this.finishOp(r,n)},Zh.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Lu.assign,3):this.finishOp(124===t?Lu.logicalOR:Lu.logicalAND,2):61===e?this.finishOp(Lu.assign,2):this.finishOp(124===t?Lu.bitwiseOR:Lu.bitwiseAND,1)},Zh.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(Lu.assign,2):this.finishOp(Lu.bitwiseXOR,1)},Zh.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!Fu.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(Lu.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(Lu.assign,2):this.finishOp(Lu.plusMin,1)},Zh.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(Lu.assign,n+1):this.finishOp(Lu.bitShift,n)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(n=2),this.finishOp(Lu.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Zh.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(Lu.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(Lu.arrow)):this.finishOp(61===t?Lu.eq:Lu.prefix,1)},Zh.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(Lu.questionDot,2)}if(63===e)return t>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Lu.assign,3):this.finishOp(Lu.coalesce,2)}return this.finishOp(Lu.question,1)},Zh.readToken_numberSign=function(){var t=35;if(this.options.ecmaVersion>=13&&(++this.pos,Mu(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(Lu.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Gu(t)+"'")},Zh.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(Lu.parenL);case 41:return++this.pos,this.finishToken(Lu.parenR);case 59:return++this.pos,this.finishToken(Lu.semi);case 44:return++this.pos,this.finishToken(Lu.comma);case 91:return++this.pos,this.finishToken(Lu.bracketL);case 93:return++this.pos,this.finishToken(Lu.bracketR);case 123:return++this.pos,this.finishToken(Lu.braceL);case 125:return++this.pos,this.finishToken(Lu.braceR);case 58:return++this.pos,this.finishToken(Lu.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(Lu.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(Lu.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Gu(t)+"'")},Zh.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)},Zh.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Fu.test(r)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if("["===r)e=!0;else if("]"===r&&e)e=!1;else if("/"===r&&!e)break;t="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new jh(this));o.reset(n,i,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var c=null;try{c=new RegExp(i,a)}catch(t){}return this.finishToken(Lu.regexp,{pattern:i,flags:a,value:c})},Zh.readInt=function(t,e,n){for(var r=this.options.ecmaVersion>=12&&void 0===e,i=n&&48===this.input.charCodeAt(this.pos),s=this.pos,a=0,o=0,c=0,l=null==e?1/0:e;c<l;++c,++this.pos){var u=this.input.charCodeAt(this.pos),h=void 0;if(r&&95===u)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===o&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===c&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=u;else{if((h=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=t)break;o=u,a=a*t+h}}return r&&95===o&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=e&&this.pos-s!==e?null:a},Zh.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return null==n&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=Qh(this.input.slice(e,this.pos)),++this.pos):Mu(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Lu.num,n)},Zh.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number");var n=this.pos-e>=2&&48===this.input.charCodeAt(e);n&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&110===r){var i=Qh(this.input.slice(e,this.pos));return++this.pos,Mu(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Lu.num,i)}n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),Mu(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s,a=(s=this.input.slice(e,this.pos),n?parseInt(s,8):parseFloat(s.replace(/_/g,"")));return this.finishToken(Lu.num,a)},Zh.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},Zh.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;92===r?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):8232===r||8233===r?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Uu(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(Lu.string,e)};var td={};Zh.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==td)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Zh.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw td;this.raise(t,e)},Zh.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==Lu.template&&this.type!==Lu.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(Lu.template,t)):36===n?(this.pos+=2,this.finishToken(Lu.dollarBraceL)):(++this.pos,this.finishToken(Lu.backQuote));if(92===n)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Uu(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},Zh.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(Lu.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Zh.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Gu(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),"0"===r&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Uu(e)?"":String.fromCharCode(e)}},Zh.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(e,"Bad character escape sequence"),n},Zh.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(ku(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,t+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?Mu:ku)(a,r)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=Gu(a),n=this.pos}e=!1}return t+this.input.slice(n,this.pos)},Zh.readWord=function(){var t=this.readWord1(),e=Lu.name;return this.keywords.test(t)&&(e=Du[t]),this.finishToken(e,t)},nh.acorn={Parser:nh,version:"8.8.0",defaultOptions:Qu,Position:Xu,SourceLocation:Ju,getLineInfo:Zu,Node:Ih,TokenType:Cu,tokTypes:Lu,keywordTypes:Du,TokContext:gh,tokContexts:yh,isIdentifierChar:ku,isIdentifierStart:Mu,Token:Jh,isNewLine:Uu,lineBreak:Fu,lineBreakG:Pu,nonASCIIwhitespace:$u};const ed={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},nd={ecmaVersion:11},rd=t=>(e,n)=>n.error(e,t+" not allowed"),id=rd("Aggregate function"),sd=rd("Window function"),ad="Invalid column reference",od="Invalid function call",cd="Table expressions do not support closures",ld="Use aq.escape(fn) to use a function as-is (including closures)",ud=`\nNote: ${cd}. ${ld}, or use table.params({ name: value }) to define dynamic parameters.`,hd=`\nNote: ${cd}. ${ld}, or use aq.addFunction(name, fn) to add new op functions.`;function dd(t,e){const n=function(t){try{return(e=`expr=(${t.field?function(t){const e=JSON.stringify(t+"");return t.table?`(a,b)=>b[${e}]`:`d=>d[${e}]`}(t):r(t)?nt(t):t})`,n=nd,nh.parse(e,n)).body[0].expression.right}catch(e){o("Expression parse error: "+t)}var e,n}(e);let i=t.root=n;return t.spec=e,t.tuple=null,t.tuple1=null,t.tuple2=null,t.$param=null,t.$op=0,t.scope=new Set,t.paramsRef=new Map,t.columnRef=new Map,function(t){return mu("FunctionExpression",t)||mu("ArrowFunctionExpression",t)}(i)?(function(t,e){t.generator&&rd("Generator functions")(t,e),t.async&&rd("Async functions")(t,e);const{params:n}=t,r=n.length,i=t=>(n,r)=>e.columnRef.set(n,[r,t]),s=(t,n)=>e.paramsRef.set(t,n);r&&(e.join?(gd(e,n[0],"tuple1",i(1)),r>1&&gd(e,n[1],"tuple2",i(2)),r>2&&gd(e,n[2],"$param",s)):(gd(e,n[0],"tuple",i(0)),r>1&&gd(e,n[1],"$param",s))),e.root=t.body}(i,t),i=i.body):t.join?(t.scope.add(t.tuple1="d1"),t.scope.add(t.tuple2="d2"),t.scope.add(t.$param="$")):(t.scope.add(t.tuple="d"),t.scope.add(t.$param="$")),su(i,t,fd),t.root}const fd={FunctionDeclaration:rd("Function definitions"),ForStatement:rd("For loops"),ForOfStatement:rd("For-of loops"),ForInStatement:rd("For-in loops"),WhileStatement:rd("While loops"),DoWhileStatement:rd("Do-while loops"),AwaitExpression:rd("Await expressions"),ArrowFunctionExpression:rd("Function definitions"),AssignmentExpression:rd("Assignments"),FunctionExpression:rd("Function definitions"),NewExpression:rd('Use of "new"'),UpdateExpression:rd("Update expressions"),VariableDeclarator(t,e){Td(t.id,e)},Identifier(t,e,n){vd(t,e,n)&&!e.scope.has(t.name)&&e.error(t,"Invalid variable reference",ud)},CallExpression(t,e){const n=yd(t.callee),r=$t(n)||Rt(n);if(r){if((e.join||!1===e.aggregate)&&Pt(n)&&id(t,e),(e.join||!1===e.window)&&Ut(n)&&sd(t,e),e.$op=1,e.ast)Id(t,n,e),t.arguments.forEach((t=>su(t,e,md)));else{const i=e.op(function(t,e,n,r){const i=[],s=[],a=e.param[0]||0,o=a+(e.param[1]||0);return r.forEach(((e,n)=>{n<a?(su(e,t,md),i.push(t.field(e))):n<o?(su(e,t,md),s.push(t.param(e))):t.error(e,"Invalid operator parameter")})),{name:n,fields:i,params:s,...t.spec.window||{}}}(e,r,n,t.arguments));Object.assign(t,{type:"Op",name:i.id})}return e.$op=0,!1}Vt(n)?Id(t,n,e):e.error(t,od,hd)},MemberExpression(t,e,n){const{object:r,property:i}=t;if(!mu(ft,r))return;const{name:s}=r;if(bd(t)&&mu(ft,i)&&_(ed,i.name))return void Ad(t,i.name);const a=s===e.tuple?0:s===e.tuple1?1:s===e.tuple2?2:-1;return a>=0?pd(t,a,e,_d,n):s===e.$param?pd(t,a,e,xd):void(e.paramsRef.has(s)?Sd(t,e.paramsRef.get(s)):e.columnRef.has(s)?wd(r,s,e,t):_(e.params,s)&&Sd(r,s))}};function pd(t,e,n,r,i){const{property:s,computed:a}=t;let o;if(a)if(mu(pt,s))o=s.value;else try{o=n.param(s)}catch(e){n.error(t,"Invalid member expression")}else o=s.name;return r(t,o,e,n,i),!1}const md={...fd,VariableDeclarator:rd("Variable declaration in operator call"),Identifier(t,e,n){vd(t,e,n)&&e.error(t,"Variable not accessible in operator call")},CallExpression(t,e){const n=yd(t.callee);Vt(n)?Id(t,n,e):e.error(t,od,hd)}};function gd(t,e,n,r){mu(ft,e)?(t.scope.add(e.name),t[n]=e.name):mu(gt,e)&&e.properties.forEach((e=>{const n=mu(ft,e.key)?e.key.name:mu(pt,e.key)?e.key.value:t.error(e,"Invalid argument");mu(ft,e.value)||t.error(e.value,"Unsupported destructuring pattern"),r(e.value.name,n)}))}function yd(t){return mu(ft,t)?t.name:mu(mt,t)?bd(t)?"max"===(e=t.property.name)?"greatest":"min"===e?"least":e:t.property.name:null;var e}function bd(t){return mu(ft,t.object)&&"Math"===t.object.name}function vd(t,e,n){const{name:r}=t;if(mu(mt,n)&&n.property===t);else if(mu(yt,n)&&n.key===t);else if(e.paramsRef.has(r))Sd(t,e.paramsRef.get(r));else if(e.columnRef.has(r))wd(t,r,e,n);else if(_(e.params,r))Sd(t,r);else{if(!_(ed,r))return!0;Ad(t,r)}}function _d(t,e,n,r,i){const s=0===n?r.table:n>0?r.join[n-1]:null,a=s&&s.column(e);s&&!a&&r.error(t,ad),r.aggronly&&!r.$op&&r.error(t,"Invalid column reference (must be input to an aggregate function)"),Wt(t,e,n,a,i)}function wd(t,e,n,r){const[i,s]=n.columnRef.get(e);_d(t,i,s,n,r)}function xd(t,e,n,r){r.params&&!_(r.params,e)&&r.error(t,"Invalid param reference"),Sd(t,e)}function Sd(t,e){t.type="Parameter",t.name=e}function Ad(t,e){t.type="Constant",t.name=e,t.raw=ed[e]}function Id(t,e,n){if(e===Yt){const e=n.table;e||n.error(t,"The row_object method is not valid in multi-table expressions."),Gt(t,t.arguments.length?t.arguments.map((t=>{const r=n.param(t),i=c(r)?e.columnName(r):r;return e.column(i)||n.error(t,ad),i})):e.columnNames())}else t.callee={type:"Function",name:e}}function Td(t,e){mu(ft,t)?e.scope.add(t.name):mu("ArrayPattern",t)?t.elements.forEach((t=>Td(t,e))):mu(gt,t)?t.properties.forEach((t=>Td(t.value,e))):e.error(t.id,"Unsupported variable declaration")}const Md={[bt]:1,Op:1};function kd(t,e={}){const n=e.generate||Mt,r=e.compiler||zt,i=function(t){return(t.table?Cd(t.table):t.join?{...Cd(t.join[1]),...Cd(t.join[0])}:{})||{}}(e),s={},a={},c=[],l=[];let u=0,h=-1;const d=e.join?r.join:1==e.index?r.expr2:r.expr,f={op(t){const e=function(t){let e=`${t.name}(${t.fields.concat(t.params).join(",")})`;return t.frame&&(e+=`[${t.frame.map((t=>Number.isFinite(t)?Math.abs(t):-1))},${!!t.peers}]`),e}(t);return a[e]||(t.id=++h,a[e]=t)},field(t){const e=n(t);return s[e]||(s[e]=++u)},param:t=>mu(pt,t)?t.value:r.param(n(t),i),value(t,r){c.push(t);const s=r.escape||(e.ast?function(t){return su(t,null,{Column:pu,Constant:pu,Default:fu}),t}(r):d(n(r),i));l.push(s),Md[r.type]&&s!==r&&m(s)&&(s.field=r.name)},error(t,e,n=""){const r=t.start-6,i=t.end-6;o(`${e}: "${String(f.spec).slice(r,i)}"${n}`)}};Object.assign(f,e,{params:i});for(const[e,n]of qt(t))f.value(e+"",n.escape?gu(f,n,i):dd(f,n));if(e.ast)return{names:c,exprs:l};const p=[];for(const t in s)p[s[t]]=r.expr(t,i);const g=Object.values(a);return g.forEach((t=>t.fields=t.fields.map((t=>p[t])))),{names:c,exprs:l,ops:g}}function Cd(t){return t&&l(t.params)?t.params():{}}const Nd="Expr",Ed="ExprList",Od="ExprNumber",Dd="ExprObject",Bd="JoinKeys",Ld="JoinValues",Fd="Options",Pd="OrderKeys",Ud="SelectionList",Vd="TableRef",$d="TableRefList";function Rd(t,e){return t&&t.expr?new jd({...t,...e}):new jd(e,t)}class jd{constructor(t,e){this.expr=e,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...l(this.expr)?{func:!0}:{}}}}function zd(t){return Rd(t,{desc:!0})}function Hd(t,e,n=0){const r=n?{field:!0,table:n}:{field:!0};return Rd(t,e?{expr:e,...r}:r)}function Wd(t,e,n){return Rd(t,{window:{frame:e||[-1/0,0],peers:!!n}})}function qd(t,e){return(e=e&&l(e.query)?e.query():e)&&l(e.evaluate)?e.evaluate(null,t):t(e)}function Yd(t){return m(t)&&(r(t.all)||r(t.matches)||r(t.not)||r(t.range))}function Gd(t){return t&&l(t.toObject)?t.toObject():l(t)?{expr:String(t),func:!0}:r(t)?t.map(Gd):m(t)?jl(t,(t=>Gd(t))):t}function Kd(t){return r(t)?t.map(Kd):m(t)?r(t.verbs)?pf.from(t):r(t.all)?Xl():r(t.range)?Zl(...t.range):r(t.match)?Ql(RegExp(...t.match)):r(t.not)?Jl(t.not.map(Gd)):function(t){let e=t,n=t.expr;if(null!=n){if(!0===t.field?e=n=Hd(n):!0===t.func&&(e=n=function(t){const e=t=>t;return e.toString=()=>t,e}(n)),m(t.window)){const{frame:r,peers:i}=t.window;e=n=Wd(n,r,i)}!0===t.desc&&(e=zd(n))}return t===e?jl(t,(t=>Kd(t))):e}(t):t}function Xd(t){const e=[];return i(t).forEach((t=>{c(t)?e.push(t):y(t)?e.push(Hd(t,null)):m(t)&&t.expr||l(t)?e.push(t):o("Invalid key value: "+t)})),e}function Jd(t,e){return e<2?i(t):t}const Zd={[Nd]:af,[Ed]:of,[Od]:function(t){return c(t)?t:nf(t)},[Dd]:nf,[Bd]:function(t){return r(t)?t.map(of):nf(t,{join:!0})},[Ld]:function(t){return r(t)?t.map(((t,e)=>e<2?of(t):nf(t,{join:!0}))):nf(t,{join:!0})},[Pd]:of,[Ud]:function(t){return i(t).map(sf).flat()}};function Qd(t,e,n){return e===Fd?t?function(t,e={}){const n={};for(const r in t){const i=t[r];n[r]=e[r]?Qd(i,e[r]):i}return n}(t,n):t:Zd[e](t)}function tf(t){return{type:bt,name:t}}function ef(t){return{type:bt,index:t}}function nf(t,e){if(y(t))return function(t,e){return kd({expr:t},{...e,ast:!0}).exprs[0]}(t,e);if(t.expr){let n;if(!0===t.field?n=tf(t.expr):!0===t.func&&(n=nf(t.expr,e)),n)return t.desc&&(n={type:"Descending",expr:n}),t.window&&(n={type:"Window",expr:n,...t.window}),n}return Object.keys(t).map((n=>({...nf(t[n],e),as:n})))}function rf(t){const e="Selection";return t.all?{type:e,operator:"all"}:t.not?{type:e,operator:"not",arguments:of(t.not)}:t.range?{type:e,operator:"range",arguments:of(t.range)}:t.matches?{type:e,operator:"matches",arguments:t.matches}:o("Invalid input")}function sf(t){return Yd(t)?rf(t):c(t)?ef(t):y(t)?tf(t):m(t)?Object.keys(t).map((e=>({type:bt,name:e,as:t[e]}))):o("Invalid input")}function af(t){return Yd(t)?rf(t):c(t)?ef(t):y(t)?tf(t):m(t)?nf(t):o("Invalid input")}function of(t){return i(t).map(af).flat()}function cf(t){return t&&l(t.toAST)?t.toAST():t}class lf{constructor(t,e=[],n=[]){this.verb=t,this.schema=e,e.forEach(((t,e)=>{const i=t.type,s=n[e],a=i===Bd?r(h=s)?h.map(Xd):h:i===Ld?r(u=s)?u.map(Jd):u:i===Pd?function(t){const e=[];return t.forEach((t=>{const n=null!=t.expr?t.expr:t;if(m(n)&&!l(n))for(const t in n)e.push(n[t]);else t=c(n)?n:y(n)?Hd(t):l(n)?t:o("Invalid orderby field: "+t),e.push(t)})),e}(s):s;var u,h;this[t.name]=void 0!==a?a:t.default}))}static from(t){const e=hf[t.verb];return e(...(e.schema||[]).map((({name:e})=>Kd(t[e]))))}evaluate(t,e){const n=this.schema.map((({name:t,type:n})=>{const r=this[t];return n===Vd?qd(e,r):n===$d?r.map((t=>qd(e,t))):r}));return t[this.verb](...n)}toObject(){const t={verb:this.verb};return this.schema.forEach((({name:e})=>{t[e]=Gd(this[e])})),t}toAST(){const t={type:"Verb",verb:this.verb};return this.schema.forEach((({name:e,type:n,props:r})=>{t[e]=function(t,e,n){return e===Vd?cf(t):e===$d?t.map(cf):Qd(Gd(t),e,n)}(this[e],n,r)})),t}}function uf(t,e){return Object.assign(((...n)=>new lf(t,e,n)),{schema:e})}const hf={count:uf("count",[{name:"options",type:Fd}]),derive:uf("derive",[{name:"values",type:Dd},{name:"options",type:Fd,props:{before:Ud,after:Ud}}]),filter:uf("filter",[{name:"criteria",type:Dd}]),groupby:uf("groupby",[{name:"keys",type:Ed}]),orderby:uf("orderby",[{name:"keys",type:Pd}]),relocate:uf("relocate",[{name:"columns",type:Ud},{name:"options",type:Fd,props:{before:Ud,after:Ud}}]),rename:uf("rename",[{name:"columns",type:Ud}]),rollup:uf("rollup",[{name:"values",type:Dd}]),sample:uf("sample",[{name:"size",type:Od},{name:"options",type:Fd,props:{weight:Nd}}]),select:uf("select",[{name:"columns",type:Ud}]),ungroup:uf("ungroup"),unorder:uf("unorder"),reify:uf("reify"),dedupe:uf("dedupe",[{name:"keys",type:Ed,default:[]}]),impute:uf("impute",[{name:"values",type:Dd},{name:"options",type:Fd,props:{expand:Ed}}]),fold:uf("fold",[{name:"values",type:Ed},{name:"options",type:Fd}]),pivot:uf("pivot",[{name:"keys",type:Ed},{name:"values",type:Ed},{name:"options",type:Fd}]),spread:uf("spread",[{name:"values",type:Ed},{name:"options",type:Fd}]),unroll:uf("unroll",[{name:"values",type:Ed},{name:"options",type:Fd,props:{drop:Ed}}]),lookup:uf("lookup",[{name:"table",type:Vd},{name:"on",type:Bd},{name:"values",type:Ed}]),join:uf("join",[{name:"table",type:Vd},{name:"on",type:Bd},{name:"values",type:Ld},{name:"options",type:Fd}]),cross:uf("cross",[{name:"table",type:Vd},{name:"values",type:Ld},{name:"options",type:Fd}]),semijoin:uf("semijoin",[{name:"table",type:Vd},{name:"on",type:Bd}]),antijoin:uf("antijoin",[{name:"table",type:Vd},{name:"on",type:Bd}]),concat:uf("concat",[{name:"tables",type:$d}]),union:uf("union",[{name:"tables",type:$d}]),intersect:uf("intersect",[{name:"tables",type:$d}]),except:uf("except",[{name:"tables",type:$d}])};function df(t){return new pf(null,null,t)}function ff(t){return pf.from(t)}class pf extends a{constructor(t,e,n){super(e),this._verbs=t||[],this._table=n}static from({verbs:t,table:e,params:n}){return new pf(t.map(lf.from),n,e)}get[Symbol.toStringTag](){return this._verbs?`Query: ${this._verbs.length} verbs`+(this._table?` on '${this._table}'`:""):"Object"}get length(){return this._verbs.length}get tableName(){return this._table}params(t){return arguments.length?(this._params={...this._params,...t},this):this._params}evaluate(t,e){t=t||e(this._table);for(const n of this._verbs)t=n.evaluate(t.params(this._params),e);return t}toObject(){return mf(this,"toObject")}toJSON(){return this.toObject()}toAST(){return mf(this,"toAST",{type:"Query"})}}function mf(t,e,n){return{...n,verbs:t._verbs.map((t=>t[e]())),...t._params?{params:t._params}:null,...t._table?{table:t._table}:null}}function gf(t,e){return new pf(t._verbs.concat(e),t._params,t._table)}for(const t in hf){const e=hf[t];pf.prototype["__"+t]=function(t,...n){return gf(t,e(...n))}}function yf(t,e,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map(((t,e)=>t.map(((t,n)=>`${r[e]}${n} = ${r[e]}[${n}]`)).join(", "))).join(", ")+`; return (${t}) => ${e};`),Function(...i)(...n)}function bf(t,e){const{type:n,length:r,numChildren:i}=t;if((({typeId:t})=>-1===t)(n))return function(t){const{data:e,length:n,nullCount:r}=t,i=e[e.length-1].dictionary,s=i.length,a=function(t,e,n,r){const i=t.length>1||n?function(t,e,n){const r=new n.ArrayType(e),i=t.length;for(let e,n=0,s=0;n<i;++n)e=t[n].length,r.set(t[n].values.subarray(0,e),s),s+=e;return r}(t,e,t[0].type.indices):t[0].values;return n?function(t,e,n){const r=t.length;for(let i,s,a,o,c=0,l=0;c<r;++c){if(a=t[c].nullBitmap,i=t[c].length>>3,a&&a.length)for(let t=0;t<=i;++t)255!==(o=a[t])&&(s=l+(t<<3),0==(1&o)&&(e[s+0]=n),0==(2&o)&&(e[s+1]=n),0==(4&o)&&(e[s+2]=n),0==(8&o)&&(e[s+3]=n),0==(16&o)&&(e[s+4]=n),0==(32&o)&&(e[s+5]=n),0==(64&o)&&(e[s+6]=n),0==(128&o)&&(e[s+7]=n));l+=t[c].length}return e}(t,i,r):i}(e||[t],n,r,s),o=Array(s),c=t=>null==t||t<0||t>=s?null:void 0!==o[t]?o[t]:o[t]=i.get(t);return{vector:t,length:n,get:t=>c(a[t]),key:t=>a[t],keyFor(t){if(null===t)return r?s:-1;for(let e=0;e<s;++e)if(void 0===o[e]&&(o[e]=i.get(e)),o[e]===t)return e;return-1},groups(t){const e=s+(r?1:0);return{keys:a,get:[c],names:t,rows:Q(0,e),size:e}},[Symbol.iterator]:()=>t[Symbol.iterator]()}}(t);const s=i&&e?wf(t):i?vf(wf(t)):(({typeId:t})=>5===t)(n)?vf((e=>t.get(e))):null;return s?{vector:t,length:r,get:s,[Symbol.iterator]:()=>function*(t,e){for(let n=0;n<t;++n)yield e(n)}(r,s)}:t}function vf(t){const e=[];return n=>{const r=e[n];return void 0!==r?r:e[n]=t(n)}}const _f=t=>t.numChildren?u(t.length,wf(t)):t.nullCount?[...t]:t.toArray(),wf=t=>{return(({typeId:t})=>12===t)(e=t.type)||(({typeId:t})=>16===t)(e)?xf(t):(({typeId:t})=>13===t)(t.type)?function(t){const e=[],n=[];t.type.children.forEach(((r,i)=>{e.push(bf(t.getChildAt(i),!0)),n.push(`${nt(r.name)}:_${i}.get(row)`)}));const r=yf("row","({"+n+"})",e);return t.nullCount?e=>t.isValid(e)?r(e):null:r}(t):o(`Unsupported Arrow type: ${nt(t.VectorName)}`);var e},xf=t=>t.nullCount?e=>t.isValid(e)?_f(t.get(e)):null:e=>_f(t.get(e));function Sf(t,e={}){t&&!t.batches&&(t=function(){try{return Bl}catch(t){Ll()}}()(t));const n=t.schema.fields.map((t=>t.name)),r=Yl({columnNames:t=>t?n.filter(t):n.slice(),columnIndex:t=>n.indexOf(t)},e.columns||Xl()),i=w();return r.forEach(((e,n)=>{i.add(e,bf(t.getChild(n)))})),new nu(i.data,i.names)}const Af=t=>t,If=[t=>"true"===t||"false"===t,t=>"false"!==t],Tf=[t=>"NaN"===t||(t=+t)===t,t=>+t],Mf=[F,t=>new Date(Date.parse(t))];function kf(t){const{decimal:e}=t;return e&&"."!==e?Tf.map((t=>n=>t(n&&n.replace(e,".")))):Tf}function Cf(t,e){const n=t.length;for(let r=0;r<n;++r){const n=t[r];if(null!=n&&!e(n))return!1}return!0}function Nf(t,e=0){return u(t-e,(t=>`col${t+e+1}`))}function Ef(t,e,n){let r=t();const i=r.length,s=+n.autoMax||1e3,a=u(i,(()=>[]));e=e?e.length<i?[...e,Nf(i,e.length)]:e:Nf(i);let o=0;for(;o<s&&r;++o,r=t())for(let t=0;t<i;++t)a[t].push(""===r[t]?null:r[t]);const c=function(t,e,n){const{parse:r={}}=n,i=!1===n.autoType;return t.map(((t,s)=>l(r[t])?r[t]:i?Af:function(t,e){const n=[If,kf(e),Mf],r=n.length;for(let e=0;e<r;++e){const[r,i]=n[e];if(Cf(t,r))return i}return Af}(e[s],n)))}(e,a,n);for(c.forEach(((t,e)=>{if(t===Af)return;const n=a[e];for(let e=0;e<o;++e)null!=n[e]&&(n[e]=t(n[e]))}));r;r=t())for(let t=0;t<i;++t)a[t].push(r[t]?c[t](r[t]):null);const h={};return e.forEach(((t,e)=>h[t]=a[e])),new nu(h,e)}const Of={},Df={},Bf=10;function Lf(t,e,n){let r=+e||0;for(;--r>=0;)t();return n?()=>{let e;for(;!e;){if(!n(e=t()))return e;e=null}}:t}function Ff(t,e={}){const n=function(t,{delimiter:e=",",skip:n,comment:r}){1!==e.length&&o(`Text "delimiter" should be a single character, found "${e}"`);const i=e.charCodeAt(0);let s,a=t.length,c=0,l=a<=0,u=!1;function h(){if(l)return Df;if(u)return u=!1,Of;const e=c;let n,r;if(34===t.charCodeAt(e)){for(;c++<a&&34!==t.charCodeAt(c)||34===t.charCodeAt(++c););return(n=c)>=a?l=!0:(r=t.charCodeAt(c++))===Bf?u=!0:13===r&&(u=!0,t.charCodeAt(c)===Bf&&++c),t.slice(e+1,n-1).replace(/""/g,'"')}for(;c<a;){if((r=t.charCodeAt(n=c++))===Bf)u=!0;else if(13===r)u=!0,t.charCodeAt(c)===Bf&&++c;else if(r!==i)continue;return t.slice(e,n)}return l=!0,t.slice(e,a)}return t.charCodeAt(a-1)===Bf&&--a,13===t.charCodeAt(a-1)&&--a,Lf((function(){if((s=h())!==Df){const t=[];for(;s!==Of&&s!==Df;)t.push(s),s=h();return t}}),n,r&&(t=>(t&&t[0]||"").startsWith(r)))}(t,e);return Ef(n,!1!==e.header?n():e.names,e)}function Pf(t,e={}){const n=function(t,{skip:e,comment:n}){let r=t.length,i=0;return t.charCodeAt(r-1)===Bf&&--r,13===t.charCodeAt(r-1)&&--r,Lf((function(){if(i>=r)return;const e=i;let n,s,a=!1;for(;i<r;)if((s=t.charCodeAt(n=i++))===Bf?a=!0:13===s&&(a=!0,t.charCodeAt(i)===Bf&&++i),a)return t.slice(e,n);return t.slice(e,r)}),e,n&&(t=>(t||"").startsWith(n)))}(t,e),r=function({positions:t,widths:e}){t||e||o('Fixed width files require a "positions" or "widths" option');let n=0;return t||e.map((t=>[n,n+=t]))}(e);return Ef((()=>{const t=n();if(t)return r.map((([e,n])=>t.slice(e,n).trim()))}),e.names,e)}function Uf(t){const e=t.length;for(let n=0;n<e;++n){const e=t.charCodeAt(n);if(e<48||e>57)return!1}return!0}function Vf(t,e={}){const n=zl(e.autoType);y(t)&&(t=JSON.parse(t));let r,i=t.data;if(m(i)&&!T(i)?t.schema&&t.schema.fields&&(r=t.schema.fields.map((t=>t.name))):i=t,n||e.parse){const t=e.parse||{};for(const e in i){const r=i[e],s=r.length;if(t[e])for(let n=0;n<s;++n)r[n]=t[e](r[n]);else if(n)for(let t=0;t<s;++t){const e=r[t];y(e)&&F(e)&&!Uf(e)&&(r[t]=new Date(e))}}}return new nu(i,r)}function $f(t,e){const n=w();return e.forEach(((e,r)=>{const i=y(e)?e:r;if(i){const e=t.column(r)||o(`Unrecognized column: ${r}`);n.add(i,e)}})),t.create(n)}function Rf(t,e,{before:n,after:r}={}){const i=null!=n,s=null!=r;i||s||o("relocate requires a before or after option."),i&&s&&o("relocate accepts only one of the before or after options."),e=Yl(t,e);const a=[...Yl(t,i?n:r).keys()],c=i?a[0]:a.pop(),l=new Map;return t.columnNames().forEach((t=>{const n=!e.has(t);if(t===c){s&&n&&l.set(t,t);for(const[t,n]of e)l.set(t,n);if(s)return}n&&l.set(t,t)})),$f(t,l)}function jf(t,e=(t=>t),n=""){const r=t.length;if(!r)return"";let i=e(t[0],0);for(let s=1;s<r;++s)i+=n+e(t[s],s);return i}function zf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Hf(t){return et(t)?t:+t}class Wf{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:function(t,e=0,n=t.length){let r=n?t[e++]:S;for(let i=e;i<n;++i)r>t[i]&&(r=t[i]);return r}(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:function(t,e=0,n=t.length){let r=n?t[e++]:S;for(let i=e;i<n;++i)r<t[i]&&(r=t[i]);return r}(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(zf)),function(t,e){const n=t.length;if(!n)return S;if((e=+e)<=0||n<2)return Hf(t[0]);if(e>=1)return Hf(t[n-1]);const r=(n-1)*e,i=Math.floor(r),s=Hf(t[i]);return et(s)?s:s+(Hf(t[i+1])-s)*(r-i)}(this._sorted,t)}}const qf=(t,e,n)=>yf(e,"{"+jf(t,((t,r)=>`_${r}.${n}(${e});`))+"}",t);function Yf(t,e){const{ops:n,output:r}=function(t,e){const n={},r=[];function i(t,s=[]){const a=t+":"+s;if(n[a])return n[a];const o=$t(t),c=o.create(...s);return e<0&&o.stream&&o.stream.forEach((t=>i(t,[]))),o.req&&o.req.forEach((t=>i(t,[]))),n[a]=c,r.push(c),c}const s=t.map((t=>{const e=i(t.name,t.params);return e.output=t.id,e}));return{ops:r,output:s}}(t,e),i=t[0].fields,s=i.length;return new(0===s?Gf:1===s?Kf:2===s?Xf:o("Unsupported field count: "+s))(i,n,r,e)}class Gf extends iu{constructor(t,e,n,r){super(n),this._op=e,this._fields=t,this._stream=!!r}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach((e=>e.init(t))),t.values&&(t.list=new Wf),t}write(t,e,n){const r=this._outputs,i=r.length;for(let s=0;s<i;++s)e[r[s].output][n]=r[s].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class Kf extends Gf{constructor(t,e,n,r){super(t,e,n,r);const i=["state","v1","v2"];this._add=qf(e,i,"add"),this._rem=qf(e,i,"rem")}add(t,e,n){const r=this._fields[0](e,n);++t.count,M(r)&&(++t.valid,t.list&&t.list.add(r),this._add(t,r))}rem(t,e,n){const r=this._fields[0](e,n);--t.count,M(r)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,r))}}class Xf extends Gf{constructor(t,e,n,r){super(t,e,n,r);const i=["state","v1","v2"];this._add=qf(e,i,"add"),this._rem=qf(e,i,"rem")}add(t,e,n){const r=this._fields[0](e,n),i=this._fields[1](e,n);++t.count,M(r)&&M(i)&&(++t.valid,t.list&&t.list.add([r,i]),this._add(t,r,i))}rem(t,e,n){const r=this._fields[0](e,n),i=this._fields[1](e,n);--t.count,M(r)&&M(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,r,i))}}function Jf(t,e,n){if(e.length){const r=t.data(),{keys:i}=t.groups()||{},s=Zf(t,e),a=i?(t,e)=>s[t][i[e]]:t=>s[t][0];n=n.map((t=>e=>t(e,r,a)))}return n}function Zf(t,e,n){if(!e.length)return n;const r=Qf(e),i=t.groups(),s=i?i.size:1;return n=n||u(e.length,(()=>Array(s))),s>1?r.forEach((e=>{const r=ep(t,e,i);for(let t=0;t<s;++t)e.write(r[t],n,t)})):r.forEach((e=>{const r=tp(t,e);e.write(r,n,0)})),n}function Qf(t,e){const n=[],r={};for(const e of t){const t=e.fields.map((t=>t+"")).join(",");(r[t]||(r[t]=[])).push(e)}for(const t in r)n.push(Yf(r[t],e));return n}function tp(t,e){const n=e.init(),r=t.totalRows(),i=t.data(),s=t.mask();if(t.isOrdered()){const s=t.indices();for(let t=0;t<r;++t)e.add(n,s[t],i)}else if(s)for(let t=s.next(0);t>=0;t=s.next(t+1))e.add(n,t,i);else for(let t=0;t<r;++t)e.add(n,t,i);return n}function ep(t,e,n){const{keys:r,size:i}=n,s=u(i,(()=>e.init())),a=t.data();if(t.isOrdered()){const n=t.indices(),i=n.length;for(let t=0;t<i;++t){const i=n[t];e.add(s[r[i]],i,a)}}else if(t.isFiltered()){const n=t.mask();for(let t=n.next(0);t>=0;t=n.next(t+1))e.add(s[r[t]],t,a)}else{const n=t.totalRows();for(let t=0;t<n;++t)e.add(s[r[t]],t,a)}return s}function np(t,e){const{get:n,names:r,rows:i,size:s}=e,a=r.length;for(let e=0;e<a;++e){const a=t.add(r[e],Array(s)),o=n[e];for(let t=0;t<s;++t)a[t]=o(i[t])}}function rp(t){return{left(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const s=r+i>>>1;t(e[s],n)<0?r=s+1:i=s}return r},right(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const s=r+i>>>1;t(e[s],n)>0?i=s:r=s+1}return r}}}const ip=rp(zf);function sp(t){return Ut(t.name)||t.frame&&(Number.isFinite(t.frame[0])||Number.isFinite(t.frame[1]))}function ap(t,{names:e,exprs:n,ops:r},i={}){const s=t.totalRows(),a=w(i.drop?null:t),o=e.map((t=>a.add(t,Array(s)))),[c,l]=function(t){const e=[],n=[],r=t.length;for(let i=0;i<r;++i){const r=t[i];r.id=i,(sp(r)?n:e).push(r)}return[e,n]}(r),h=t.isGrouped()?t.groups().size:1,d=Zf(t,c,u(r.length,(()=>Array(h))));return l.length?function(t,e,n,r={},i){const s=t.data(),a=function(t,e){const n={};return t.forEach((t=>{const e=(t=>(t.frame||[null,null]).map((t=>Number.isFinite(t)?Math.abs(t):null)))(t),r=(t=>!!t.peers)(t),i=`${e},${r}`,{aggOps:s,winOps:a}=n[i]||(n[i]={frame:e,peers:r,aggOps:[],winOps:[]});Pt(t.name)?s.push(t):a.push(function(t){const{id:e,name:n,fields:r=[],params:i=[]}=t,s=Rt(n).create(...i);return r.length&&(s.get=r[0]),s.id=e,s}(t))})),Object.values(n).map((t=>function(t,e,n,r,i){let s,a,o,c,l;const u=t=>a[t-1]===a[t],h=r.length,d=i.length,f=r.length?yf(["w","r","k"],"{"+jf(r,((t,e)=>`r[_${e}.id][k]=_${e}.value(w,_${e}.get);`))+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:u,init(t,e,n,u){p.index=p.i0=p.i1=0,p.size=e.length,s=t,a=e,c=n,l=u,o=i?i.map((t=>t.init())):null;for(let t=0;t<h;++t)r[t].init();return p},value:(e,n)=>n(s[e],t),step(r){const[h,m]=e,g=p.size,y=p.i0,b=p.i1;p.i0=null!=h?Math.max(0,r-Math.abs(h)):0,p.i1=null!=m?Math.min(g,r+Math.abs(m)+1):g,p.index=r,n&&(p.i0>0&&u(p.i0)&&(p.i0=ip.left(a,a[p.i0])),p.i1<g&&u(p.i1)&&(p.i1=ip.right(a,a[p.i1-1])));for(let e=0;e<d;++e){const n=i[e],r=o[e];for(let e=y;e<p.i0;++e)n.rem(r,s[e],t);for(let e=b;e<p.i1;++e)n.add(r,s[e],t);n.write(r,c,l)}return f(p,c,l),c}};return p}(e,t.frame,t.peers,t.winOps,Qf(t.aggOps,null!=t.frame[0]?-1:1))))}(i,s),o=a.length,c=yf(["r","d","op"],"{"+jf(e,((t,e)=>`_${e}[r] = $${e}(r, d, op);`))+"}",e,n);t.partitions().forEach(((e,n)=>{const i=e.length,l=function(t,e){if(t.isOrdered()){const n=t.comparator(),r=t.data(),i=e.length,s=new Uint32Array(i);for(let t=1,a=0;t<i;++t)s[t]=n(e[t-1],e[t],r)?++a:a;return s}return e}(t,e);for(let t=0;t<o;++t)a[t].init(e,l,r,n);const u=t=>r[t][n];for(let t=0;t<i;++t){for(let e=0;e<o;++e)a[e].step(t);c(e[t],s,u)}}))}(t,o,n,d,l):function(t,e,n,r){const i=t.mask(),s=t.data(),{keys:a}=t.groups()||{},o=a?(t,e)=>r[t][a[e]]:t=>r[t][0],c=e.length;for(let r=0;r<c;++r){const a=n[r],c=e[r];if(i)for(let t=i.next(0);t>=0;t=i.next(t+1))c[t]=a(t,s,o);else{const e=t.totalRows();for(let t=0;t<e;++t)c[t]=a(t,s,o)}}}(t,o,n,d),t.create(a)}const op=2147483648;class cp{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let e=0;for(let n=0;n<t;++n)for(let t=this._bits[n];t;++e)t&=t-1;return e}get(t){return this._bits[t>>5]&op>>>t}set(t){this._bits[t>>5]|=op>>>t}clear(t){this._bits[t>>5]&=~(op>>>t)}scan(t){for(let e=this.next(0);e>=0;e=this.next(e+1))t(e)}next(t){const e=this._bits,n=e.length;let r=t>>5,i=e[r]&4294967295>>>t;for(;r<n;i=e[++r])if(0!==i)return(r<<5)+Math.clz32(i);return-1}nth(t){let e=this.next(0);for(;t--&&e>=0;)e=this.next(e+1);return e}not(){const t=this._bits,e=t.length;for(let n=0;n<e;++n)t[n]=~t[n];const n=this._size%32;return n&&(t[e-1]&=op>>n-1),this}and(t){if(t){const e=this._bits,n=t._bits,r=e.length;for(let t=0;t<r;++t)e[t]&=n[t]}return this}or(t){if(t){const e=this._bits,n=t._bits,r=e.length;for(let t=0;t<r;++t)e[t]|=n[t]}return this}}function lp(t,{names:e=[],exprs:n=[],ops:r=[]},s={}){if(!e.length)return t;const a=s.limit>0?+s.limit:1/0,o=s.index?!0===s.index?"index":s.index+"":null,c=new Set(s.drop),l=Jf(t,r,n),u=w(),h=new Set(e),d=[],f=[],p=[];t.columnNames().forEach((e=>{if(!c.has(e)){const n=u.add(e,[]);h.has(e)||(d.push(t.column(e)),f.push(n))}})),e.forEach((t=>{c.has(t)||(u.has(t)||u.add(t,[]),p.push(u.data[t]))}));const m=o?u.add(o,[]):null;let g=0;const y=d.length,b=p.length,v=(t,e)=>{for(let n=0;n<y;++n)f[n].length=g+e,f[n].fill(d[n].get(t),g,g+e)},_=m?(t,e)=>{for(let n=0;n<e;++n)m[t+n]=n}:()=>{};if(1===b){const e=l[0],n=p[0];t.scan(((t,r)=>{const s=i(e(t,r)),o=Math.min(s.length,a);v(t,o);for(let t=0;t<o;++t)n[g+t]=s[t];_(g,o),g+=o}))}else t.scan(((t,e)=>{let n=0;const r=l.map((r=>{const s=i(r(t,e));return n=Math.min(Math.max(n,s.length),a),s}));v(t,n);for(let t=0;t<b;++t){const e=p[t],i=r[t];for(let t=0;t<n;++t)e[g+t]=i[t]}_(g,n),g+=n}));return t.create(u.new())}function up(t,e,n,r={window:!1}){const s=new Map,a=n=>{y(n=c(n)?e.columnName(n):n)?s.set(n,Hd(n)):l(n)?Yl(e,n).forEach(a):m(n)?Wl(s,n):o(`Invalid ${t} value: ${n+""}`)};return i(n).forEach(a),r.preparse&&r.preparse(s),kd(s,{table:e,...r})}function hp(t,e,n,r){const i=n&&n.length;return function(t,{names:e,exprs:n,ops:r},i){const s=Jf(t,r,n),a=i?null:w(t),o=t.totalRows();return e.forEach(((e,n)=>{const r=t.column(e),c=i?r.data:a.add(e,Array(o)),l=s[n];t.scan((t=>{const e=r.get(t);c[t]=M(e)?e:l(t)}))})),i?t:t.create(a)}(i?function(t,e,n){const r=t.groups(),i=t.data(),s=(r?r.names:[]).concat(e),a=(r?r.get:[]).concat(e.map((e=>t.getter(e)))),o=new Set,c=Ct(a);t.scan(((t,e)=>o.add(c(t,e))));const l=t.columnNames(),u=w(),h=l.map((t=>u.add(t,[])));l.forEach(((e,n)=>{const r=i[e],s=h[n];t.scan((t=>s.push(r.get(t))))}));const d=Ct(a.map(((t,e)=>t=>t[e]))),f=yf("v","{"+h.map(((t,e)=>`_${e}.push(v[$${e}]);`)).join("")+"}",h,l.map((t=>s.indexOf(t))));if(r){let t=r.keys.length;const e=n.reduce(((t,e)=>t*e.length),r.size),i=new Uint32Array(e+(t-o.size));i.set(r.keys),dp(r,n,((e,n)=>{o.has(d(e))||(f(e),i[t++]=n[0])})),u.groupby({...r,keys:i})}else dp(r,n,(t=>{o.has(d(t))||f(t)}));return t.create(u.new())}(t,n,r):t,e,i)}function dp(t,e,n){const r=t?t.get.length:0,i=t?1:0,s=i+e.length,a=new Int32Array(s),o=new Int32Array(s),c=[];if(t){const{get:e,rows:n,size:i}=t;a[0]=i,c.push(((t,i)=>{const s=n[i];for(let n=0;n<r;++n)t[n]=e[n](s)}))}e.forEach(((t,e)=>{const n=e+r;a[e+i]=t.length,c.push(((e,r)=>e[n]=t[r]))}));const l=Array(r+e.length);for(let t=0;t<s;++t)c[t](l,0);n(l,o);for(let t=s-1;t>=0;){const e=++o[t];e<a[t]?(c[t](l,e),n(l,o),t=s-1):(o[t]=0,c[t](l,0),--t)}}function fp(t,{names:e,exprs:n,ops:r}){const i=w(),s=t.groups();return s&&np(i,s),function(t,e,n,r=[],i){if(!e.length)return;const s=n?n.size:1,a=(t,e)=>r[t][e],o=t.length;for(let n=0;n<o;++n){const o=e[n];if(null!=o.field)i.add(t[n],r[o.field]);else if(s>1){const e=i.add(t[n],Array(s));for(let t=0;t<s;++t)e[t]=o(t,null,a)}else i.add(t[n],[o(0,null,a)])}}(e,n,s,Zf(t,r),i),t.create(i.new())}function pp(t){t.forEach(((e,n)=>e.field?t.set(n,ct(e+"")):0))}function mp(t,e){const n=new Map;return t.scan(((t,r)=>{const i=e(t,r);null!=i&&i==i&&n.set(i,t)})),n}function gp(t,e,n,{names:i,exprs:s},a={}){const o=t.data(),c=t.indices(!1),l=c.length,u=new Int32Array(l),h=e.data(),d=e.indices(!1),f=d.length,p=new Int32Array(f),m=i.length,g=w(),y=Array(m),b=Array(m);for(let t=0;t<i.length;++t)y[t]=g.add(i[t],[]),b[t]=s[t];const v=function(t,e){const n=["i","a","j","b"];return yf(n,"{"+jf(t,((t,e)=>`_${e}.push($${e}(${n}));`))+"}",t,e)}(y,b);if((r(n)?bp:yp)(v,n,o,h,c,d,u,p,l,f),a.left)for(let t=0;t<l;++t)u[t]||v(c[t],o,-1,h);if(a.right)for(let t=0;t<f;++t)p[t]||v(-1,o,d[t],h);return t.create(g.new())}function yp(t,e,n,r,i,s,a,o,c,l){for(let u=0;u<c;++u){const c=i[u];for(let i=0;i<l;++i){const l=s[i];e(c,n,l,r)&&(t(c,n,l,r),a[u]=1,o[i]=1)}}}function bp(t,[e,n],r,i,s,a,o,c,l,u){let h,d,f,p,m,g,y,b,v=t;l>=u?(h=r,d=e,f=o,p=s,m=i,g=n,y=c,b=a):(h=i,d=n,f=c,p=a,m=r,g=e,y=o,b=s,v=(e,n,r,i)=>t(r,i,e,n));const _=function(t,e,n){const r=new Map,i=t.length;for(let s=0;s<i;++s){const i=n(t[s],e);null!=i&&i==i&&(r.has(i)?r.get(i).push(s):r.set(i,[s]))}return r}(b,m,g),w=p.length;for(let t=0;t<w;++t){const e=p[t],n=_.get(d(e,h));if(n){const r=n.length;for(let t=0;t<r;++t){const r=n[t];v(e,h,b[r],m),y[r]=1}f[t]=1}}}function vp(t,e,n){const r=new Map;return i(n).forEach(((n,i)=>{y(n=c(n)?e.columnName(n):n)?r.set(i,Hd(n)):l(n)||m(n)&&n.expr?r.set(i,n):o(`Invalid ${t} key value: ${n+""}`)})),Ct(kd(r,{table:e,aggregate:!1,window:!1}).exprs,!0)}function _p(t,e,n){if(n)y(n)?n=[n,n]:r(n)&&1===n.length&&(n=[n[0],n[0]]);else{const r=function(t,e){const n=new Set(e);return t.filter((t=>n.has(t)))}(t.columnNames(),e.columnNames());r.length||o("Natural join requires shared column names."),n=[r,r]}return n}function wp(t,e,n,r){return n.length!==r.length&&o("Mismatched number of join keys"),[vp("join",t,n),vp("join",e,r)]}const xp={aggregate:!1,window:!1,index:1};function Sp(t,e,n,s,a={}){n=_p(t,e,n);const o={join:[t,e]};let c;if(r(n)){const[r,o]=n.map(i);c=wp(t,e,r,o),s||(s=function(t,e,n,r){const i=[];e.forEach(((t,e)=>y(t)&&t===n[e]?i.push(t):0));const s=Jl(i);if(r.left&&r.right){const e=new Set(i);return[t.columnNames().map((t=>{const n=`[${nt(t)}]`;return e.has(t)?{[t]:`(a, b) => a${n} == null ? b${n} : a${n}`}:t})),s]}return r.right?[s,Xl()]:[Xl(),s]}(t,r,o,a))}else c=kd({on:n},o).exprs[0],s||(s=[Xl(),Xl()]);return gp(t,e,c,function(t,e,n,i,s=[]){if(r(n)){let r,a,o,c=n.length;r=a=o={names:[],exprs:[]},c--&&(r=up("join",t,n[0],i)),c--&&(a=up("join",e,n[1],xp)),c--&&(o=kd(n[2],i));const l=new Set,u=new Set(r.names);return a.names.forEach((t=>{u.has(t)&&l.add(t)})),l.size&&(Ap(r.names,l,s[0]||"_1"),Ap(a.names,l,s[1]||"_2")),{names:r.names.concat(a.names,o.names),exprs:r.exprs.concat(a.exprs,o.exprs)}}return kd(n,i)}(t,e,s,o,a&&a.suffix),a)}function Ap(t,e,n){t.forEach(((r,i)=>e.has(r)?t[i]=r+n:0))}function Ip(t,e,n,[r,i]){const s=mp(n,i);e.scan(((e,n)=>{s.get(r(e,n))>=0&&t.set(e)}))}function Tp(t,e,n,r){const i=e.numRows(),s=n.numRows(),a=e.data(),o=n.data();if(e.isFiltered()||n.isFiltered()){const c=e.indices(!1),l=n.indices(!1);for(let e=0;e<i;++e){const n=c[e];for(let e=0;e<s;++e)if(r(n,a,l[e],o)){t.set(n);break}}}else for(let e=0;e<i;++e)for(let n=0;n<s;++n)if(r(e,a,n,o)){t.set(e);break}}function Mp(t,e,n,s){return n=_p(t,e,n),function(t,e,n,i={}){const s=new cp(t.totalRows());return(r(n)?Ip:Tp)(s,t,e,n),i.anti&&s.not().and(t.mask()),t.create({filter:s})}(t,e,r(n)?wp(t,e,...n.map(i)):kd({on:n},{join:[t,e]}).exprs[0],s)}const kp=(t,e)=>null!=t?t:e;function Cp(t){t.forEach(((e,n)=>e.field?t.set(n,st(e+"")):0))}function Np(t,e){return fp(t,kd(e,{table:t,aggronly:!0,window:!1}))}function Ep(t,e,n,r){return(e?r?Dp:Op:r?Lp:Bp)(t.length,t,n,r)}function Op(t,e,n){const r=n.length;for(let i=0;i<t;++i)e[i]=n[r*Y()|0];return e}function Dp(t,e,n,r){const i=n.length,s=new Float64Array(i);let a=0;for(let t=0;t<i;++t)s[t]=a+=r(n[t]);const o=rp(zf).right;for(let r=0;r<t;++r)e[r]=n[o(s,a*Y())];return e}function Bp(t,e,n){const r=n.length;if(t>=r)return n;for(let r=0;r<t;++r)e[r]=n[r];for(let i=t;i<r;++i){const r=i*Y();r<t&&(e[0|r]=n[i])}return e}function Lp(t,e,n,r){const i=n.length;if(t>=i)return n;const s=new Float32Array(i),a=new Uint32Array(i);for(let t=0;t<i;++t)a[t]=t,s[t]=-Math.log(Y())/r(n[t]);a.sort(((t,e)=>s[t]-s[e]));for(let r=0;r<t;++r)e[r]=n[a[r]];return e}const Fp=t=>e=>t.get(e)||0;function Pp(t,{names:e=[],exprs:n=[],ops:r=[]}){const i=e.length;if(0===i)return null;if(1===i&&!t.isFiltered()&&n[0].field){const r=t.column(n[0].field);if(r.groups)return r.groups(e)}let s=Jf(t,r,n);const a=Ct(s),o=t.totalRows(),c=new Uint32Array(o),l={},u=[],h=t.data(),d=t.mask();if(d)for(let t=d.next(0);t>=0;t=d.next(t+1)){const e=a(t,h)+"",n=l[e];c[t]=null!=n?n:l[e]=u.push(t)-1}else for(let t=0;t<o;++t){const e=a(t,h)+"",n=l[e];c[t]=null!=n?n:l[e]=u.push(t)-1}return r.length||(s=s.map((t=>e=>t(e,h)))),{keys:c,get:s,names:e,rows:u,size:u.length}}const Up=(t,e,n,r)=>`((u = ${t}) < (v = ${e}) || u == null) && v != null ? ${n}\n    : (u > v || v == null) && u != null ? ${r}\n    : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}\n    : v !== v && u === u ? ${r} : `,Vp={__antijoin:(t,e,n)=>Mp(t,e,n,{anti:!0}),__count:(t,e={})=>Np(t,{[e.as||"count"]:at()}),__cross:(t,e,n,r)=>Sp(t,e,(()=>!0),n,{...r,left:!0,right:!0}),__concat:function(t,e){const n=t.numRows(),r=n+e.reduce(((t,e)=>t+e.numRows()),0);if(n===r)return t;const i=[t,...e],s=w();return t.columnNames().forEach((t=>{const e=Array(r);let n=0;i.forEach((r=>{const i=r.column(t)||{get:()=>S};r.scan((t=>e[n++]=i.get(t)))})),s.add(t,e)})),t.create(s.new())},__dedupe:function(t,e=[]){return t.groupby(e.length?e:t.columnNames()).filter("row_number() === 1").ungroup().reify()},__derive:function(t,e,n={}){const r=ap(t,kd(e,{table:t}),n);return n.drop||null==n.before&&null==n.after?r:Rf(r,Object.keys(e).filter((e=>!t.column(e))),n)},__except:function(t,e){if(0===e.length)return t;const n=t.columnNames();return e.reduce(((t,e)=>t.antijoin(e.select(n))),t).dedupe()},__filter:function(t,e){const n=kd({p:e},{table:t});let r=n.exprs[0];if(n.ops.length){const{data:e}=ap(t,n,{drop:!0}).column("p");r=t=>e[t]}return function(t,e){const n=t.totalRows(),r=t.mask(),i=t.data(),s=new cp(n);if(r)for(let t=r.next(0);t>=0;t=r.next(t+1))e(t,i)&&s.set(t);else for(let t=0;t<n;++t)e(t,i)&&s.set(t);return t.create({filter:s})}(t,r)},__fold:function(t,e,n){return function(t,{names:e=[],exprs:n=[],ops:r=[]},i={}){if(0===e.length)return t;const[s="key",a="value"]=i.as||[],o=Jf(t,r,n);return lp(t,{names:[s,a],exprs:[()=>e,(t,e)=>o.map((n=>n(t,e)))]},{...i,drop:e})}(t,up("fold",t,e),n)},__impute:function(t,e,n={}){if((e=kd(e,{table:t})).names.forEach((e=>t.column(e)?0:o(`Invalid impute column ${nt(e)}`))),n.expand){const r={preparse:pp,aggronly:!0},i=up("impute",t,n.expand,r),s=fp(t.ungroup(),i);return hp(t,e,i.names,i.names.map((t=>s.get(t,0))))}return hp(t,e)},__intersect:function(t,e){const n=t.columnNames();return e.length?e.reduce(((t,e)=>t.semijoin(e.select(n))),t).dedupe():t.reify([])},__join:Sp,__lookup:function(t,e,n,r){return function(t,e,[n,r],{names:i,exprs:s,ops:a}){const o=w(t),c=t.totalRows();i.forEach((t=>o.add(t,Array(c).fill(S))));const l=mp(e,r),u=yf(["lr","rr","data"],"{"+jf(i,((t,e)=>`_[${e}][lr] = $[${e}](rr, data);`))+"}",i.map((t=>o.data[t])),Jf(e,a,s)),h=e.data();return t.scan(((t,e)=>{const r=l.get(n(t,e));r>=0&&u(t,r,h)})),t.create(o)}(t,e,[vp("lookup",t,(n=_p(t,e,n))[0]),vp("lookup",e,n[1])],up("lookup",e,r))},__pivot:function(t,e,n,r){return function(t,e,n,r={}){const{keys:i,keyColumn:s}=function(t,e,n){const r=n.limit>0?+n.limit:1/0,i=kp(n.sort,!0),s=kp(n.keySeparator,"_"),a=Jf(t,e.ops,e.exprs),o=1===a.length?a[0]:(t,e)=>a.map((n=>n(t,e))).join(s),c=Array(t.totalRows());t.scan(((t,e)=>c[t]=o(t,e)));const l=Zf(t.ungroup(),[{id:0,name:"array_agg_distinct",fields:[t=>c[t]],params:[]}])[0][0],u=i?l.sort():l;return{keys:Number.isFinite(r)?u.slice(0,r):u,keyColumn:c}}(t,e,r),a=kp(r.valueSeparator,"_"),o=n.names.length>1?(t,e)=>e+a+i[t]:t=>i[t],c=i.map((e=>Zf(t,n.ops.map((t=>{if("count"===t.name){const n=t=>e===s[t]?1:NaN;return n.toString=()=>e+":1",{...t,name:"sum",fields:[n]}}const n=t.fields.map((t=>{const n=(n,r)=>e===s[n]?t(n,r):NaN;return n.toString=()=>e+":"+t,n}));return{...t,fields:n}})))));return t.create(function({names:t,exprs:e},n,r,i){const s=r?r.size:1,a=w(),o=i.length,c=t.length;let l;const u=(t,e)=>l[t][e];r&&np(a,r);for(let r=0;r<c;++r){const c=e[r];if(null!=c.field)for(let e=0;e<o;++e)a.add(n(e,t[r]),i[e][c.field]);else if(s>1)for(let e=0;e<o;++e){l=i[e];const o=a.add(n(e,t[r]),Array(s));for(let t=0;t<s;++t)o[t]=c(t,null,u)}else for(let e=0;e<o;++e)l=i[e],a.add(n(e,t[r]),[c(0,null,u)])}return a.new()}(n,o,t.groups(),c))}(t,up("fold",t,e),up("fold",t,n,{preparse:Cp,aggronly:!0}),r)},__relocate:Rf,__rename:function(t,e){const n=new Map;return t.columnNames((t=>(n.set(t,t),0))),$f(t,Yl(t,e,n))},__rollup:Np,__sample:function(t,e,n={}){return function(t,e,n,r={}){const{replace:i,shuffle:s}=r,a=t.partitions(!1);let o=0;e=a.map(((t,n)=>{let r=e(n);return o+=r=i?r:Math.min(t.length,r),r}));const c=new Uint32Array(o);let l=0;return a.forEach(((t,r)=>{const s=e[r],a=c.subarray(l,l+=s);i||s!==t.length?Ep(a,i,t,n):a.set(t)})),!1!==s&&(a.length>1||!i)&&function(t,e=0,n=t.length){let r=n-(e=+e);for(;r;){const n=Y()*r--|0,i=t[r+e];t[r+e]=t[n+e],t[n+e]=i}}(c),t.reify(c)}(t,function(t,e){return c(e)?()=>e:Fp(fp(t,kd({size:e},{table:t,window:!1})).column("size"))}(t,e),function(t,e){return null==e?null:(e=c(e)?t.columnName(e):e,Fp(y(e)?t.column(e):ap(t,kd({w:e},{table:t}),{drop:!0}).column("w")))}(t,n.weight),n)},__select:function(t,e){return $f(t,Yl(t,e))},__semijoin:Mp,__spread:function(t,e,n){return function(t,{names:e,exprs:n,ops:r=[]},s={}){if(0===e.length)return t;const a=1===e.length&&s.as||[],o=null==s.drop||!!s.drop,c=null==s.limit?a.length||1/0:Math.max(1,+s.limit||1),l=Jf(t,r,n),u=w(),h=e.reduce(((t,e,n)=>t.set(e,n)),new Map),d=(e,n)=>{const r=function(t,e,n){const r=t.totalRows(),s=[];return t.scan(((t,a)=>{const o=i(e(t,a)),c=Math.min(o.length,n);for(;s.length<c;)s.push(Array(r).fill(S));for(let e=0;e<c;++e)s[e][t]=o[e]})),s}(t,l[e],c),s=r.length;for(let t=0;t<s;++t)u.add(a[t]||`${n}_${t+1}`,r[t])};return t.columnNames().forEach((e=>{h.has(e)?(o||u.add(e,t.column(e)),d(h.get(e),e),h.delete(e)):u.add(e,t.column(e))})),h.forEach(d),t.create(u)}(t,up("spread",t,e),n)},__union:function(t,e){return t.concat(e).dedupe()},__unroll:function(t,e,n){return lp(t,up("unroll",t,e),n&&n.drop?{...n,drop:up("unroll",t,n.drop).names}:n)},__groupby:function(t,e){return function(t,e){return t.create({groups:Pp(t,e)})}(t,up("groupby",t,e))},__orderby:function(t,e){return function(t,e){return t.create({order:e})}(t,function(t,e){let n=-1;const r=new Map,i=t=>r.set(++n+"",t);return e.forEach((e=>{const n=null!=e.expr?e.expr:e;if(m(n)&&!l(n))for(const t in n)i(n[t]);else i(c(n)?Hd(e,t.columnName(n)):y(n)?Hd(e):l(n)?e:o("Invalid orderby field: "+e))})),function(t,e){const n=[],r=[],i=[];let s=null,a="0",o="0";t.isGrouped()&&(s=t.groups().keys,a="ka",o="kb");const{ops:c}=kd(e,{table:t,value:(t,e)=>{if(n.push(t),e.escape){const t=t=>`fn[${i.length}](${t}, data)`;r.push([t("a"),t("b")]),i.push(e.escape)}else r.push([Mt(e,{index:"a",op:a}),Mt(e,{index:"b",op:o})])},window:!1}),l=Zf(t,c),u=(t,e)=>l[t][e],h=n.length;let d="return (a, b) => {"+(u&&t.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let t=0;t<h;++t){const i=e.get(n[t]).desc?-1:1,[s,a]=r[t];d+=Up(s,a,-i,i)}return d+="0;};",Function("op","keys","fn","data",d)(u,s,i,t.data())}(t,r)}(t,e))},__ungroup:function(t){return t.isGrouped()?t.create({groups:null}):t},__unorder:function(t){return t.isOrdered()?t.create({order:null}):t},__reduce:function(t,e){const n=w(),r=t.groups(),{get:i,names:s=[],rows:a,size:o=1}=r||{},c=new Uint32Array(o+1);s.forEach((t=>n.add(t,null)));const l=r?ep(t,e,r):[tp(t,e)];e.outputs().map((t=>n.add(t,[])));const u=c.length-1;let h=0;for(let t=0;t<u;++t)h+=c[t+1]=e.write(l[t],n.data,c[t]);if(r){const e=t.data();s.forEach(((t,r)=>{const s=n.data[t]=Array(h),l=i[r];for(let t=0,n=0;t<o;++t)s.fill(l(a[t],e),n,n+=c[t+1])}))}return t.create(n.new())}};function $p(t,e){return nu.new(t,e)}function Rp(t,e){return nu.from(t,e)}function jp(t,e={}){const n=e.using||Ff;return fetch(t,e.fetch).then((t=>t[e.as||"text"]())).then((t=>n(t,e)))}function zp(t,e){return jp(t,{...e,as:"arrayBuffer",using:Sf})}function Hp(t,e){return jp(t,{...e,as:"text",using:Ff})}function Wp(t,e){return jp(t,{...e,as:"text",using:Pf})}function qp(t,e){return jp(t,{...e,as:"json",using:Yp})}function Yp(t,e){return r(t)?Rp(t):Vf(t,e)}function Gp(t,e={}){const n=`d[${JSON.stringify(t)}]`,{maxbins:r,nice:i,minstep:s,step:a,offset:o}=e,c=[r,i,s,a];let l=c.length;for(;l&&null==c[--l];)c.pop();return`d => op.bin(${n}, ...op.bins(${n}${c.length?", "+c.map((t=>t+"")).join(", "):""}), ${o||0})`}function Kp(t){return Rd(t,{escape:!0,toString(){o("Escaped values can not be serialized.")}})}function Xp(t){return`() => op.round(${+t} * op.count())`}function Jp(...t){return t=t.flat(),e=>{const n=new Map,r=Math.min(t.length,e.numCols());for(let i=0;i<r;++i)n.set(e.columnName(i),t[i]);return n}}function Zp(t,e){return t.ungroup().rollup({_:e}).get("_")}Object.assign(nu.prototype,Vp);const Qp=(t,e)=>o(`Illegal ${e} name: ${nt(t)}`),tm=(t,e)=>o(`The ${e} name ${nt(t)} is reserved and can not be overridden.`);function em(t,e,n=dt,r="function"){t||Qp(t,r),!e.override&&_(n,t)&&((t,e)=>{o(`The ${e} ${nt(t)} is already defined. Use override option?`)})(t,r)}function nm(t,e,n,r){return n[t]===e||em(t,r)}function rm(t,e,n,r={}){if(nm(t,e,n,r))return;const[i=0,s=0]=e.param;n[t]=e,dt[t]=(...e)=>rt(t,e.slice(0,i),e.slice(i,i+s))}function im(t,e,n){rm(t,e,Dt,n)}function sm(t,e,n){rm(t,e,Ft,n)}function am(t,e,n={}){1===arguments.length&&(""===(t=(e=t).name)||"anonymous"===t?o("Anonymous function provided, please include a name argument."):t===Yt&&tm(Yt,"function")),nm(t,e,tt,n)||(tt[t]=e,dt[t]=e)}const om=nu.prototype;let cm;function lm(t){for(;t;t=Object.getPrototypeOf(t))Object.getOwnPropertyNames(t).forEach((t=>cm[t]=1))}function um(t,e,n){const r="method";if(om[t]&&om[t].fn===e)return!0;cm||(cm={},lm(om),lm(pf.prototype)),cm[t]&&tm(t,r),"_"===(t+"")[0]&&Qp(t,r),em(t,n,om,r)}function hm(t,e,n={}){um(t,e,n)||(om[t]=function(...t){return e(this,...t)},om[t].fn=e)}function dm(t,e,n,r={}){hm(t,e,r),function(t,e){pf.prototype[t]=function(...t){return gf(this,e(...t))}}(t,hf[t]=uf(t,n))}function fm(t,e={}){const n=t&&t.arquero_package||t,r={functions:[(t,e,n)=>nm(t,e,tt,n),am],aggregateFunctions:[(t,e,n)=>nm(t,e,Dt,n),im],windowFunctions:[(t,e,n)=>nm(t,e,Ft,n),sm],tableMethods:[um,hm],verbs:[(t,e,n)=>um(t,e.method,n),(t,e,n)=>dm(t,e.method,e.params,n)]};function i(t){for(const i in r){const s=r[i],a=n[i];for(const n in a)s[t](n,a[n],e)}}i(0),i(1)}const pm={Table:h,ColumnTable:nu,Transformable:a,Query:pf,Reducer:iu,Verb:lf,Verbs:hf,columnFactory:function(t){return arguments.length?f=t:f},parse:kd,walk_ast:su},mm="5.1.0"},651:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(8081),i=n.n(r),s=n(3645),a=n.n(s)()(i());a.push([t.id,".data-table, .data-summary {\r\n  max-width: 100%;\r\n  background-color: var(--vscode-editor-background);\r\n  border: 1px solid var(--vscode-panel-border);\r\n}\r\n\r\n.data-summary {\r\n  padding: 10px;\r\n}\r\n\r\n.flat-data-grid {\r\n  min-height: 480px;\r\n  border: 1px solid var(--vscode-panel-border);\r\n}\r\n\r\n.github-octo-flat-ui {\r\n  height: 560px !important;\r\n  color: black !important;\r\n}\r\n\r\n.text-output {\r\n  background-color: var(--vscode-editor-background);\r\n  border-width: 0px;\r\n  font-family: var(--vscode-editor-font-family);\r\n  font-size: var(--vscode-editor-font-size);\r\n  margin-top: 0px;\r\n  margin-bottom: 0px;\r\n  max-height: 360px;\r\n  overflow: auto;\r\n  tab-size: 2;\r\n  white-space: pre-wrap;\r\n  padding: 10px;\r\n}\r\n\r\n.text-output code {\r\n  color: var(--vscode-editor-foreground) !important;\r\n}\r\n\r\n.data-summary-card {\r\n  max-width: 100px;\r\n  font-family: sans-serif;\r\n  font-size: 12px;\r\n  margin-right: 10px;\r\n  padding-top: 5px;\r\n}\r\n\r\n/* data table styles */\r\n.data-table form {\r\n  margin: 0px !important;\r\n  max-height: 360px;\r\n  display: block;\r\n  overflow-y: auto;\r\n  width: 100%;\r\n}\r\n\r\n.data-table form table {\r\n  table-layout: fixed !important;\r\n}\r\n\r\ntbody tr:hover {\r\n  box-shadow: inset 0 0 1500px 100px rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.vscode-light tbody tr:hover {\r\n  box-shadow: inset 0 0 1500px 100px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.data-table form table thead th {\r\n  background-color: var(--vscode-editor-background) !important;\r\n  position: sticky;\r\n  top: 0;\r\n}\r\n\r\n/* hide data table row selector column */\r\n.data-table form table thead th:first-child,\r\n.data-table form table tr td:first-child {\r\n  display: none;\r\n}\r\n\r\n/* apply spacing to sort symbol in table header */\r\nthead th span {\r\n  margin-left: 0 !important;\r\n  padding-right: 0.4rem;\r\n}\r\n\r\n/* table column header bottom border */\r\nthead th {\r\n  box-shadow: 0 1px 0 var(--vscode-panel-border) !important;\r\n}\r\n\r\n/* table column header text align and cursor */\r\nth {\r\n  text-align: left !important;\r\n  cursor: pointer !important;\r\n}\r\n\r\n/* data summary table styles */\r\n.data-summary table {\r\n  max-height: 360px;\r\n}\r\n\r\n.data-summary table thead th {\r\n  background-color: var(--vscode-editor-background) !important;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 100;\r\n}\r\n\r\n/* data summary table column header text align */\r\n.data-summary td {\r\n  text-align: left !important;\r\n}\r\n\r\n/* data summary table transparent svg plots background */\r\n.data-summary td svg, .data-summary-card svg {\r\n  background-color: transparent !important;\r\n}\r\n\r\n/* data summary column type svg icon styles */\r\n.data-summary td svg {\r\n  transform: translateY(0px) !important;\r\n}\r\n\r\n/* flat grid row/cell styles */\r\n/* TODO: see issue #138 related to reducing data row height\r\n\r\n.github-octo-flat-ui {\r\n  line-height: 0.8 !important;\r\n}\r\n\r\n.cell {\r\n  height: 24px !important;\r\n}\r\n*/",""]);const o=a},3645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&a[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},8081:t=>{t.exports=function(t){return t[1]}},6932:(t,e,n)=>{const r=n(8501),i=n(8844),s=n(1192);t.exports={XMLParser:i,XMLValidator:r,XMLBuilder:s}},7849:(t,e)=>{const n="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+n+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,n){if(e){const r=Object.keys(e),i=r.length;for(let s=0;s<i;s++)t[r[s]]="strict"===n?[e[r[s]]]:e[r[s]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(t){return!(null==r.exec(t))},e.getAllMatches=function(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[];i.startIndex=e.lastIndex-r[0].length;const s=r.length;for(let t=0;t<s;t++)i.push(r[t]);n.push(i),r=e.exec(t)}return n},e.nameRegexp=n},8501:(t,e,n)=>{const r=n(7849),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function a(t,e){const n=e;for(;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{const r=t.substr(n,e-n);if(e>5&&"xml"===r)return d("InvalidXml","XML declaration allowed only at the start of the document.",p(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function o(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}function c(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if('"'===t[e]||"'"===t[e])""===r?r=t[e]:r!==t[e]||(r="");else if(">"===t[e]&&""===r){i=!0;break}n+=t[e]}return""===r&&{value:n,index:e,tagClosed:i}}e.validate=function(t,e){e=Object.assign({},i,e);const n=[];let l=!1,f=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let i=0;i<t.length;i++)if("<"===t[i]&&"?"===t[i+1]){if(i+=2,i=a(t,i),i.err)return i}else{if("<"!==t[i]){if(s(t[i]))continue;return d("InvalidChar","char '"+t[i]+"' is not expected.",p(t,i))}{let g=i;if(i++,"!"===t[i]){i=o(t,i);continue}{let y=!1;"/"===t[i]&&(y=!0,i++);let b="";for(;i<t.length&&">"!==t[i]&&" "!==t[i]&&"\t"!==t[i]&&"\n"!==t[i]&&"\r"!==t[i];i++)b+=t[i];if(b=b.trim(),"/"===b[b.length-1]&&(b=b.substring(0,b.length-1),i--),m=b,!r.isName(m)){let e;return e=0===b.trim().length?"Invalid space after '<'.":"Tag '"+b+"' is an invalid name.",d("InvalidTag",e,p(t,i))}const v=c(t,i);if(!1===v)return d("InvalidAttr","Attributes for '"+b+"' have open quote.",p(t,i));let _=v.value;if(i=v.index,"/"===_[_.length-1]){const n=i-_.length;_=_.substring(0,_.length-1);const r=u(_,e);if(!0!==r)return d(r.err.code,r.err.msg,p(t,n+r.err.line));l=!0}else if(y){if(!v.tagClosed)return d("InvalidTag","Closing tag '"+b+"' doesn't have proper closing.",p(t,i));if(_.trim().length>0)return d("InvalidTag","Closing tag '"+b+"' can't have attributes or invalid starting.",p(t,g));{const e=n.pop();if(b!==e.tagName){let n=p(t,e.tagStartPos);return d("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+b+"'.",p(t,g))}0==n.length&&(f=!0)}}else{const r=u(_,e);if(!0!==r)return d(r.err.code,r.err.msg,p(t,i-_.length+r.err.line));if(!0===f)return d("InvalidXml","Multiple possible root nodes found.",p(t,i));-1!==e.unpairedTags.indexOf(b)||n.push({tagName:b,tagStartPos:g}),l=!0}for(i++;i<t.length;i++)if("<"===t[i]){if("!"===t[i+1]){i++,i=o(t,i);continue}if("?"!==t[i+1])break;if(i=a(t,++i),i.err)return i}else if("&"===t[i]){const e=h(t,i);if(-1==e)return d("InvalidChar","char '&' is not expected.",p(t,i));i=e}else if(!0===f&&!s(t[i]))return d("InvalidXml","Extra text at the end",p(t,i));"<"===t[i]&&i--}}}var m;return l?1==n.length?d("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",p(t,n[0].tagStartPos)):!(n.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(n.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(t,e){const n=r.getAllMatches(t,l),i={};for(let t=0;t<n.length;t++){if(0===n[t][1].length)return d("InvalidAttr","Attribute '"+n[t][2]+"' has no space in starting.",m(n[t]));if(void 0!==n[t][3]&&void 0===n[t][4])return d("InvalidAttr","Attribute '"+n[t][2]+"' is without value.",m(n[t]));if(void 0===n[t][3]&&!e.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+n[t][2]+"' is not allowed.",m(n[t]));const r=n[t][2];if(!f(r))return d("InvalidAttr","Attribute '"+r+"' is an invalid name.",m(n[t]));if(i.hasOwnProperty(r))return d("InvalidAttr","Attribute '"+r+"' is repeated.",m(n[t]));i[r]=1}return!0}function h(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function d(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function f(t){return r.isName(t)}function p(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function m(t){return t.startIndex+t[1].length}},1192:(t,e,n)=>{const r=n(2592),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],transformTagName:!1};function s(t){this.options=Object.assign({},i,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.processTextOrObjNode=o,this.options.format?(this.indentate=f,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=d,this.buildObjNode=l):(this.buildTextNode=u,this.buildObjNode=c),this.buildTextValNode=u,this.buildObjectNode=c,this.replaceEntitiesValue=h,this.buildAttrPairStr=a}function a(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'}function o(t,e,n){const r=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjNode(r.val,e,r.attrStr,n)}function c(t,e,n,r){let i="</"+e+this.tagEndChar,s="";return"?"===e[0]&&(s="?",i=""),n&&-1===t.indexOf("<")?this.indentate(r)+"<"+e+n+s+">"+t+i:!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===s.length?this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i}function l(t,e,n,r){return""!==t?this.buildObjectNode(t,e,n,r):"?"===e[0]?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function u(t,e,n,r){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),""===i&&-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode?this.indentate(r)+"<"+e+this.tagEndChar:this.indentate(r)+"<"+e+"/"+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}}function h(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t}function d(t,e,n,r){return""===t&&-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode?this.indentate(r)+"<"+e+this.tagEndChar:this.indentate(r)+"<"+e+"/"+this.tagEndChar:""!==t?this.buildTextValNode(t,e,n,r):"?"===e[0]?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+"/"+this.tagEndChar}function f(t){return this.options.indentBy.repeat(t)}function p(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}s.prototype.build=function(t){return this.options.preserveOrder?r(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},s.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(void 0===t[i]);else if(null===t[i])"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextNode(t[i],i,"",e);else if("object"!=typeof t[i]){const s=this.isAttribute(i);if(s)n+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let e=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(e)}else r+=this.buildTextNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const n=t[i].length;for(let s=0;s<n;s++){const n=t[i][s];void 0===n||(null===n?"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:r+="object"==typeof n?this.processTextOrObjNode(n,i,e):this.buildTextNode(n,i,"",e))}}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const e=Object.keys(t[i]),r=e.length;for(let s=0;s<r;s++)n+=this.buildAttrPairStr(e[s],""+t[i][e[s]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}},t.exports=s},2592:t=>{function e(t,a,o,c){let l="",u="";a.format&&a.indentBy.length>0&&(u="\n"+a.indentBy.repeat(c));for(let h=0;h<t.length;h++){const d=t[h],f=n(d);let p="";if(p=0===o.length?f:`${o}.${f}`,f===a.textNodeName){let t=d[f];i(p,a)||(t=a.tagValueProcessor(f,t),t=s(t,a)),l+=u+t;continue}if(f===a.cdataPropName){l+=u+`<![CDATA[${d[f][0][a.textNodeName]}]]>`;continue}if(f===a.commentPropName){l+=u+`\x3c!--${d[f][0][a.textNodeName]}--\x3e`;continue}if("?"===f[0]){const t=r(d[":@"],a),e="?xml"===f?"":u;let n=d[f][0][a.textNodeName];n=0!==n.length?" "+n:"",l+=e+`<${f}${n}${t}?>`;continue}let m=u+`<${f}${r(d[":@"],a)}`,g=e(d[f],a,p,c+1);-1!==a.unpairedTags.indexOf(f)?a.suppressUnpairedNode?l+=m+">":l+=m+"/>":g&&0!==g.length||!a.suppressEmptyNode?l+=m+`>${g}${u}</${f}>`:l+=m+"/>"}return l}function n(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function r(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){let i=e.attributeValueProcessor(r,t[r]);i=s(i,e),!0===i&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function i(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function s(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}t.exports=function(t,n){return e(t,n,"",0)}},4780:t=>{const e=RegExp("^\\s([a-zA-z0-0]+)[ \t](['\"])([^&]+)\\2");function n(t,n){const r=e.exec(t);r&&(n[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}t.exports=function(t,e){const r={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let i=1,s=!1,a=!1,o=!1,c="";for(;e<t.length;e++)if("<"===t[e]){if(s&&"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7])e+=7,a=!0;else if(s&&"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8])e+=8;else if(s&&"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8])e+=8;else if(s&&"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9])e+=9;else{if("!"!==t[e+1]||"-"!==t[e+2]||"-"!==t[e+3])throw new Error("Invalid DOCTYPE");o=!0}i++,c=""}else if(">"===t[e]){if(o){if("-"!==t[e-1]||"-"!==t[e-2])throw new Error("Invalid XML comment in DOCTYPE");o=!1}else a&&(n(c,r),a=!1);if(i--,0===i)break}else"["===t[e]?s=!0:c+=t[e];if(0!==i)throw new Error("Unclosed DOCTYPE")}return{entities:r,i:e}}},6745:(t,e)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1};e.buildOptions=function(t){return Object.assign({},n,t)},e.defaultOptions=n},1078:(t,e,n)=>{const r=n(7849),i=n(6311),s=n(4780),a=n(4153);function o(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function c(t,e,n,r,i,s,a){if(void 0!==t&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){a||(t=this.replaceEntitiesValue(t));const r=this.options.tagValueProcessor(e,t,n,i,s);return null==r?t:typeof r!=typeof t||r!==t?r:this.options.trimValues||t.trim()===t?v(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function l(t){if(this.options.removeNSPrefix){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(t,e){if(!this.options.ignoreAttributes&&"string"==typeof t){const n=r.getAllMatches(t,u),i=n.length,s={};for(let t=0;t<i;t++){const r=this.resolveNameSpace(n[t][1]);let i=n[t][4];const a=this.options.attributeNamePrefix+r;if(r.length)if(void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);const t=this.options.attributeValueProcessor(r,i,e);s[a]=null==t?i:typeof t!=typeof i||t!==i?t:v(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[a]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=s,t}return s}}const d=function(t){t=t.replace(/\r\n?/g,"\n");const e=new i("!xml");let n=e,r="",a="";for(let o=0;o<t.length;o++)if("<"===t[o])if("/"===t[o+1]){const e=g(t,">",o,"Closing Tag is not closed.");let i=t.substring(o+2,e).trim();if(this.options.removeNSPrefix){const t=i.indexOf(":");-1!==t&&(i=i.substr(t+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),n&&(r=this.saveTextToParentTag(r,n,a)),a=a.substr(0,a.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",o=e}else if("?"===t[o+1]){let e=y(t,o,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,a),this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags);else{const t=new i(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,a)),n.addChild(t)}o=e.closeIndex+1}else if("!--"===t.substr(o+1,3)){const e=g(t,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){const i=t.substring(o+4,e-2);r=this.saveTextToParentTag(r,n,a),n.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}o=e}else if("!D"===t.substr(o+1,2)){const e=s(t,o);this.docTypeEntities=e.entities,o=e.i}else if("!["===t.substr(o+1,2)){const e=g(t,"]]>",o,"CDATA is not closed.")-2,i=t.substring(o+9,e);if(r=this.saveTextToParentTag(r,n,a),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]);else{let t=this.parseTextData(i,n.tagname,a,!0,!1,!0);null==t&&(t=""),n.add(this.options.textNodeName,t)}o=e+2}else{let s=y(t,o,this.options.removeNSPrefix),c=s.tagName,l=s.tagExp,u=s.attrExpPresent,h=s.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,a,!1)),c!==e.tagname&&(a+=a?"."+c:c);const d=n;if(d&&-1!==this.options.unpairedTags.indexOf(d.tagname)&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,a,c)){let e="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)o=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))o=s.closeIndex;else{const n=this.readStopNodeData(t,c,h+1);if(!n)throw new Error(`Unexpected end of ${c}`);o=n.i,e=n.tagContent}const r=new i(c);c!==l&&u&&(r[":@"]=this.buildAttributesMap(l,a)),e&&(e=this.parseTextData(e,c,a,!0,u,!0,!0)),a=a.substr(0,a.lastIndexOf(".")),r.add(this.options.textNodeName,e),n.addChild(r)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const t=new i(c);c!==l&&u&&(t[":@"]=this.buildAttributesMap(l,a)),a=a.substr(0,a.lastIndexOf(".")),n.addChild(t)}else{const t=new i(c);this.tagsNodeStack.push(n),c!==l&&u&&(t[":@"]=this.buildAttributesMap(l,a)),n.addChild(t),n=t}r="",o=h}}else r+=t[o];return e.child},f=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}}return t};function p(t,e,n,r){return t&&(void 0===r&&(r=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,r))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function m(t,e,n){const r="*."+n;for(const n in t){const i=t[n];if(r===i||e===i)return!0}return!1}function g(t,e,n,r){const i=t.indexOf(e,n);if(-1===i)throw new Error(r);return i+e.length-1}function y(t,e,n,r=">"){const i=function(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let e=t[s];if(r)e===r&&(r="");else if('"'===e||"'"===e)r=e;else if(e===n[0]){if(!n[1])return{data:i,index:s};if(t[s+1]===n[1])return{data:i,index:s}}else"\t"===e&&(e=" ");i+=e}}(t,e+1,r);if(!i)return;let s=i.data;const a=i.index,o=s.search(/\s/);let c=s,l=!0;if(-1!==o&&(c=s.substr(0,o).replace(/\s\s*$/,""),s=s.substr(o+1)),n){const t=c.indexOf(":");-1!==t&&(c=c.substr(t+1),l=c!==i.data.substr(t+1))}return{tagName:c,tagExp:s,closeIndex:a,attrExpPresent:l}}function b(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){const s=g(t,">",n,`${e} is not closed`);if(t.substring(n+2,s).trim()===e&&(i--,0===i))return{tagContent:t.substring(r,n),i:s};n=s}else if("?"===t[n+1])n=g(t,"?>",n+1,"StopNode is not closed.");else if("!--"===t.substr(n+1,3))n=g(t,"--\x3e",n+3,"StopNode is not closed.");else if("!["===t.substr(n+1,2))n=g(t,"]]>",n,"StopNode is not closed.")-2;else{const r=y(t,n,">");r&&((r&&r.tagName)===e&&"/"!==r.tagExp[r.tagExp.length-1]&&i++,n=r.closeIndex)}}function v(t,e,n){if(e&&"string"==typeof t){const e=t.trim();return"true"===e||"false"!==e&&a(t,n)}return r.isExist(t)?t:""}t.exports=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=o,this.parseXml=d,this.parseTextData=c,this.resolveNameSpace=l,this.buildAttributesMap=h,this.isItStopNode=m,this.replaceEntitiesValue=f,this.readStopNodeData=b,this.saveTextToParentTag=p}}},8844:(t,e,n)=>{const{buildOptions:r}=n(6745),i=n(1078),{prettify:s}=n(6997),a=n(8501);t.exports=class{constructor(t){this.externalEntities={},this.options=r(t)}parse(t,e){if("string"==typeof t);else{if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});const n=a.validate(t,e);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new i(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(t);return this.options.preserveOrder||void 0===r?r:s(r,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[t]=e}}},6997:(t,e)=>{function n(t,e,a){let o;const c={};for(let l=0;l<t.length;l++){const u=t[l],h=r(u);let d="";if(d=void 0===a?h:a+"."+h,h===e.textNodeName)void 0===o?o=u[h]:o+=""+u[h];else{if(void 0===h)continue;if(u[h]){let t=n(u[h],e,d);const r=s(t,e);u[":@"]?i(t,u[":@"],d,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==c[h]&&c.hasOwnProperty(h)?(Array.isArray(c[h])||(c[h]=[c[h]]),c[h].push(t)):e.isArray(h,d,r)?c[h]=[t]:c[h]=t}}}return"string"==typeof o?o.length>0&&(c[e.textNodeName]=o):void 0!==o&&(c[e.textNodeName]=o),c}function r(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function i(t,e,n,r){if(e){const i=Object.keys(e),s=i.length;for(let a=0;a<s;a++){const s=i[a];r.isArray(s,n+"."+s,!0,!0)?t[s]=[e[s]]:t[s]=e[s]}}}function s(t,e){const n=Object.keys(t).length;return!!(0===n||1===n&&t[e.textNodeName])}e.prettify=function(t,e){return n(t,e)}},6311:t=>{t.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){this.child.push({[t]:e})}addChild(t){t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},4153:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(t,i={}){if(i=Object.assign({},r,i),!t||"string"!=typeof t)return t;let s=t.trim();if(void 0!==i.skipLike&&i.skipLike.test(s))return t;if(i.hex&&e.test(s))return Number.parseInt(s,16);{const e=n.exec(s);if(e){const n=e[1],r=e[2];let o=(a=e[3])&&-1!==a.indexOf(".")?("."===(a=a.replace(/0+$/,""))?a="0":"."===a[0]?a="0"+a:"."===a[a.length-1]&&(a=a.substr(0,a.length-1)),a):a;const c=e[4]||e[6];if(!i.leadingZeros&&r.length>0&&n&&"."!==s[2])return t;if(!i.leadingZeros&&r.length>0&&!n&&"."!==s[1])return t;{const e=Number(s),a=""+e;return-1!==a.search(/[eE]/)||c?i.eNotation?e:t:-1!==s.indexOf(".")?"0"===a&&""===o||a===o||n&&a==="-"+o?e:t:r?o===a||n+o===a?e:t:s===a||s===n+a?e:t}}return t}var a}},3379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},a=[],o=0;o<t.length;o++){var c=t[o],l=r.base?c[0]+r.base:c[0],u=s[l]||0,h="".concat(l," ").concat(u);s[l]=u+1;var d=n(h),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var p=i(f,r);r.byIndex=o,e.splice(o,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var s=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var o=n(s[a]);e[o].references--}for(var c=r(t,i),l=0;l<s.length;l++){var u=n(s[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}s=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},6646:(t,e,n)=>{n.r(e),n.d(e,{summaryCard:()=>Em,summaryTable:()=>Nm});const r=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function i(t,e){return r.test(t+="")?new Date(t):"function"==typeof e?e(t):e}function s(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a(t){return 0|t.length}function o(t){return!(t>0)}function c(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function l(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:i=>n+=+e(i,r++,t)||0)}function u(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h(t,e){let n,r=0,i=0,s=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,s+=n*(e-i));else{let a=-1;for(let o of t)null!=(o=e(o,++a,t))&&(o=+o)>=o&&(n=o-i,i+=n/++r,s+=n*(o-i))}if(r>1)return s/(r-1)}function d(t,e){const n=h(t,e);return n?Math.sqrt(n):n}function f(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let s of t)null!=(s=e(s,++i,t))&&(void 0===n?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class p extends Map{constructor(t,e=v){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(g(this,t))}has(t){return super.has(g(this,t))}set(t,e){return super.set(y(this,t),e)}delete(t){return super.delete(b(this,t))}}class m extends Set{constructor(t,e=v){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(g(this,t))}add(t){return super.add(y(this,t))}delete(t){return super.delete(b(this,t))}}function g({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function y({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function b({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function v(t){return null!==t&&"object"==typeof t?t.valueOf():t}function _(t){return t}function w(t,...e){return A(t,_,_,e)}function x(t,...e){return A(t,Array.from,_,e)}function S(t,e,...n){return A(t,_,e,n)}function A(t,e,n,r){return function t(i,s){if(s>=r.length)return n(i);const a=new p,o=r[s++];let c=-1;for(const t of i){const e=o(t,++c,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,s));return e(a)}(t,0)}function I(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const s=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),s.sort(((t,n)=>{for(const r of e){const e=M(r[t],r[n]);if(e)return e}}))):(n=t.map(n),s.sort(((t,e)=>M(n[t],n[e])))),r=t,i=s,Array.from(i,(t=>r[t]))}var r,i;return t.sort(T(n))}function T(t=s){if(t===s)return M;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function M(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function k(t,e,n){return(2!==e.length?I(S(t,e,n),(([t,e],[n,r])=>s(e,r)||s(t,n))):I(w(t,n),(([t,n],[r,i])=>e(n,i)||s(t,r)))).map((([t])=>t))}var C=Array.prototype,N=C.slice;function E(t){let e,n,r;function i(t,r,i=0,s=t.length){if(i<s){if(0!==e(r,r))return s;do{const e=i+s>>>1;n(t[e],r)<0?i=e+1:s=e}while(i<s)}return i}return 2!==t.length?(e=s,n=(e,n)=>s(t(e),n),r=(e,n)=>t(e)-n):(e=t===s||t===u?t:O,n=t,r=t),{left:i,center:function(t,e,n=0,s=t.length){const a=i(t,e,n,s-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,s=t.length){if(i<s){if(0!==e(r,r))return s;do{const e=i+s>>>1;n(t[e],r)<=0?i=e+1:s=e}while(i<s)}return i}}}function O(){return 0}function D(t){return null===t?NaN:+t}C.map;const B=E(s),L=B.right,F=(B.left,E(D).center,L);function P(t){return()=>t}var U=Math.sqrt(50),V=Math.sqrt(10),$=Math.sqrt(2);function R(t,e,n){var r,i,s,a,o=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=j(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,s=new Array(i=r-n+1);++o<i;)s[o]=(n+o)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,s=new Array(i=r-n+1);++o<i;)s[o]=(n+o)/a}return r&&s.reverse(),s}function j(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=U?10:s>=V?5:s>=$?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=U?10:s>=V?5:s>=$?2:1)}function z(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=U?i*=10:s>=V?i*=5:s>=$&&(i*=2),e<t?-i:i}function H(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function W(t){return Math.ceil(Math.log(H(t))/Math.LN2)+1}function q(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Y(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function G(t,e,n=0,r=t.length-1,i){for(i=void 0===i?M:T(i);r>n;){if(r-n>600){const s=r-n+1,a=e-n+1,o=Math.log(s),c=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*c*(s-c)/s)*(a-s/2<0?-1:1);G(t,e,Math.max(n,Math.floor(e-a*c/s+l)),Math.min(r,Math.floor(e+(s-a)*c/s+l)),i)}const s=t[e];let a=n,o=r;for(K(t,n,e),i(t[r],s)>0&&K(t,n,r);a<o;){for(K(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}0===i(t[n],s)?K(t,n,o):(++o,K(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function K(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function X(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),r=t.length){if((e=+e)<=0||r<2)return Y(t);if(e>=1)return q(t);var r,i=(r-1)*e,s=Math.floor(i),a=q(G(t,s).subarray(0,s+1));return a+(Y(t.subarray(s+1))-a)*(i-s)}}function J(t,e,n=D){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t);return a+(+n(t[s+1],s+1,t)-a)*(i-s)}}function Z(t,e,n){return Math.ceil((n-e)/(2*(X(t,.75)-X(t,.25))*Math.pow(H(t),-1/3)))}function Q(t,e,n){return Math.ceil((n-e)*Math.cbrt(H(t))/(3.49*d(t)))}function tt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let s of t)null!=(s=e(s,++i,t))&&(n<s||void 0===n&&s>=s)&&(n=s,r=i);return r}function et(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let s of t)null!=(s=e(s,++i,t))&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function nt(t,e){return X(t,.5,e)}function rt(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let s of t)null!=(s=e(s,++i,t))&&(n>s||void 0===n&&s>=s)&&(n=s,r=i);return r}function it(t,e){const n=new p;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[t,e]of n)e>i&&(i=e,r=t);return r}function st(t,e){return[t,e]}function at(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ot(t,e=s){let n,r=!1;if(1===e.length){let i;for(const a of t){const t=e(a);(r?s(t,i)>0:0===s(t,t))&&(n=a,i=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function ct(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function lt(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function ut(t,...e){t=new m(t);for(const n of e)for(const e of n)t.delete(e);return t}function ht(t){return t}var dt=1e-6;function ft(t){return"translate("+t+",0)"}function pt(t){return"translate(0,"+t+")"}function mt(t){return e=>+t(e)}function gt(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function yt(){return!this.__axis}function bt(t,e){var n=[],r=null,i=null,s=6,a=6,o=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=1===t||4===t?-1:1,u=4===t||2===t?"x":"y",h=1===t||3===t?ft:pt;function d(d){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):ht:i,m=Math.max(s,0)+o,g=e.range(),y=+g[0]+c,b=+g[g.length-1]+c,v=(e.bandwidth?gt:mt)(e.copy(),c),_=d.selection?d.selection():d,w=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(f,e).order(),S=x.exit(),A=x.enter().append("g").attr("class","tick"),I=x.select("line"),T=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(A),I=I.merge(A.append("line").attr("stroke","currentColor").attr(u+"2",l*s)),T=T.merge(A.append("text").attr("fill","currentColor").attr(u,l*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==_&&(w=w.transition(d),x=x.transition(d),I=I.transition(d),T=T.transition(d),S=S.transition(d).attr("opacity",dt).attr("transform",(function(t){return isFinite(t=v(t))?h(t+c):this.getAttribute("transform")})),A.attr("opacity",dt).attr("transform",(function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:v(t))+c)}))),S.remove(),w.attr("d",4===t||2===t?a?"M"+l*a+","+y+"H"+c+"V"+b+"H"+l*a:"M"+c+","+y+"V"+b:a?"M"+y+","+l*a+"V"+c+"H"+b+"V"+l*a:"M"+y+","+c+"H"+b),x.attr("opacity",1).attr("transform",(function(t){return h(v(t)+c)})),I.attr(u+"2",l*s),T.attr(u,l*m).text(p),_.filter(yt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each((function(){this.__axis=v}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(s=a=+t,d):s},d.tickSizeInner=function(t){return arguments.length?(s=+t,d):s},d.tickSizeOuter=function(t){return arguments.length?(a=+t,d):a},d.tickPadding=function(t){return arguments.length?(o=+t,d):o},d.offset=function(t){return arguments.length?(c=+t,d):c},d}function vt(t){return bt(1,t)}function _t(t){return bt(2,t)}function wt(t){return bt(3,t)}function xt(t){return bt(4,t)}function St(){}function At(t){return null==t?St:function(){return this.querySelector(t)}}function It(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Tt(){return[]}function Mt(t){return null==t?Tt:function(){return this.querySelectorAll(t)}}function kt(t){return function(){return this.matches(t)}}function Ct(t){return function(e){return e.matches(t)}}var Nt=Array.prototype.find;function Et(){return this.firstElementChild}var Ot=Array.prototype.filter;function Dt(){return Array.from(this.children)}function Bt(t){return new Array(t.length)}function Lt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ft(t){return function(){return t}}function Pt(t,e,n,r,i,s){for(var a,o=0,c=e.length,l=s.length;o<l;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Lt(t,s[o]);for(;o<c;++o)(a=e[o])&&(i[o]=a)}function Ut(t,e,n,r,i,s,a){var o,c,l,u=new Map,h=e.length,d=s.length,f=new Array(h);for(o=0;o<h;++o)(c=e[o])&&(f[o]=l=a.call(c,c.__data__,o,e)+"",u.has(l)?i[o]=c:u.set(l,c));for(o=0;o<d;++o)l=a.call(t,s[o],o,s)+"",(c=u.get(l))?(r[o]=c,c.__data__=s[o],u.delete(l)):n[o]=new Lt(t,s[o]);for(o=0;o<h;++o)(c=e[o])&&u.get(f[o])===c&&(i[o]=c)}function Vt(t){return t.__data__}function $t(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Rt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Lt.prototype={constructor:Lt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var jt="http://www.w3.org/1999/xhtml";const zt={svg:"http://www.w3.org/2000/svg",xhtml:jt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ht(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),zt.hasOwnProperty(e)?{space:zt[e],local:t}:t}function Wt(t){return function(){this.removeAttribute(t)}}function qt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yt(t,e){return function(){this.setAttribute(t,e)}}function Gt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Xt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Jt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zt(t){return function(){this.style.removeProperty(t)}}function Qt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function te(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ee(t,e){return t.style.getPropertyValue(e)||Jt(t).getComputedStyle(t,null).getPropertyValue(e)}function ne(t){return function(){delete this[t]}}function re(t,e){return function(){this[t]=e}}function ie(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function se(t){return t.trim().split(/^|\s+/)}function ae(t){return t.classList||new oe(t)}function oe(t){this._node=t,this._names=se(t.getAttribute("class")||"")}function ce(t,e){for(var n=ae(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function le(t,e){for(var n=ae(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ue(t){return function(){ce(this,t)}}function he(t){return function(){le(this,t)}}function de(t,e){return function(){(e.apply(this,arguments)?ce:le)(this,t)}}function fe(){this.textContent=""}function pe(t){return function(){this.textContent=t}}function me(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ge(){this.innerHTML=""}function ye(t){return function(){this.innerHTML=t}}function be(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ve(){this.nextSibling&&this.parentNode.appendChild(this)}function _e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function we(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===jt&&e.documentElement.namespaceURI===jt?e.createElement(t):e.createElementNS(n,t)}}function xe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Se(t){var e=Ht(t);return(e.local?xe:we)(e)}function Ae(){return null}function Ie(){var t=this.parentNode;t&&t.removeChild(this)}function Te(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Me(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ke(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ce(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ne(t,e,n){return function(){var r,i=this.__on,s=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,o=i.length;a<o;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),void(r.value=e);this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function Ee(t,e,n){var r=Jt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Oe(t,e){return function(){return Ee(this,t,e)}}function De(t,e){return function(){return Ee(this,t,e.apply(this,arguments))}}oe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Be=[null];function Le(t,e){this._groups=t,this._parents=e}function Fe(){return new Le([[document.documentElement]],Be)}Le.prototype=Fe.prototype={constructor:Le,select:function(t){"function"!=typeof t&&(t=At(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,a,o=e[i],c=o.length,l=r[i]=new Array(c),u=0;u<c;++u)(s=o[u])&&(a=t.call(s,s.__data__,u,o))&&("__data__"in s&&(a.__data__=s.__data__),l[u]=a);return new Le(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return It(t.apply(this,arguments))}}(t):Mt(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a,o=e[s],c=o.length,l=0;l<c;++l)(a=o[l])&&(r.push(t.call(a,a.__data__,l,o)),i.push(a));return new Le(r,i)},selectChild:function(t){return this.select(null==t?Et:function(t){return function(){return Nt.call(this.children,t)}}("function"==typeof t?t:Ct(t)))},selectChildren:function(t){return this.selectAll(null==t?Dt:function(t){return function(){return Ot.call(this.children,t)}}("function"==typeof t?t:Ct(t)))},filter:function(t){"function"!=typeof t&&(t=kt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,a=e[i],o=a.length,c=r[i]=[],l=0;l<o;++l)(s=a[l])&&t.call(s,s.__data__,l,a)&&c.push(s);return new Le(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Vt);var n=e?Ut:Pt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Ft(t));for(var s=i.length,a=new Array(s),o=new Array(s),c=new Array(s),l=0;l<s;++l){var u=r[l],h=i[l],d=h.length,f=$t(t.call(u,u&&u.__data__,l,r)),p=f.length,m=o[l]=new Array(p),g=a[l]=new Array(p),y=c[l]=new Array(d);n(u,h,m,g,y,f,e);for(var b,v,_=0,w=0;_<p;++_)if(b=m[_]){for(_>=w&&(w=_+1);!(v=g[w])&&++w<p;);b._next=v||null}}return(a=new Le(a,r))._enter=o,a._exit=c,a},enter:function(){return new Le(this._enter||this._groups.map(Bt),this._parents)},exit:function(){return new Le(this._exit||this._groups.map(Bt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),c=0;c<a;++c)for(var l,u=n[c],h=r[c],d=u.length,f=o[c]=new Array(d),p=0;p<d;++p)(l=u[p]||h[p])&&(f[p]=l);for(;c<i;++c)o[c]=n[c];return new Le(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,a=i[s];--s>=0;)(r=i[s])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Rt);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a,o=n[s],c=o.length,l=i[s]=new Array(c),u=0;u<c;++u)(a=o[u])&&(l[u]=a);l.sort(e)}return new Le(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],a=0,o=s.length;a<o;++a)(i=s[a])&&t.call(i,i.__data__,a,s);return this},attr:function(t,e){var n=Ht(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?qt:Wt:"function"==typeof e?n.local?Xt:Kt:n.local?Gt:Yt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Zt:"function"==typeof e?te:Qt)(t,e,null==n?"":n)):ee(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ne:"function"==typeof e?ie:re)(t,e)):this.node()[t]},classed:function(t,e){var n=se(t+"");if(arguments.length<2){for(var r=ae(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?de:e?ue:he)(n,e))},text:function(t){return arguments.length?this.each(null==t?fe:("function"==typeof t?me:pe)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ge:("function"==typeof t?be:ye)(t)):this.node().innerHTML},raise:function(){return this.each(ve)},lower:function(){return this.each(_e)},append:function(t){var e="function"==typeof t?t:Se(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Se(t),r=null==e?Ae:"function"==typeof e?e:At(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ie)},clone:function(t){return this.select(t?Me:Te)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=ke(t+""),a=s.length;if(!(arguments.length<2)){for(o=e?Ne:Ce,r=0;r<a;++r)this.each(o(s[r],e,n));return this}var o=this.node().__on;if(o)for(var c,l=0,u=o.length;l<u;++l)for(r=0,c=o[l];r<a;++r)if((i=s[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?De:Oe)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],s=0,a=i.length;s<a;++s)(r=i[s])&&(yield r)}};const Pe=Fe;var Ue={value:()=>{}};function Ve(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new $e(r)}function $e(t){this._=t}function Re(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function je(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ze(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ue,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}$e.prototype=Ve.prototype={constructor:$e,on:function(t,e){var n,r=this._,i=Re(t+"",r),s=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=i[s]).type)r[n]=ze(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ze(r[n],t.name,null);return this}for(;++s<a;)if((n=(t=i[s]).type)&&(n=je(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $e(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};const He=Ve;var We,qe,Ye=0,Ge=0,Ke=0,Xe=0,Je=0,Ze=0,Qe="object"==typeof performance&&performance.now?performance:Date,tn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function en(){return Je||(tn(nn),Je=Qe.now()+Ze)}function nn(){Je=0}function rn(){this._call=this._time=this._next=null}function sn(t,e,n){var r=new rn;return r.restart(t,e,n),r}function an(){Je=(Xe=Qe.now())+Ze,Ye=Ge=0;try{!function(){en(),++Ye;for(var t,e=We;e;)(t=Je-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ye}()}finally{Ye=0,function(){for(var t,e,n=We,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:We=e);qe=t,cn(r)}(),Je=0}}function on(){var t=Qe.now(),e=t-Xe;e>1e3&&(Ze-=e,Xe=t)}function cn(t){Ye||(Ge&&(Ge=clearTimeout(Ge)),t-Je>24?(t<1/0&&(Ge=setTimeout(an,t-Qe.now()-Ze)),Ke&&(Ke=clearInterval(Ke))):(Ke||(Xe=Qe.now(),Ke=setInterval(on,1e3)),Ye=1,tn(an)))}function ln(t,e,n){var r=new rn;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}rn.prototype=sn.prototype={constructor:rn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?en():+n)+(null==e?0:+e),this._next||qe===this||(qe?qe._next=this:We=this,qe=this),this._call=t,this._time=n,cn()},stop:function(){this._call&&(this._call=null,this._time=1/0,cn())}};var un=He("start","end","cancel","interrupt"),hn=[];function dn(t,e,n,r,i,s){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(c){var l,u,h,d;if(1!==n.state)return o();for(l in i)if((d=i[l]).name===n.name){if(3===d.state)return ln(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[l]):+l<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[l])}if(ln((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=5,1),s=-1,a=r.length;++s<a;)r[s].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=sn((function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:un,tween:hn,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function fn(t,e){var n=mn(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function pn(t,e){var n=mn(t,e);if(n.state>3)throw new Error("too late; already running");return n}function mn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var yn,bn=180/Math.PI,vn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _n(t,e,n,r,i,s){var a,o,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,c/=o),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*bn,skewX:Math.atan(c)*bn,scaleX:a,scaleY:o}}function wn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,a){var o=[],c=[];return s=t(s),a=t(a),function(t,r,i,s,a,o){if(t!==i||r!==s){var c=a.push("translate(",null,e,null,n);o.push({i:c-4,x:gn(t,i)},{i:c-2,x:gn(r,s)})}else(i||s)&&a.push("translate("+i+e+s+n)}(s.translateX,s.translateY,a.translateX,a.translateY,o,c),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:gn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(s.rotate,a.rotate,o,c),function(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:gn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(s.skewX,a.skewX,o,c),function(t,e,n,r,s,a){if(t!==n||e!==r){var o=s.push(i(s)+"scale(",null,",",null,")");a.push({i:o-4,x:gn(t,n)},{i:o-2,x:gn(e,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,a.scaleX,a.scaleY,o,c),s=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)o[(e=c[n]).i]=e.x(t);return o.join("")}}}var xn=wn((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?vn:_n(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Sn=wn((function(t){return null==t?vn:(yn||(yn=document.createElementNS("http://www.w3.org/2000/svg","g")),yn.setAttribute("transform",t),(t=yn.transform.baseVal.consolidate())?_n((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):vn)}),", ",")",")");function An(t,e){var n,r;return function(){var i=pn(this,t),s=i.tween;if(s!==n)for(var a=0,o=(r=n=s).length;a<o;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function In(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=pn(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=o;break}c===l&&i.push(o)}s.tween=i}}function Tn(t,e,n){var r=t._id;return t.each((function(){var t=pn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return mn(t,r).value[e]}}function Mn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Cn(){}var Nn=.7,En=1/Nn,On="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ln=/^#([0-9a-f]{3,8})$/,Fn=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),Pn=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),Un=new RegExp(`^rgba\\(${On},${On},${On},${Dn}\\)$`),Vn=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Dn}\\)$`),$n=new RegExp(`^hsl\\(${Dn},${Bn},${Bn}\\)$`),Rn=new RegExp(`^hsla\\(${Dn},${Bn},${Bn},${Dn}\\)$`),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zn(){return this.rgb().formatHex()}function Hn(){return this.rgb().formatRgb()}function Wn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ln.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?qn(e):3===n?new Xn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Yn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Yn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Fn.exec(t))?new Xn(e[1],e[2],e[3],1):(e=Pn.exec(t))?new Xn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Un.exec(t))?Yn(e[1],e[2],e[3],e[4]):(e=Vn.exec(t))?Yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$n.exec(t))?nr(e[1],e[2]/100,e[3]/100,1):(e=Rn.exec(t))?nr(e[1],e[2]/100,e[3]/100,e[4]):jn.hasOwnProperty(t)?qn(jn[t]):"transparent"===t?new Xn(NaN,NaN,NaN,0):null}function qn(t){return new Xn(t>>16&255,t>>8&255,255&t,1)}function Yn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function Gn(t){return t instanceof Cn||(t=Wn(t)),t?new Xn((t=t.rgb()).r,t.g,t.b,t.opacity):new Xn}function Kn(t,e,n,r){return 1===arguments.length?Gn(t):new Xn(t,e,n,null==r?1:r)}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Jn(){return`#${er(this.r)}${er(this.g)}${er(this.b)}`}function Zn(){const t=Qn(this.opacity);return`${1===t?"rgb(":"rgba("}${tr(this.r)}, ${tr(this.g)}, ${tr(this.b)}${1===t?")":`, ${t})`}`}function Qn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function er(t){return((t=tr(t))<16?"0":"")+t.toString(16)}function nr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sr(t,e,n,r)}function rr(t){if(t instanceof sr)return new sr(t.h,t.s,t.l,t.opacity);if(t instanceof Cn||(t=Wn(t)),!t)return new sr;if(t instanceof sr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,c=(s+i)/2;return o?(a=e===s?(n-r)/o+6*(n<r):n===s?(r-e)/o+2:(e-n)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new sr(a,o,c,t.opacity)}function ir(t,e,n,r){return 1===arguments.length?rr(t):new sr(t,e,n,null==r?1:r)}function sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ar(t){return(t=(t||0)%360)<0?t+360:t}function or(t){return Math.max(0,Math.min(1,t||0))}function cr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function lr(t,e,n,r,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*n+(1+3*t+3*s-3*a)*r+a*i)/6}Mn(Cn,Wn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return rr(this).formatHsl()},formatRgb:Hn,toString:Hn}),Mn(Xn,Kn,kn(Cn,{brighter(t){return t=null==t?En:Math.pow(En,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Nn:Math.pow(Nn,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(tr(this.r),tr(this.g),tr(this.b),Qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jn,formatHex:Jn,formatHex8:function(){return`#${er(this.r)}${er(this.g)}${er(this.b)}${er(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Zn,toString:Zn})),Mn(sr,ir,kn(Cn,{brighter(t){return t=null==t?En:Math.pow(En,t),new sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Nn:Math.pow(Nn,t),new sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xn(cr(t>=240?t-240:t+120,i,r),cr(t,i,r),cr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sr(ar(this.h),or(this.s),or(this.l),Qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qn(this.opacity);return`${1===t?"hsl(":"hsla("}${ar(this.h)}, ${100*or(this.s)}%, ${100*or(this.l)}%${1===t?")":`, ${t})`}`}}));const ur=t=>()=>t;function hr(t,e){return function(n){return t+n*e}}function dr(t,e){var n=e-t;return n?hr(t,n>180||n<-180?n-360*Math.round(n/360):n):ur(isNaN(t)?e:t)}function fr(t,e){var n=e-t;return n?hr(t,n):ur(isNaN(t)?e:t)}const pr=function t(e){var n=function(t){return 1==(t=+t)?fr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ur(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Kn(t)).r,(e=Kn(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),a=fr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function mr(t){return function(e){var n,r,i=e.length,s=new Array(i),a=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=Kn(e[n]),s[n]=r.r||0,a[n]=r.g||0,o[n]=r.b||0;return s=t(s),a=t(a),o=t(o),r.opacity=1,function(t){return r.r=s(t),r.g=a(t),r.b=o(t),r+""}}}var gr=mr((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],a=r>0?t[r-1]:2*i-s,o=r<e-1?t[r+2]:2*s-i;return lr((n-r/e)*e,a,i,s,o)}})),yr=(mr((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],s=t[r%e],a=t[(r+1)%e],o=t[(r+2)%e];return lr((n-r/e)*e,i,s,a,o)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),br=new RegExp(yr.source,"g");function vr(t,e){var n,r,i,s=yr.lastIndex=br.lastIndex=0,a=-1,o=[],c=[];for(t+="",e+="";(n=yr.exec(t))&&(r=br.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,c.push({i:a,x:gn(n,r)})),s=br.lastIndex;return s<e.length&&(i=e.slice(s),o[a]?o[a]+=i:o[++a]=i),o.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)o[(n=c[r]).i]=n.x(t);return o.join("")})}function _r(t,e){var n;return("number"==typeof e?gn:e instanceof Wn?pr:(n=Wn(e))?(e=n,pr):vr)(t,e)}function wr(t){return function(){this.removeAttribute(t)}}function xr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sr(t,e,n){var r,i,s=n+"";return function(){var a=this.getAttribute(t);return a===s?null:a===r?i:i=e(r=a,n)}}function Ar(t,e,n){var r,i,s=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===s?null:a===r?i:i=e(r=a,n)}}function Ir(t,e,n){var r,i,s;return function(){var a,o,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(o=c+"")?null:a===r&&o===i?s:(i=o,s=e(r=a,c));this.removeAttribute(t)}}function Tr(t,e,n){var r,i,s;return function(){var a,o,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(o=c+"")?null:a===r&&o===i?s:(i=o,s=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Mr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function kr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Cr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&kr(t,i)),n}return i._value=e,i}function Nr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Mr(t,i)),n}return i._value=e,i}function Er(t,e){return function(){fn(this,t).delay=+e.apply(this,arguments)}}function Or(t,e){return e=+e,function(){fn(this,t).delay=e}}function Dr(t,e){return function(){pn(this,t).duration=+e.apply(this,arguments)}}function Br(t,e){return e=+e,function(){pn(this,t).duration=e}}function Lr(t,e){if("function"!=typeof e)throw new Error;return function(){pn(this,t).ease=e}}function Fr(t,e,n){var r,i,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?fn:pn;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}var Pr=Pe.prototype.constructor;function Ur(t){return function(){this.style.removeProperty(t)}}function Vr(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function $r(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Vr(t,s,n)),r}return s._value=e,s}function Rr(t){return function(e){this.textContent=t.call(this,e)}}function jr(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Rr(r)),e}return r._value=t,r}var zr=0;function Hr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Wr(){return++zr}var qr=Pe.prototype;Hr.prototype=function(t){return Pe().transition(t)}.prototype={constructor:Hr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=At(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o,c,l=r[a],u=l.length,h=s[a]=new Array(u),d=0;d<u;++d)(o=l[d])&&(c=t.call(o,o.__data__,d,l))&&("__data__"in o&&(c.__data__=o.__data__),h[d]=c,dn(h[d],e,n,d,h,mn(o,n)));return new Hr(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Mt(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var c,l=r[o],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,f=t.call(c,c.__data__,h,l),p=mn(c,n),m=0,g=f.length;m<g;++m)(d=f[m])&&dn(d,e,n,m,f,p);s.push(f),a.push(c)}return new Hr(s,a,e,n)},selectChild:qr.selectChild,selectChildren:qr.selectChildren,filter:function(t){"function"!=typeof t&&(t=kt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,a=e[i],o=a.length,c=r[i]=[],l=0;l<o;++l)(s=a[l])&&t.call(s,s.__data__,l,a)&&c.push(s);return new Hr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var c,l=e[o],u=n[o],h=l.length,d=a[o]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;o<r;++o)a[o]=e[o];return new Hr(a,this._parents,this._name,this._id)},selection:function(){return new Pr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Wr(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a,o=r[s],c=o.length,l=0;l<c;++l)if(a=o[l]){var u=mn(a,e);dn(a,t,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Hr(r,this._parents,t,n)},call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:function(t,e){var n=this._id;return arguments.length<2?mn(this.node(),n).on.on(t):this.each(Fr(n,t,e))},attr:function(t,e){var n=Ht(t),r="transform"===n?Sn:_r;return this.attrTween(t,"function"==typeof e?(n.local?Tr:Ir)(n,r,Tn(this,"attr."+t,e)):null==e?(n.local?xr:wr)(n):(n.local?Ar:Sr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ht(t);return this.tween(n,(r.local?Cr:Nr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?xn:_r;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var s=ee(this,t),a=(this.style.removeProperty(t),ee(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}(t,r)).on("end.style."+t,Ur(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,s;return function(){var a=ee(this,t),o=n(this),c=o+"";return null==o&&(this.style.removeProperty(t),c=o=ee(this,t)),a===c?null:a===r&&c===i?s:(i=c,s=e(r=a,o))}}(t,r,Tn(this,"style."+t,e))).each(function(t,e){var n,r,i,s,a="style."+e,o="end."+a;return function(){var c=pn(this,t),l=c.on,u=null==c.value[a]?s||(s=Ur(e)):void 0;l===n&&i===u||(r=(n=l).copy()).on(o,i=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,s=n+"";return function(){var a=ee(this,t);return a===s?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,$r(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Tn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,jr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=mn(this.node(),n).tween,s=0,a=i.length;s<a;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?An:In)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Er:Or)(e,t)):mn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Dr:Br)(e,t)):mn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Lr(e,t)):mn(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;pn(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(s,a){var o={value:a},c={value:function(){0==--i&&s()}};n.each((function(){var n=pn(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(c)),n.on=e})),0===i&&s()}))},[Symbol.iterator]:qr[Symbol.iterator]};var Yr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Gr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Pe.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,s=t.__transition,a=!0;if(s){for(i in e=null==e?null:e+"",s)(n=s[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Pe.prototype.transition=function(t){var e,n;t instanceof Hr?(e=t._id,t=t._name):(e=Wr(),(n=Yr).time=en(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a,o=r[s],c=o.length,l=0;l<c;++l)(a=o[l])&&dn(a,t,e,l,o,n||Gr(a,e));return new Hr(r,this._parents,t,e)};const{abs:Kr,max:Xr,min:Jr}=Math;function Zr(t){return{type:t}}function Qr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ti(t){return(t=Qr(Math.abs(t)))?t[1]:NaN}["w","e"].map(Zr),["n","s"].map(Zr),["n","w","e","s","nw","ne","sw","se"].map(Zr);var ei,ni=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ri(t){if(!(e=ni.exec(t)))throw new Error("invalid format: "+t);var e;return new ii({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ii(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function si(t,e){var n=Qr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ri.prototype=ii.prototype,ii.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ai={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>si(100*t,e),r:si,s:function(t,e){var n=Qr(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(ei=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Qr(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oi(t){return t}var ci,li,ui,hi=Array.prototype.map,di=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pi(t){return function(e,n){var r=t((e=ir(e)).h,(n=ir(n)).h),i=fr(e.s,n.s),s=fr(e.l,n.l),a=fr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=s(t),e.opacity=a(t),e+""}}}ci=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?oi:(e=hi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],a=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),s.push(t.substring(i-=o,i+o)),!((c+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?oi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(hi.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ri(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,y=t.trim,b=t.type;"n"===b?(m=!0,b="g"):ai[b]||(void 0===g&&(g=12),y=!0,b="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===d?s:/[%p]/.test(b)?c:"",w=ai[b],x=/[defgprs%]/.test(b);function S(t){var i,s,c,d=v,S=_;if("c"===b)S=w(t)+S,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),A&&0==+t&&"+"!==h&&(A=!1),d=(A?"("===h?h:l:"-"===h||"("===h?"":h)+d,S=("s"===b?di[8+ei/3]:"")+S+(A&&"("===h?")":""),x)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){S=(46===c?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}m&&!f&&(t=r(t,1/0));var I=d.length+t.length+S.length,T=I<p?new Array(p-I+1).join(e):"";switch(m&&f&&(t=r(T+t,T.length?p-S.length:1/0),T=""),n){case"<":t=d+t+S+T;break;case"=":t=d+T+t+S;break;case"^":t=T.slice(0,I=T.length>>1)+d+t+S+T.slice(I);break;default:t=T+d+t+S}return o(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return t+""},S}return{format:h,formatPrefix:function(t,e){var n=h(((t=ri(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ti(e)/3))),i=Math.pow(10,-r),s=di[8+r/3];return function(t){return n(i*t)+s}}}}({thousands:",",grouping:[3],currency:["$",""]}),li=ci.format,ui=ci.formatPrefix;const mi=pi(dr);pi(fr);const gi=Math.PI/180,yi=180/Math.PI,bi=.96422,vi=.82521,_i=4/29,wi=6/29,xi=3*wi*wi;function Si(t){if(t instanceof Ii)return new Ii(t.l,t.a,t.b,t.opacity);if(t instanceof Oi)return Di(t);t instanceof Xn||(t=Gn(t));var e,n,r=Ci(t.r),i=Ci(t.g),s=Ci(t.b),a=Ti((.2225045*r+.7168786*i+.0606169*s)/1);return r===i&&i===s?e=n=a:(e=Ti((.4360747*r+.3850649*i+.1430804*s)/bi),n=Ti((.0139322*r+.0971045*i+.7141733*s)/vi)),new Ii(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Ai(t,e,n,r){return 1===arguments.length?Si(t):new Ii(t,e,n,null==r?1:r)}function Ii(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ti(t){return t>.008856451679035631?Math.pow(t,1/3):t/xi+_i}function Mi(t){return t>wi?t*t*t:xi*(t-_i)}function ki(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ci(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ni(t){if(t instanceof Oi)return new Oi(t.h,t.c,t.l,t.opacity);if(t instanceof Ii||(t=Si(t)),0===t.a&&0===t.b)return new Oi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*yi;return new Oi(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ei(t,e,n,r){return 1===arguments.length?Ni(t):new Oi(t,e,n,null==r?1:r)}function Oi(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Di(t){if(isNaN(t.h))return new Ii(t.l,0,0,t.opacity);var e=t.h*gi;return new Ii(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function Bi(t){return function(e,n){var r=t((e=Ei(e)).h,(n=Ei(n)).h),i=fr(e.c,n.c),s=fr(e.l,n.l),a=fr(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=s(t),e.opacity=a(t),e+""}}}Mn(Ii,Ai,kn(Cn,{brighter(t){return new Ii(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new Ii(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Xn(ki(3.1338561*(e=bi*Mi(e))-1.6168667*(t=1*Mi(t))-.4906146*(n=vi*Mi(n))),ki(-.9787684*e+1.9161415*t+.033454*n),ki(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Mn(Oi,Ei,kn(Cn,{brighter(t){return new Oi(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new Oi(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return Di(this).rgb()}}));const Li=Bi(dr);function Fi(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=new Array(i),a=new Array(r);for(n=0;n<i;++n)s[n]=$i(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=s[n](t);return a}}function Pi(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ui(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=$i(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function Vi(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}}function $i(t,e){var n,r=typeof e;return null==e||"boolean"===r?ur(e):("number"===r?gn:"string"===r?(n=Wn(e))?(e=n,pr):vr:e instanceof Wn?pr:e instanceof Date?Pi:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Vi:Array.isArray(e)?Fi:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ui:gn)(t,e)}function Ri(t,e){void 0===e&&(e=t,t=$i);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return s[e](t-e)}}function ji(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}Bi(fr);const zi=Math.PI,Hi=2*zi,Wi=1e-6,qi=Hi-Wi;function Yi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gi(){return new Yi}Yi.prototype=Gi.prototype={constructor:Yi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var s=this._x1,a=this._y1,o=n-t,c=r-e,l=s-t,u=a-e,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Wi)if(Math.abs(u*o-c*l)>Wi&&i){var d=n-s,f=r-a,p=o*o+c*c,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),b=i*Math.tan((zi-Math.acos((p+h-m)/(2*g*y)))/2),v=b/y,_=b/g;Math.abs(v-1)>Wi&&(this._+="L"+(t+v*l)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>l*f)+","+(this._x1=t+_*o)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,s){t=+t,e=+e,s=!!s;var a=(n=+n)*Math.cos(r),o=n*Math.sin(r),c=t+a,l=e+o,u=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Wi||Math.abs(this._y1-l)>Wi)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Hi+Hi),h>qi?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-o)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>Wi&&(this._+="A"+n+","+n+",0,"+ +(h>=zi)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Ki=Gi;function Xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ji(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}const Zi=Symbol("implicit");function Qi(){var t=new p,e=[],n=[],r=Zi;function i(i){let s=t.get(i);if(void 0===s){if(r!==Zi)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new p;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Qi(e,n).unknown(r)},Xi.apply(i,arguments),i}function ts(){var t,e,n=Qi().unknown(void 0),r=n.domain,i=n.range,s=0,a=1,o=!1,c=0,l=0,u=.5;function h(){var n=r().length,h=a<s,d=h?a:s,f=h?s:a;t=(f-d)/Math.max(1,n-c+2*l),o&&(t=Math.floor(t)),d+=(f-d-t*(n-c))*u,e=t*(1-c),o&&(d=Math.round(d),e=Math.round(e));var p=at(n).map((function(e){return d+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([s,a]=t,s=+s,a=+a,h()):[s,a]},n.rangeRound=function(t){return[s,a]=t,s=+s,a=+a,o=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,h()):o},n.padding=function(t){return arguments.length?(c=Math.min(1,l=+t),h()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),h()):c},n.paddingOuter=function(t){return arguments.length?(l=+t,h()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return ts(r(),[s,a]).round(o).paddingInner(c).paddingOuter(l).align(u)},Xi.apply(h(),arguments)}function es(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return es(e())},t}function ns(t){return+t}var rs=[0,1];function is(t){return t}function ss(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function as(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=ss(i,r),s=n(a,s)):(r=ss(r,i),s=n(s,a)),function(t){return s(r(t))}}function os(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ss(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(e){var n=F(t,e,1,r)-1;return s[n](i[n](e))}}function cs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ls(){var t,e,n,r,i,s,a=rs,o=rs,c=$i,l=is;function u(){var t=Math.min(a.length,o.length);return l!==is&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?os:as,i=s=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),o,c)))(t(l(e)))}return h.invert=function(n){return l(e((s||(s=r(o,a.map(t),gn)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ns),u()):a.slice()},h.range=function(t){return arguments.length?(o=Array.from(t),u()):o.slice()},h.rangeRound=function(t){return o=Array.from(t),c=fi,u()},h.clamp=function(t){return arguments.length?(l=!!t||is,u()):l!==is},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function us(){return ls()(is,is)}function hs(t){var e=t.domain;return t.ticks=function(t){var n=e();return R(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,s=z(t,e,n);switch((r=ri(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ti(e)/3)))-ti(Math.abs(t)))}(s,a))||(r.precision=i),ui(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ti(e)-ti(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ti(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return li(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,s=e(),a=0,o=s.length-1,c=s[a],l=s[o],u=10;for(l<c&&(i=c,c=l,l=i,i=a,a=o,o=i);u-- >0;){if((i=j(c,l,n))===r)return s[a]=c,s[o]=l,e(s);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function ds(){var t=us();return t.copy=function(){return cs(t,ds())},Xi.apply(t,arguments),hs(t)}function fs(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,ns),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return fs(t).unknown(e)},t=arguments.length?Array.from(t,ns):[0,1],hs(n)}function ps(t,e){var n,r=0,i=(t=t.slice()).length-1,s=t[r],a=t[i];return a<s&&(n=r,r=i,i=n,n=s,s=a,a=n),t[r]=e.floor(s),t[i]=e.ceil(a),t}function ms(t){return Math.log(t)}function gs(t){return Math.exp(t)}function ys(t){return-Math.log(-t)}function bs(t){return-Math.exp(-t)}function vs(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _s(t){return(e,n)=>-t(-e,n)}function ws(t){const e=t(ms,gs),n=e.domain;let r,i,s=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(s),i=function(t){return 10===t?vs:t===Math.E?Math.exp:e=>Math.pow(t,e)}(s),n()[0]<0?(r=_s(r),i=_s(i),t(ys,bs)):t(ms,gs),e}return e.base=function(t){return arguments.length?(s=+t,a()):s},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],o=e[e.length-1];const c=o<a;c&&([a,o]=[o,a]);let l,u,h=r(a),d=r(o);const f=null==t?10:+t;let p=[];if(!(s%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(l=1;l<s;++l)if(u=h<0?l/i(-h):l*i(h),!(u<a)){if(u>o)break;p.push(u)}}else for(;h<=d;++h)for(l=s-1;l>=1;--l)if(u=h>0?l/i(-h):l*i(h),!(u<a)){if(u>o)break;p.push(u)}2*p.length<f&&(p=R(a,o,f))}else p=R(h,d,Math.min(d-h,f)).map(i);return c?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===s?"s":","),"function"!=typeof n&&(s%1||null!=(n=ri(n)).precision||(n.trim=!0),n=li(n)),t===1/0)return n;const a=Math.max(1,s*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*s<s-.5&&(e*=s),e<=a?n(t):""}},e.nice=()=>n(ps(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function xs(){const t=ws(ls()).domain([1,10]);return t.copy=()=>cs(t,xs()).base(t.base()),Xi.apply(t,arguments),t}function Ss(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function As(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Is(t){var e=1,n=t(Ss(e),As(e));return n.constant=function(n){return arguments.length?t(Ss(e=+n),As(e)):e},hs(n)}function Ts(){var t=Is(ls());return t.copy=function(){return cs(t,Ts()).constant(t.constant())},Xi.apply(t,arguments)}function Ms(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ks(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cs(t){return t<0?-t*t:t*t}function Ns(t){var e=t(is,is),n=1;function r(){return 1===n?t(is,is):.5===n?t(ks,Cs):t(Ms(n),Ms(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},hs(e)}function Es(){var t=Ns(ls());return t.copy=function(){return cs(t,Es()).exponent(t.exponent())},Xi.apply(t,arguments),t}function Os(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=J(e,t/i);return a}function a(e){return null==e||isNaN(e=+e)?t:n[F(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(s),i()},a.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return Os().domain(e).range(n).unknown(t)},Xi.apply(a,arguments)}function Ds(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[F(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Ds().domain(e).range(n).unknown(t)},Xi.apply(i,arguments)}const Bs=1e3,Ls=6e4,Fs=36e5,Ps=864e5,Us=6048e5,Vs=31536e6;var $s=new Date,Rs=new Date;function js(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var a,o=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return o;do{o.push(a=new Date(+n)),e(n,s),t(n)}while(a<n&&n<r);return o},i.filter=function(n){return js((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return $s.setTime(+e),Rs.setTime(+r),t($s),t(Rs),Math.floor(n($s,Rs))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var zs=js((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));zs.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?js((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):zs:null};const Hs=zs;zs.range;var Ws=js((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Bs)}),(function(t,e){return(e-t)/Bs}),(function(t){return t.getUTCSeconds()}));const qs=Ws;Ws.range;var Ys=js((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs)}),(function(t,e){t.setTime(+t+e*Ls)}),(function(t,e){return(e-t)/Ls}),(function(t){return t.getMinutes()}));const Gs=Ys;Ys.range;var Ks=js((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bs-t.getMinutes()*Ls)}),(function(t,e){t.setTime(+t+e*Fs)}),(function(t,e){return(e-t)/Fs}),(function(t){return t.getHours()}));const Xs=Ks;Ks.range;var Js=js((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/Ps),(t=>t.getDate()-1));const Zs=Js;function Qs(t){return js((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/Us}))}Js.range;var ta=Qs(0),ea=Qs(1),na=Qs(2),ra=Qs(3),ia=Qs(4),sa=Qs(5),aa=Qs(6),oa=(ta.range,ea.range,na.range,ra.range,ia.range,sa.range,aa.range,js((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));const ca=oa;oa.range;var la=js((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));la.every=function(t){return isFinite(t=Math.floor(t))&&t>0?js((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const ua=la;la.range;var ha=js((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Ls)}),(function(t,e){return(e-t)/Ls}),(function(t){return t.getUTCMinutes()}));const da=ha;ha.range;var fa=js((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Fs)}),(function(t,e){return(e-t)/Fs}),(function(t){return t.getUTCHours()}));const pa=fa;fa.range;var ma=js((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Ps}),(function(t){return t.getUTCDate()-1}));const ga=ma;function ya(t){return js((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Us}))}ma.range;var ba=ya(0),va=ya(1),_a=ya(2),wa=ya(3),xa=ya(4),Sa=ya(5),Aa=ya(6),Ia=(ba.range,va.range,_a.range,wa.range,xa.range,Sa.range,Aa.range,js((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})));const Ta=Ia;Ia.range;var Ma=js((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Ma.every=function(t){return isFinite(t=Math.floor(t))&&t>0?js((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const ka=Ma;function Ca(t,e,n,r,i,s){const a=[[qs,1,Bs],[qs,5,5e3],[qs,15,15e3],[qs,30,3e4],[s,1,Ls],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,Fs],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Ps],[r,2,1728e5],[n,1,Us],[e,1,2592e6],[e,3,7776e6],[t,1,Vs]];function o(e,n,r){const i=Math.abs(n-e)/r,s=E((([,,t])=>t)).right(a,i);if(s===a.length)return t.every(z(e/Vs,n/Vs,r));if(0===s)return Hs.every(Math.max(z(e,n,r),1));const[o,c]=a[i/a[s-1][2]<a[s][2]/i?s-1:s];return o.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:o(t,e,n),s=i?i.range(t,+e+1):[];return r?s.reverse():s},o]}Ma.range;const[Na,Ea]=Ca(ka,Ta,ba,ga,pa,da),[Oa,Da]=Ca(ua,ca,ta,Zs,Xs,Gs);function Ba(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function La(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Pa,Ua,Va,$a={"-":"",_:" ",0:"0"},Ra=/^\s*\d+/,ja=/^%/,za=/[\\^$*+?|[\]().{}]/g;function Ha(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Wa(t){return t.replace(za,"\\$&")}function qa(t){return new RegExp("^(?:"+t.map(Wa).join("|")+")","i")}function Ya(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Ga(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ka(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xa(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ja(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Za(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Qa(t,e,n){var r=Ra.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function to(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eo(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function no(t,e,n){var r=Ra.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ro(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function io(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function so(t,e,n){var r=Ra.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ao(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function oo(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function co(t,e,n){var r=Ra.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lo(t,e,n){var r=Ra.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function uo(t,e,n){var r=Ra.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ho(t,e,n){var r=ja.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fo(t,e,n){var r=Ra.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function po(t,e,n){var r=Ra.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mo(t,e){return Ha(t.getDate(),e,2)}function go(t,e){return Ha(t.getHours(),e,2)}function yo(t,e){return Ha(t.getHours()%12||12,e,2)}function bo(t,e){return Ha(1+Zs.count(ua(t),t),e,3)}function vo(t,e){return Ha(t.getMilliseconds(),e,3)}function _o(t,e){return vo(t,e)+"000"}function wo(t,e){return Ha(t.getMonth()+1,e,2)}function xo(t,e){return Ha(t.getMinutes(),e,2)}function So(t,e){return Ha(t.getSeconds(),e,2)}function Ao(t){var e=t.getDay();return 0===e?7:e}function Io(t,e){return Ha(ta.count(ua(t)-1,t),e,2)}function To(t){var e=t.getDay();return e>=4||0===e?ia(t):ia.ceil(t)}function Mo(t,e){return t=To(t),Ha(ia.count(ua(t),t)+(4===ua(t).getDay()),e,2)}function ko(t){return t.getDay()}function Co(t,e){return Ha(ea.count(ua(t)-1,t),e,2)}function No(t,e){return Ha(t.getFullYear()%100,e,2)}function Eo(t,e){return Ha((t=To(t)).getFullYear()%100,e,2)}function Oo(t,e){return Ha(t.getFullYear()%1e4,e,4)}function Do(t,e){var n=t.getDay();return Ha((t=n>=4||0===n?ia(t):ia.ceil(t)).getFullYear()%1e4,e,4)}function Bo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ha(e/60|0,"0",2)+Ha(e%60,"0",2)}function Lo(t,e){return Ha(t.getUTCDate(),e,2)}function Fo(t,e){return Ha(t.getUTCHours(),e,2)}function Po(t,e){return Ha(t.getUTCHours()%12||12,e,2)}function Uo(t,e){return Ha(1+ga.count(ka(t),t),e,3)}function Vo(t,e){return Ha(t.getUTCMilliseconds(),e,3)}function $o(t,e){return Vo(t,e)+"000"}function Ro(t,e){return Ha(t.getUTCMonth()+1,e,2)}function jo(t,e){return Ha(t.getUTCMinutes(),e,2)}function zo(t,e){return Ha(t.getUTCSeconds(),e,2)}function Ho(t){var e=t.getUTCDay();return 0===e?7:e}function Wo(t,e){return Ha(ba.count(ka(t)-1,t),e,2)}function qo(t){var e=t.getUTCDay();return e>=4||0===e?xa(t):xa.ceil(t)}function Yo(t,e){return t=qo(t),Ha(xa.count(ka(t),t)+(4===ka(t).getUTCDay()),e,2)}function Go(t){return t.getUTCDay()}function Ko(t,e){return Ha(va.count(ka(t)-1,t),e,2)}function Xo(t,e){return Ha(t.getUTCFullYear()%100,e,2)}function Jo(t,e){return Ha((t=qo(t)).getUTCFullYear()%100,e,2)}function Zo(t,e){return Ha(t.getUTCFullYear()%1e4,e,4)}function Qo(t,e){var n=t.getUTCDay();return Ha((t=n>=4||0===n?xa(t):xa.ceil(t)).getUTCFullYear()%1e4,e,4)}function tc(){return"+0000"}function ec(){return"%"}function nc(t){return+t}function rc(t){return Math.floor(+t/1e3)}function ic(t){return new Date(t)}function sc(t){return t instanceof Date?+t:+new Date(+t)}function ac(t,e,n,r,i,s,a,o,c,l){var u=us(),h=u.invert,d=u.domain,f=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),b=l("%b %d"),v=l("%B"),_=l("%Y");function w(t){return(c(t)<t?f:o(t)<t?p:a(t)<t?m:s(t)<t?g:r(t)<t?i(t)<t?y:b:n(t)<t?v:_)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,sc)):d().map(ic)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?w:l(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(ps(n,t)):u},u.copy=function(){return cs(u,ac(t,e,n,r,i,s,a,o,c,l))},u}function oc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cc(){var t,e,n,r,i,s,a,o=0,c=.5,l=1,u=1,h=is,d=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+s(t))-e)*(u*t<u*e?r:i),h(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=Ri(t,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([o,c,l]=a,t=s(o=+o),e=s(c=+c),n=s(l=+l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f):[o,c,l]},f.clamp=function(t){return arguments.length?(d=!!t,f):d},f.interpolator=function(t){return arguments.length?(h=t,f):h},f.range=p($i),f.rangeRound=p(fi),f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return s=a,t=a(o),e=a(c),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f}}function lc(){var t=hs(cc()(is));return t.copy=function(){return oc(t,lc())},Ji.apply(t,arguments)}function uc(){var t=ws(cc()).domain([.1,1,10]);return t.copy=function(){return oc(t,uc()).base(t.base())},Ji.apply(t,arguments)}function hc(){var t=Is(cc());return t.copy=function(){return oc(t,hc()).constant(t.constant())},Ji.apply(t,arguments)}function dc(){var t=Ns(cc());return t.copy=function(){return oc(t,dc()).exponent(t.exponent())},Ji.apply(t,arguments)}function fc(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}Pa=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,l=qa(i),u=Ya(i),h=qa(s),d=Ya(s),f=qa(a),p=Ya(a),m=qa(o),g=Ya(o),y=qa(c),b=Ya(c),v={a:function(t){return a[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:mo,e:mo,f:_o,g:Eo,G:Do,H:go,I:yo,j:bo,L:vo,m:wo,M:xo,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:nc,s:rc,S:So,u:Ao,U:Io,V:Mo,w:ko,W:Co,x:null,X:null,y:No,Y:Oo,Z:Bo,"%":ec},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:Lo,e:Lo,f:$o,g:Jo,G:Qo,H:Fo,I:Po,j:Uo,L:Vo,m:Ro,M:jo,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:nc,s:rc,S:zo,u:Ho,U:Wo,V:Yo,w:Go,W:Ko,x:null,X:null,y:Xo,Y:Zo,Z:tc,"%":ec},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:io,e:io,f:uo,g:to,G:Qa,H:ao,I:ao,j:so,L:lo,m:ro,M:oo,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:no,Q:fo,s:po,S:co,u:Ka,U:Xa,V:Ja,w:Ga,W:Za,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:to,Y:Qa,Z:eo,"%":ho};function x(t,e){return function(n){var r,i,s,a=[],o=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++o<l;)37===t.charCodeAt(o)&&(a.push(t.slice(c,o)),null!=(i=$a[r=t.charAt(++o)])?r=t.charAt(++o):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),a.push(r),c=o+1);return a.push(t.slice(c,o)),a.join("")}}function S(t,e){return function(n){var r,i,s=Fa(1900,void 0,1);if(A(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(e&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(i=(r=La(Fa(s.y,0,1))).getUTCDay(),r=i>4||0===i?va.ceil(r):va(r),r=ga.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(i=(r=Ba(Fa(s.y,0,1))).getDay(),r=i>4||0===i?ea.ceil(r):ea(r),r=Zs.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?La(Fa(s.y,0,1)).getUTCDay():Ba(Fa(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,La(s)):Ba(s)}}function A(t,e,n,r){for(var i,s,a=0,o=e.length,c=n.length;a<o;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(s=w[i in $a?e.charAt(a++):i])||(r=s(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ua=Pa.format,Pa.parse,Va=Pa.utcFormat,Pa.utcParse;const pc=fc("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),mc=fc("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),gc=fc("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),yc=fc("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),bc=fc("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),vc=fc("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),_c=fc("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),wc=fc("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),xc=fc("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Sc=fc("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ac=t=>gr(t[t.length-1]);var Ic=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(fc);const Tc=Ac(Ic);var Mc=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(fc);const kc=Ac(Mc);var Cc=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(fc);const Nc=Ac(Cc);var Ec=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(fc);const Oc=Ac(Ec);var Dc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(fc);const Bc=Ac(Dc);var Lc=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(fc);const Fc=Ac(Lc);var Pc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(fc);const Uc=Ac(Pc);var Vc=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(fc);const $c=Ac(Vc);var Rc=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(fc);const jc=Ac(Rc);var zc=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(fc);const Hc=Ac(zc);var Wc=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(fc);const qc=Ac(Wc);var Yc=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(fc);const Gc=Ac(Yc);var Kc=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(fc);const Xc=Ac(Kc);var Jc=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(fc);const Zc=Ac(Jc);var Qc=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(fc);const tl=Ac(Qc);var el=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(fc);const nl=Ac(el);var rl=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(fc);const il=Ac(rl);var sl=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(fc);const al=Ac(sl);var ol=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(fc);const cl=Ac(ol);var ll=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(fc);const ul=Ac(ll);var hl=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(fc);const dl=Ac(hl);var fl=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(fc);const pl=Ac(fl);var ml=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(fc);const gl=Ac(ml);var yl=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(fc);const bl=Ac(yl);var vl=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(fc);const _l=Ac(vl);var wl=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(fc);const xl=Ac(wl);var Sl=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(fc);const Al=Ac(Sl);function Il(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var Tl=-.14861,Ml=1.78277,kl=-.29227,Cl=-.90649,Nl=1.97294,El=Nl*Cl,Ol=Nl*Ml,Dl=Ml*kl-Cl*Tl;function Bl(t){if(t instanceof Fl)return new Fl(t.h,t.s,t.l,t.opacity);t instanceof Xn||(t=Gn(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Dl*r+El*e-Ol*n)/(Dl+El-Ol),s=r-i,a=(Nl*(n-i)-kl*s)/Cl,o=Math.sqrt(a*a+s*s)/(Nl*i*(1-i)),c=o?Math.atan2(a,s)*yi-120:NaN;return new Fl(c<0?c+360:c,o,i,t.opacity)}function Ll(t,e,n,r){return 1===arguments.length?Bl(t):new Fl(t,e,n,null==r?1:r)}function Fl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Pl(t){return function e(n){function r(e,r){var i=t((e=Ll(e)).h,(r=Ll(r)).h),s=fr(e.s,r.s),a=fr(e.l,r.l),o=fr(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=s(t),e.l=a(Math.pow(t,n)),e.opacity=o(t),e+""}}return n=+n,r.gamma=e,r}(1)}Mn(Fl,Ll,kn(Cn,{brighter(t){return t=null==t?En:Math.pow(En,t),new Fl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Nn:Math.pow(Nn,t),new Fl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*gi,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Xn(255*(e+n*(Tl*r+Ml*i)),255*(e+n*(kl*r+Cl*i)),255*(e+n*(Nl*r)),this.opacity)}})),Pl(dr);var Ul=Pl(fr);const Vl=Ul(Ll(300,.5,0),Ll(-240,.5,1));var $l=Ul(Ll(-100,.75,.35),Ll(80,1.5,.8)),Rl=Ul(Ll(260,.75,.35),Ll(80,1.5,.8)),jl=Ll();function zl(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return jl.h=360*t-100,jl.s=1.5-1.5*e,jl.l=.8-.9*e,jl+""}var Hl=Kn(),Wl=Math.PI/3,ql=2*Math.PI/3;function Yl(t){var e;return t=(.5-t)*Math.PI,Hl.r=255*(e=Math.sin(t))*e,Hl.g=255*(e=Math.sin(t+Wl))*e,Hl.b=255*(e=Math.sin(t+ql))*e,Hl+""}function Gl(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Kl(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Xl=Kl(fc("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Jl=Kl(fc("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Zl=Kl(fc("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ql=Kl(fc("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function tu(t){return"string"==typeof t?new Le([[document.querySelector(t)]],[document.documentElement]):new Le([[t]],Be)}function eu(t){return tu(Se(t).call(document.documentElement))}Math.abs,Math.atan2;const nu=Math.cos,ru=(Math.max,Math.min),iu=Math.sin,su=Math.sqrt,au=Math.PI,ou=2*au,cu=su(3),lu={draw(t,e){const n=.59436*su(e+ru(e/28,.75)),r=n/2,i=r*cu;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},uu={draw(t,e){const n=su(e/au);t.moveTo(n,0),t.arc(0,0,n,0,ou)}},hu={draw(t,e){const n=su(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},du=su(1/3),fu=2*du,pu={draw(t,e){const n=su(e/fu),r=n*du;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mu={draw(t,e){const n=.62625*su(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},gu={draw(t,e){const n=.87559*su(e-ru(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},yu={draw(t,e){const n=su(e),r=-n/2;t.rect(r,r,n,n)}},bu={draw(t,e){const n=.4431*su(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},vu=iu(au/10)/iu(7*au/10),_u=iu(ou/10)*vu,wu=-nu(ou/10)*vu,xu={draw(t,e){const n=su(.8908130915292852*e),r=_u*n,i=wu*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const s=ou*e/5,a=nu(s),o=iu(s);t.lineTo(o*n,-a*n),t.lineTo(a*r-o*i,o*r+a*i)}t.closePath()}},Su=su(3),Au={draw(t,e){const n=-su(e/(3*Su));t.moveTo(0,2*n),t.lineTo(-Su*n,-n),t.lineTo(Su*n,-n),t.closePath()}},Iu=su(3),Tu={draw(t,e){const n=.6824*su(e),r=n/2,i=n*Iu/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Mu=-.5,ku=su(3)/2,Cu=1/su(12),Nu=3*(Cu/2+1),Eu={draw(t,e){const n=su(e/Nu),r=n/2,i=n*Cu,s=r,a=n*Cu+n,o=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,c),t.lineTo(Mu*r-ku*i,ku*r+Mu*i),t.lineTo(Mu*s-ku*a,ku*s+Mu*a),t.lineTo(Mu*o-ku*c,ku*o+Mu*c),t.lineTo(Mu*r+ku*i,Mu*i-ku*r),t.lineTo(Mu*s+ku*a,Mu*a-ku*s),t.lineTo(Mu*o+ku*c,Mu*c-ku*o),t.closePath()}},Ou={draw(t,e){const n=.6189*su(e-ru(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},Du=[uu,hu,pu,yu,xu,Au,Eu],Bu=[uu,gu,Ou,Tu,lu,bu,mu];function Lu(t,e,n){this.k=t,this.x=e,this.y=n}Lu.prototype={constructor:Lu,scale:function(t){return 1===t?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Lu(1,0,0),Lu.prototype;const Fu=Object.getPrototypeOf(Uint8Array),Pu=Object.prototype.toString;function Uu(t,e,n){const r=void 0===n?Array:n,i=typeof e;return"string"===i?r.from(t,Vu(e)):"function"===i?r.from(t,e):"number"===i||e instanceof Date||"boolean"===i?r.from(t,Gu(e)):e&&"function"==typeof e.transform?Qu(e.transform(t),n):Qu(e,n)}const Vu=t=>e=>e[t],$u=(t,e)=>e,Ru={transform:t=>t},ju=()=>1,zu=t=>null==t?t:`${t}`,Hu=t=>null==t?t:+t,Wu=t=>null==t?t:!!t,qu=t=>t?t[0]:void 0,Yu=t=>t?t[1]:void 0,Gu=t=>()=>t;function Ku(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:yh(t)?[void 0,t]:[t,void 0]}function Xu(t,e){return void 0===t&&(t=e),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function Ju(t,e,n){if(null!=t)return Zu(t,e,n)}function Zu(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Qu(t,e){return null==t?t:void 0===e?t instanceof Array||t instanceof Fu?t:Array.from(t):t instanceof e?t:e.from(t)}function th(t){return function(t){return t?.toString===Pu}(t)&&"function"!=typeof t.transform}function eh(t,e,n,r=Ru){return void 0===e&&void 0===n?(e=0,n=void 0===t?r:t):void 0===e?e=void 0===t?0:t:void 0===n&&(n=void 0===t?0:t),[e,n]}function nh(t){return Uint32Array.from(t,$u)}function rh(t,e){return nh(t).filter((n=>e(t[n],n,t)))}function ih(t,e){return Array.from(e,(e=>t[e]))}function sh(t){let e;return[{transform:()=>e,label:oh(t)},t=>e=t]}function ah(t){return null==t?[t]:sh(t)}function oh(t,e){return"string"==typeof t?t:t&&void 0!==t.label?t.label:e}function ch(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return dh(r)||dh(i)?Array.from(r,((t,e)=>new Date((+r[e]+ +i[e])/2))):Float64Array.from(r,((t,e)=>(+r[e]+ +i[e])/2))},label:t.label}}function lh(t){return void 0===t||th(t)?t:{value:t}}function uh(t){for(const e of t)if(null!=e)return"object"!=typeof e||e instanceof Date}function hh(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function dh(t){for(const e of t)if(null!=e)return e instanceof Date}function fh(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&i(e)}function ph(t){for(const e of t)if(null!=e&&""!==e)return"string"==typeof e&&!isNaN(e)}function mh(t,e){for(const n of t)if(null!=n)return e(n)}function gh(t,e){for(const n of t)if(null!=n&&!e(n))return!1;return!0}function yh(t){return"string"==typeof t&&("none"===(t=t.toLowerCase().trim())||"currentcolor"===t||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||null!==Wn(t))}function bh(t){return null==t||vh(t)}function vh(t){return/^\s*none\s*$/i.test(t)}const _h=new Map([["asterisk",lu],["circle",uu],["cross",hu],["diamond",pu],["diamond2",mu],["plus",gu],["square",yu],["square2",bu],["star",xu],["times",Ou],["triangle",Au],["triangle2",Tu],["wye",Eu]]);function wh(t){return t&&"function"==typeof t.draw}function xh(t){return!!wh(t)||"string"==typeof t&&_h.has(t.toLowerCase())}function Sh(t){if(null==t||wh(t))return t;const e=_h.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Ah(t){if(null!=t)return u(t[0],t[t.length-1])}function Ih(t,e){return`${t}`.padStart(e,"0")}function Th(t){let e,n={};return(...r)=>((n.length!==r.length||n.some(((t,e)=>t!==r[e])))&&(n=r,e=t(...r)),e)}const Mh=Th((t=>new Intl.NumberFormat(t)));function kh(t){return function(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof e?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),s=t.getUTCMilliseconds();return`${function(t){return t<0?`-${Ih(-t,6)}`:t>9999?`+${Ih(t,6)}`:Ih(t,4)}(t.getUTCFullYear())}-${Ih(t.getUTCMonth()+1,2)}-${Ih(t.getUTCDate(),2)}${n||r||i||s?`T${Ih(n,2)}:${Ih(r,2)}${i||s?`:${Ih(i,2)}${s?`.${Ih(s,3)}`:""}`:""}Z`:""}`}(t,"Invalid Date")}Th(((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",month:e}))),Th(((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",weekday:e})));const Ch=function(t="en-US"){const e=function(t="en-US"){const e=Mh(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}(t);return t=>(t instanceof Date?kh:"number"==typeof t?e:zu)(t)}(),Nh=Math.PI/180;function Eh(t){return null!=t&&!Number.isNaN(t)}function Oh(t,e){return Eh(e)-Eh(t)||s(t,e)}function Dh(t){return null!=t&&""!=`${t}`}function Bh(t){return isFinite(t)?t:NaN}function Lh(t){return t>0&&isFinite(t)?t:NaN}function Fh(t){return t<0&&isFinite(t)?t:NaN}const Ph="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5;let Uh=0;function Vh(t,e){e&&t.text((t=>Ch(e[t])))}function $h(t,{target:e},{ariaLabel:n,title:r,fill:i,fillOpacity:s,stroke:a,strokeOpacity:o,strokeWidth:c,opacity:l,href:u}){n&&zh(t,"aria-label",(t=>n[t])),i&&zh(t,"fill",(t=>i[t])),s&&zh(t,"fill-opacity",(t=>s[t])),a&&zh(t,"stroke",(t=>a[t])),o&&zh(t,"stroke-opacity",(t=>o[t])),c&&zh(t,"stroke-width",(t=>c[t])),l&&zh(t,"opacity",(t=>l[t])),u&&function(t,e,n){t.each((function(t){const r=e(t);if(null!=r){const t=document.createElementNS(zt.svg,"a");t.setAttributeNS(zt.xlink,"href",r),null!=n&&t.setAttribute("target",n),this.parentNode.insertBefore(t,this).appendChild(this)}}))}(t,(t=>u[t]),e),function(t,e){e&&t.filter((t=>Dh(e[t]))).append("title").call(Vh,e)}(t,r)}function Rh(t,e,{width:n,height:r,marginLeft:i,marginRight:s,marginTop:a,marginBottom:o}){if(zh(t,"aria-label",e.ariaLabel),zh(t,"aria-description",e.ariaDescription),zh(t,"aria-hidden",e.ariaHidden),zh(t,"fill",e.fill),zh(t,"fill-opacity",e.fillOpacity),zh(t,"stroke",e.stroke),zh(t,"stroke-width",e.strokeWidth),zh(t,"stroke-opacity",e.strokeOpacity),zh(t,"stroke-linejoin",e.strokeLinejoin),zh(t,"stroke-linecap",e.strokeLinecap),zh(t,"stroke-miterlimit",e.strokeMiterlimit),zh(t,"stroke-dasharray",e.strokeDasharray),zh(t,"stroke-dashoffset",e.strokeDashoffset),zh(t,"shape-rendering",e.shapeRendering),zh(t,"paint-order",e.paintOrder),"frame"===e.clip){const e="plot-clip-"+ ++Uh;t.attr("clip-path",`url(#${e})`).append("clipPath").attr("id",e).append("rect").attr("x",i).attr("y",a).attr("width",n-s-i).attr("height",r-a-o)}}function jh(t,e){!function(t,e,n){null!=n&&t.style("mix-blend-mode",n)}(t,0,e.mixBlendMode),zh(t,"opacity",e.opacity)}function zh(t,e,n){null!=n&&t.attr(e,n)}function Hh(t,e,n,r,i){e&&e.bandwidth&&(r+=e.bandwidth()/2),n&&n.bandwidth&&(i+=n.bandwidth()/2),(r||i)&&t.attr("transform",`translate(${r},${i})`)}function Wh(t,e){if((t=zu(t))!==e)return t}function qh(t,e){if((t=Hu(t))!==e)return t}const Yh=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/;function Gh(t){if(void 0===t)return`plot-${Math.random().toString(16).slice(2)}`;if(t=`${t}`,!Yh.test(t))throw new Error(`invalid class name: ${t}`);return t}function Kh(t,e){if("string"==typeof e)t.property("style",e);else if(null!=e)for(const n of t)Object.assign(n.style,e)}class Xh{constructor({name:t="x",axis:e,ticks:n,tickSize:r=("fx"===t?0:6),tickPadding:i=(0===r?9:3),tickFormat:s,fontVariant:a,grid:o,label:c,labelAnchor:l,labelOffset:u,line:h,tickRotate:d,ariaLabel:f,ariaDescription:p}={}){this.name=t,this.axis=Zu(e,"axis",["top","bottom"]),this.ticks=Qh(n),this.tickSize=Hu(r),this.tickPadding=Hu(i),this.tickFormat=td(s),this.fontVariant=Wh(a,"normal"),this.grid=Wu(o),this.label=zu(c),this.labelAnchor=Ju(l,"labelAnchor",["center","left","right"]),this.labelOffset=Hu(u),this.line=Wu(h),this.tickRotate=Hu(d),this.ariaLabel=zu(f),this.ariaDescription=zu(p)}render(t,{[this.name]:e,fy:n},{width:r,height:i,marginTop:s,marginRight:a,marginBottom:o,marginLeft:c,offsetLeft:l=0,facetMarginTop:u,facetMarginBottom:h,labelMarginLeft:d=0,labelMarginRight:f=0}){const{axis:p,fontVariant:m,grid:g,label:y,labelAnchor:b,labelOffset:v,line:_,name:w,tickRotate:x}=this,S="top"===p?-1:1,A=S*("x"===w?0:"top"===p?s-u:o-h)+("top"===p?s:i-o);return eu("svg:g").call(Zh,this).attr("transform",`translate(${l},${A})`).call(nd("top"===p?vt:wt,e,this)).call(rd,x).attr("font-size",null).attr("font-family",null).attr("font-variant",m).call(_?()=>{}:t=>t.select(".domain").remove()).call(g?n?function(t,e,n){const r=e.bandwidth(),i=e.domain();return s=>s.selectAll(".tick").append("path").attr("stroke","currentColor").attr("stroke-opacity",.1).attr("d",(t?ih(i,t):i).map((t=>`M0,${e(t)+n}v${r}`)).join(""))}(t,n,-A):(I=S*(o+s-i),t=>t.selectAll(".tick line").clone(!0).attr("stroke-opacity",.1).attr("y2",I)):()=>{}).call(y?t=>t.append("text").attr("fill","currentColor").attr("transform",`translate(${"center"===b?(r+c-a)/2:"right"===b?r+f:-d},${v*S})`).attr("dy","top"===p?"1em":"-0.32em").attr("text-anchor","center"===b?"middle":"right"===b?"end":"start").text(y):()=>{}).node();var I}}class Jh{constructor({name:t="y",axis:e,ticks:n,tickSize:r=("fy"===t?0:6),tickPadding:i=(0===r?9:3),tickFormat:s,fontVariant:a,grid:o,label:c,labelAnchor:l,labelOffset:u,line:h,tickRotate:d,ariaLabel:f,ariaDescription:p}={}){this.name=t,this.axis=Zu(e,"axis",["left","right"]),this.ticks=Qh(n),this.tickSize=Hu(r),this.tickPadding=Hu(i),this.tickFormat=td(s),this.fontVariant=Wh(a,"normal"),this.grid=Wu(o),this.label=zu(c),this.labelAnchor=Ju(l,"labelAnchor",["center","top","bottom"]),this.labelOffset=Hu(u),this.line=Wu(h),this.tickRotate=Hu(d),this.ariaLabel=zu(f),this.ariaDescription=zu(p)}render(t,{[this.name]:e,fx:n},{width:r,height:i,marginTop:s,marginRight:a,marginBottom:o,marginLeft:c,offsetTop:l=0,facetMarginLeft:u,facetMarginRight:h}){const{axis:d,fontVariant:f,grid:p,label:m,labelAnchor:g,labelOffset:y,line:b,name:v,tickRotate:_}=this,w="left"===d?-1:1,x=w*("y"===v?0:"left"===d?c-u:a-h)+("right"===d?r-a:c);return eu("svg:g").call(Zh,this).attr("transform",`translate(${x},${l})`).call(nd("right"===d?_t:xt,e,this)).call(rd,_).attr("font-size",null).attr("font-family",null).attr("font-variant",f).call(b?()=>{}:t=>t.select(".domain").remove()).call(p?n?function(t,e,n){const r=e.bandwidth(),i=e.domain();return s=>s.selectAll(".tick").append("path").attr("stroke","currentColor").attr("stroke-opacity",.1).attr("d",(t?ih(i,t):i).map((t=>`M${e(t)+n},0h${r}`)).join(""))}(t,n,-x):(S=w*(c+a-r),t=>t.selectAll(".tick line").clone(!0).attr("stroke-opacity",.1).attr("x2",S)):()=>{}).call(m?t=>t.append("text").attr("fill","currentColor").attr("transform",`translate(${y*w},${"center"===g?(i+s-o)/2:"bottom"===g?i-o:s})${"center"===g?" rotate(-90)":""}`).attr("dy","center"===g?"right"===d?"-0.32em":"0.75em":"bottom"===g?"1.4em":"-1em").attr("text-anchor","center"===g?"middle":"right"===d?"end":"start").text(m):()=>{}).node();var S}}function Zh(t,{name:e,label:n,ariaLabel:r=`${e}-axis`,ariaDescription:i=n}){zh(t,"aria-label",r),zh(t,"aria-description",i)}function Qh(t){return null===t?[]:t}function td(t){return null===t?()=>null:t}function ed(t,e){return void 0===t?dh(e)?kh:zu:"function"==typeof t?t:("string"==typeof t?dh(e)?Va:li:Gu)(t)}function nd(t,e,{ticks:n,tickSize:r,tickPadding:i,tickFormat:s}){return e.tickFormat||(s=ed(s,e.domain())),t(e).ticks(Array.isArray(n)?null:n,"function"==typeof s?null:s).tickFormat("function"==typeof s?s:null).tickSizeInner(r).tickSizeOuter(0).tickPadding(i).tickValues(Array.isArray(n)?n:null)}function rd(t,e){if(e=+e)for(const n of t.selectAll("text")){const t=+n.getAttribute("x"),r=+n.getAttribute("y");if(Math.abs(r)>Math.abs(t)){const t=Math.sign(r);n.setAttribute("transform",`translate(0, ${r+4*t*Math.cos(e*Nh)}) rotate(${e})`),n.setAttribute("text-anchor",Math.abs(e)<10?"middle":e<0^t>0?"start":"end")}else{const r=Math.sign(t);n.setAttribute("transform",`translate(${t+4*r*Math.abs(Math.sin(e*Nh))}, 0) rotate(${e})`),n.setAttribute("text-anchor",Math.abs(e)>60?"middle":r>0?"start":"end")}n.removeAttribute("x"),n.removeAttribute("y"),n.setAttribute("dy","0.32em")}}const id=Symbol("position"),sd=Symbol("color"),ad=Symbol("radius"),od=Symbol("length"),cd=Symbol("opacity"),ld=Symbol("symbol"),ud=new Map([["x",id],["y",id],["fx",id],["fy",id],["r",ad],["color",sd],["opacity",cd],["symbol",ld],["length",od]]),hd=new Map([["accent",mc],["category10",pc],["dark2",gc],["paired",yc],["pastel1",bc],["pastel2",vc],["set1",_c],["set2",wc],["set3",xc],["tableau10",Sc],["brbg",fd(Ic,Tc)],["prgn",fd(Mc,kc)],["piyg",fd(Cc,Nc)],["puor",fd(Ec,Oc)],["rdbu",fd(Dc,Bc)],["rdgy",fd(Lc,Fc)],["rdylbu",fd(Pc,Uc)],["rdylgn",fd(Vc,$c)],["spectral",fd(Rc,jc)],["burd",pd(Dc,Bc)],["buylrd",pd(Pc,Uc)],["blues",dd(fl,pl)],["greens",dd(ml,gl)],["greys",dd(yl,bl)],["oranges",dd(Sl,Al)],["purples",dd(vl,_l)],["reds",dd(wl,xl)],["turbo",md(Gl)],["viridis",md(Xl)],["magma",md(Jl)],["inferno",md(Zl)],["plasma",md(Ql)],["cividis",md(Il)],["cubehelix",md(Vl)],["warm",md($l)],["cool",md(Rl)],["bugn",dd(zc,Hc)],["bupu",dd(Wc,qc)],["gnbu",dd(Yc,Gc)],["orrd",dd(Kc,Xc)],["pubu",dd(Qc,tl)],["pubugn",dd(Jc,Zc)],["purd",dd(el,nl)],["rdpu",dd(rl,il)],["ylgn",dd(ol,cl)],["ylgnbu",dd(sl,al)],["ylorbr",dd(ll,ul)],["ylorrd",dd(hl,dl)],["rainbow",gd(zl)],["sinebow",gd(Yl)]]);function dd(t,e){return({length:n})=>1===n?[t[3][1]]:2===n?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)))>9?ji(e,n):t[n]}function fd(t,e){return({length:n})=>2===n?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)))>11?ji(e,n):t[n]}function pd(t,e){return({length:n})=>2===n?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)))>11?ji((t=>e(1-t)),n):t[n].slice().reverse()}function md(t){return({length:e})=>ji(t,Math.max(2,Math.floor(e)))}function gd(t){return({length:e})=>ji(t,Math.floor(e)+1).slice(0,-1)}function yd(t){const e=`${t}`.toLowerCase();if(!hd.has(e))throw new Error(`unknown scheme: ${e}`);return hd.get(e)}function bd(t,e){const n=yd(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const vd=new Map([["brbg",Tc],["prgn",kc],["piyg",Nc],["puor",Oc],["rdbu",Bc],["rdgy",Fc],["rdylbu",Uc],["rdylgn",$c],["spectral",jc],["burd",t=>Bc(1-t)],["buylrd",t=>Uc(1-t)],["blues",pl],["greens",gl],["greys",bl],["purples",_l],["reds",xl],["oranges",Al],["turbo",Gl],["viridis",Xl],["magma",Jl],["inferno",Zl],["plasma",Ql],["cividis",Il],["cubehelix",Vl],["warm",$l],["cool",Rl],["bugn",Hc],["bupu",qc],["gnbu",Gc],["orrd",Xc],["pubugn",Zc],["pubu",tl],["purd",nl],["rdpu",il],["ylgnbu",al],["ylgn",cl],["ylorbr",ul],["ylorrd",dl],["rainbow",zl],["sinebow",Yl]]);function _d(t){const e=`${t}`.toLowerCase();if(!vd.has(e))throw new Error(`unknown scheme: ${e}`);return vd.get(e)}const wd=t=>e=>t(1-e),xd=[0,1],Sd=new Map([["number",gn],["rgb",pr],["hsl",mi],["hcl",Li],["lab",function(t,e){var n=fr((t=Ai(t)).l,(e=Ai(e)).l),r=fr(t.a,e.a),i=fr(t.b,e.b),s=fr(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=s(e),t+""}}]]);function Ad(t){const e=`${t}`.toLowerCase();if(!Sd.has(e))throw new Error(`unknown interpolator: ${e}`);return Sd.get(e)}function Id(t,e,n,{type:r,nice:i,clamp:s,zero:a,domain:o=Ed(t,n),unknown:c,round:l,scheme:u,range:h=(ud.get(t)===ad?Dd(n,o):ud.get(t)===od?Bd(n,o):ud.get(t)===cd?xd:void 0),interpolate:d=(ud.get(t)===sd?null==u&&void 0!==h?pr:_d(void 0!==u?u:"cyclical"===r?"rainbow":"turbo"):l?fi:gn),reverse:p}){if("cyclical"!==r&&"sequential"!==r||(r="linear"),p=!!p,"function"!=typeof d&&(d=Ad(d)),1===d.length?(p&&(d=wd(d),p=!1),void 0===h&&2===(h=Float64Array.from(o,((t,e)=>e/(o.length-1)))).length&&(h=xd),e.interpolate((h===xd?Gu:Pd)(d))):e.interpolate(d),a){const[t,e]=f(o);(t>0||e<0)&&(Ah(o=Array.from(o))<0?o[o.length-1]=0:o[0]=0)}return p&&(o=lt(o)),e.domain(o).unknown(c),i&&(e.nice(!0===i?void 0:i),o=e.domain()),void 0!==h&&e.range(h),s&&e.clamp(s),{type:r,domain:o,range:h,scale:e,interpolate:d}}function Td(t,e,{exponent:n=1,...r}){return Id(t,Es().exponent(n),e,{...r,type:"pow"})}function Md(t,e,{base:n=10,domain:r=Ld(e),...i}){return Id(t,xs().base(n),e,{...i,domain:r})}function kd(t,e,{constant:n=1,...r}){return Id(t,Ts().constant(n),e,r)}function Cd(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:s,range:a=(void 0!==s?ji(s,n.length+1):ud.get(t)===sd?bd(i,n.length+1):void 0),reverse:o}){const c=Ah(Qu(n));if(!function(t,e=st){const n=[];let r,i=!1;for(const s of t)i&&n.push(e(r,s)),r=s,i=!0;return n}(n).every((([t,e])=>function(t,e,n){const r=u(t,e);return 0===r||r===n}(t,e,c))))throw new Error(`the ${t} scale has a non-monotonic domain`);return o&&(a=lt(a)),{type:"threshold",scale:Ds(c<0?lt(n):n,void 0===a?[]:a).unknown(r),domain:n,range:a}}function Nd(t,e=Bh){return t.length?[Y(t,(({value:t})=>void 0===t?t:Y(t,e))),q(t,(({value:t})=>void 0===t?t:q(t,e)))]:[0,1]}function Ed(t,e){const n=ud.get(t);return(n===ad||n===cd||n===od?Od:Nd)(e)}function Od(t){return[0,t.length?q(t,(({value:t})=>void 0===t?t:q(t,Bh))):1]}function Dd(t,e){const n=X(t,.5,(({value:t})=>void 0===t?NaN:X(t,.25,Lh))),r=e.map((t=>3*Math.sqrt(t/n))),i=30/q(r);return i<1?r.map((t=>t*i)):r}function Bd(t,e){const n=nt(t,(({value:t})=>void 0===t?NaN:nt(t,Math.abs))),r=e.map((t=>12*t/n)),i=60/q(r);return i<1?r.map((t=>t*i)):r}function Ld(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n=+n,n>0)return Nd(t,Lh);if(n<0)return Nd(t,Fh)}return[1,10]}function Fd(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function Pd(t){return(e,n)=>r=>t(e+r*(n-e))}function Ud(t,e,n,r,{type:i,nice:s,clamp:a,domain:o=Nd(r),unknown:c,pivot:l=0,scheme:u,range:h,symmetric:d=!0,interpolate:f=(ud.get(t)===sd?null==u&&void 0!==h?pr:_d(void 0!==u?u:"rdbu"):gn),reverse:p}){l=+l;let[m,g]=o;if(m=Math.min(m,l),g=Math.max(g,l),"function"!=typeof f&&(f=Ad(f)),void 0!==h&&(f=1===f.length?Pd(f)(...h):Ri(f,h)),p&&(f=wd(f)),d){const t=n.apply(l),e=t-n.apply(m),r=n.apply(g)-t;e<r?m=n.invert(t-r):e>r&&(g=n.invert(t+e))}return e.domain([m,l,g]).unknown(c).interpolator(f),a&&e.clamp(a),s&&e.nice(s),{type:i,domain:[m,g],pivot:l,interpolate:f,scale:e}}function Vd(t,e,n){return Ud(t,lc(),zd,e,n)}function $d(t,e,{exponent:n=1,...r}){return Ud(t,dc().exponent(n=+n),function(t){return.5===t?Wd:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(n),e,{...r,type:"diverging-pow"})}function Rd(t,e,{base:n=10,pivot:r=1,domain:i=Nd(e,r<0?Fh:Lh),...s}){return Ud(t,uc().base(n=+n),Hd,e,{domain:i,pivot:r,...s})}function jd(t,e,{constant:n=1,...r}){return Ud(t,hc().constant(n=+n),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(n),e,r)}const zd={apply:t=>t,invert:t=>t},Hd={apply:Math.log,invert:Math.exp},Wd={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function qd(t,e,n,r){return Id(t,e,n,r)}const Yd=Symbol("ordinal");function Gd(t,e,{type:n,domain:r=Xd(e),range:i,reverse:s,hint:a}){return"categorical"!==n&&n!==Yd||(n="ordinal"),s&&(r=lt(r)),t.domain(r),void 0!==i&&("function"==typeof i&&(i=i(r)),t.range(i)),{type:n,domain:r,range:i,scale:t,hint:a}}function Kd(t,e,n){let{round:r}=n;return void 0!==r&&t.round(r=!!r),(t=Gd(t,e,n)).round=r,t}function Xd(t){const e=new m;for(const{value:n,domain:r}of t){if(void 0!==r)return r();if(void 0!==n)for(const t of n)e.add(t)}return I(e,Oh)}let Jd=0;function Zd(t){console.warn(t),++Jd}function Qd(t,e){if(void 0===t.range){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:s=0,marginRight:a=0}=e,o=s+n,c=i-a-r;t.range=[o,Math.max(o,c)],cf(t)||(t.range=nf(t)),t.scale.range(t.range)}ef(t)}function tf(t,e){if(void 0===t.range){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:s=0,marginBottom:a=0}=e,o=s+n,c=i-a-r;t.range=[Math.max(o,c),o],cf(t)?t.range.reverse():t.range=nf(t),t.scale.range(t.range)}ef(t)}function ef(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,s=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,o=Math.abs(r-n)/Math.max(1,a+2*s);return(o-Math.floor(o))*a}(t)<=30&&t.scale.round(!0)}function nf(t){const e=t.scale.domain().length+function({type:t}){return"threshold"===t}(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},((t,i)=>n+i/(e-1)*(r-n)))}function rf(t,e=[],n={}){const r=function(t,e,{type:n,domain:r,range:i,scheme:s}){if("fx"===t||"fy"===t)return"band";for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const a=ud.get(t);if(a===sd&&void 0===i&&void 0===s&&of(r,e,yh))return"identity";if(a===ld&&void 0===i&&of(r,e,xh))return"identity";if(a===ad)return"sqrt";if(a===cd||a===od)return"linear";if(a===ld)return"ordinal";if((r||i||[]).length>2)return af(a);if(void 0!==r)return hh(r)?af(a):dh(r)?"utc":"linear";const o=e.map((({value:t})=>t)).filter((t=>void 0!==t));return o.some(hh)?af(a):o.some(dh)?"utc":"linear"}(t,e,n);if(void 0===n.type&&void 0===n.domain&&void 0===n.range&&"fx"!==t&&"fy"!==t&&cf({type:r})){const n=e.map((({value:t})=>t)).filter((t=>void 0!==t));n.some(dh)?Zd(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${sf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${sf(r)}".`):n.some(fh)?Zd(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${sf(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${sf(r)}".`):n.some(ph)&&Zd(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${sf(r)}" scale. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${sf(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=df(e,n,pf,Float64Array);break;case"identity":switch(ud.get(t)){case id:n=df(e,n,pf,Float64Array);break;case ld:n=df(e,n,Sh)}break;case"utc":case"time":n=df(e,n,mf)}switch(r){case"diverging":return Vd(t,e,n);case"diverging-sqrt":return function(t,e,n){return $d(t,e,{...n,exponent:.5})}(t,e,n);case"diverging-pow":return $d(t,e,n);case"diverging-log":return Rd(t,e,n);case"diverging-symlog":return jd(t,e,n);case"categorical":case"ordinal":case Yd:return function(t,e,{type:n,domain:r=Xd(e),range:i,scheme:s,unknown:a,...o}){let c;if(ud.get(t)===ld)c=function(t){const e={};for(const{hint:n}of t)for(const t of["fill","stroke"]){const r=n[t];t in e?e[t]!==r&&(e[t]=void 0):e[t]=r}return e}(e),i=void 0===i?function(t){return bh(t.fill)?Bu:Du}(c):Array.from(i,Sh);else if(ud.get(t)===sd&&(void 0!==i||"ordinal"!==n&&n!==Yd||(i=function(t,e="greys"){const n=new Set,[r,i]=bd(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(i);else{if(!1!==e)return;n.add(r)}return[...n]}(r,s),void 0!==i&&(s=void 0)),void 0===s&&void 0===i&&(s="ordinal"===n?"turbo":"tableau10"),void 0!==s))if(void 0!==i){const t=_d(s),e=i[0],n=i[1]-i[0];i=({length:r})=>ji((r=>t(e+n*r)),r)}else i=yd(s);if(a===Zi)throw new Error("implicit unknown is not supported");return Gd(Qi().unknown(a),e,{...o,type:n,domain:r,range:i,hint:c})}(t,e,n);case"cyclical":case"sequential":case"linear":return function(t,e,n){return Id(t,ds(),e,n)}(t,e,n);case"sqrt":return function(t,e,n){return Td(t,e,{...n,exponent:.5})}(t,e,n);case"threshold":return Cd(t,0,n);case"quantile":return function(t,e,{range:n,quantiles:r=(void 0===n?5:(n=[...n]).length),n:i=r,scheme:s="rdylbu",domain:a=Fd(e),interpolate:o,reverse:c}){return void 0===n&&(n=void 0!==o?ji(o,i):ud.get(t)===sd?bd(s,i):void 0),Cd(t,0,{domain:Os(a,void 0===n?{length:i}:n).quantiles(),range:n,reverse:c})}(t,e,n);case"quantize":return function(t,e,{range:n,n:r=(void 0===n?5:(n=[...n]).length),scheme:i="rdylbu",domain:s=Ed(t,e),interpolate:a,reverse:o}){const[c,l]=f(s);let u;return void 0===n?(u=R(c,l,r),u[0]<=c&&u.splice(0,1),u[u.length-1]>=l&&u.pop(),r=u.length+1,n=void 0!==a?ji(a,r):ud.get(t)===sd?bd(i,r):void 0):(u=ji(gn(c,l),r+1).slice(1,-1),c instanceof Date&&(u=u.map((t=>new Date(t))))),Ah(Qu(s))<0&&u.reverse(),Cd(t,0,{domain:u,range:n,reverse:o})}(t,e,n);case"pow":return Td(t,e,n);case"log":return Md(t,e,n);case"symlog":return kd(t,e,n);case"utc":return function(t,e,n){return qd(t,function(){return Xi.apply(ac(Na,Ea,ka,Ta,ba,ga,pa,da,qs,Va).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),e,n)}(t,e,n);case"time":return function(t,e,n){return qd(t,function(){return Xi.apply(ac(Oa,Da,ua,ca,ta,Zs,Xs,Gs,qs,Ua).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),e,n)}(t,e,n);case"point":return function(t,e,{align:n=.5,padding:r=.5,...i}){return Kd(function(){return es(ts.apply(null,arguments).paddingInner(1))}().align(n).padding(r),e,i)}(0,e,n);case"band":return function(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:s=("fx"===t||"fy"===t?0:r),...a}){return Kd(ts().align(n).paddingInner(i).paddingOuter(s),e,a)}(t,e,n);case"identity":return ud.get(t)===id?{type:"identity",scale:fs()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function sf(t){return"symbol"==typeof t?t.description:t}function af(t){switch(t){case id:return"point";case sd:return Yd;default:return"ordinal"}}function of(t,e,n){return void 0!==t?mh(t,n)&&gh(t,n):e.some((({value:t})=>void 0!==t&&mh(t,n)))&&e.every((({value:t})=>void 0===t||gh(t,n)))}function cf({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===Yd}function lf({range:t,domain:e=t}){return Math.sign(Ah(e))*Math.sign(Ah(t))}function uf(t,e){const n=Object.create(null);for(let[r,{value:i,scale:s}]of t)void 0!==r&&(void 0!==s&&(s=e[s],void 0!==s&&(i=Array.from(i,s))),n[r]=i);return n}function hf(t){const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function df(t,e,n,r){for(const e of t)e.value=ff(e.value,n,r);return{...e,domain:ff(e.domain,n,r)}}function ff(t,e,n=Array){if(void 0!==t)return n.from(t,e)}function pf(t){return null==t?NaN:+t}function mf(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?i(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function gf(t,e,n){if(void 0===e.ticks){const[r,i]=f(t.scale.range());e.ticks=(i-r)/n}}function yf(t,e,n){void 0===t.labelAnchor&&(t.labelAnchor=cf(e)?"center":lf(e)<0?"left":"right"),void 0===t.label&&(t.label=_f(n,e,t,"x")),e.label=t.label}function bf(t,e,n,r){void 0===t.labelAnchor&&(t.labelAnchor=cf(n)?"center":e&&"top"===e.axis?"bottom":"top"),void 0===t.label&&(t.label=_f(r,n,t,"y")),n.label=t.label}function vf(t,e,n,r){r&&(e.label=r.label),void 0===e.label&&(e.label=_f(n,e,null,t))}function _f(t=[],e,n,r){let i;for(const{label:e}of t)if(void 0!==e)if(void 0===i)i=e;else if(i!==e)return;if(void 0!==i){if(function({type:t}){return"time"===t||"utc"===t}(e)&&/^(date|time|year)$/i.test(i))return;if(!cf(e)&&(e.percent&&(i=`${i} (%)`),"x"===r||"y"===r)){const t=lf(e);t&&(i="x"===r||n&&"center"===n.labelAnchor?"x"===r==t<0?` ${i}`:`${i} `:`${t<0?" ":" "}${i}`)}}return i}function wf(t){return cf(t)?void 0:"tabular-nums"}function xf(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function Sf(t,e,n){const r=Af(t,e,n),[i,s]=sh(r.label);let a;return{name:t,output:i,initialize(t){r.initialize(t),a=s([])},scope(t,e){r.scope(t,e)},reduce(t,e){a.push(r.reduce(t,e))}}}function Af(t,e,n){const r=function(t,e){if(void 0!==e[t])return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return e[t]}(t,n),i=Tf(e,r);let s,a;return{label:oh(i===Of?null:r,i.label),initialize(t){s=void 0===r?t:Uu(t,r),"data"===i.scope&&(a=i.reduce(nh(t),s))},scope(t,e){i.scope===t&&(a=i.reduce(e,s))},reduce:(t,e)=>null==i.scope?i.reduce(t,s,e):i.reduce(t,s,a,e)}}function If(t,e){return e?I(w(t,(t=>e[t])),qu):[[,t]]}function Tf(t,e){if(t&&"function"==typeof t.reduce)return t;if("function"==typeof t)return n=t,{reduce:(t,e,r)=>n(ih(e,t),r)};var n;if(/^p\d{2}$/i.test(t))return Mf(function(t){const e=+`${t}`.slice(1)/100;return(t,n)=>X(t,e,n)}(t));switch(`${t}`.toLowerCase()){case"first":return Cf;case"last":return Ef;case"count":return Of;case"distinct":return Df;case"sum":return null==e?Of:Bf;case"proportion":return Lf(e,"data");case"proportion-facet":return Lf(e,"facet");case"deviation":return Mf(d);case"min":return Mf(Y);case"min-index":return Mf(rt);case"max":return Mf(q);case"max-index":return Mf(tt);case"mean":return Mf(et);case"median":return Mf(nt);case"variance":return Mf(h);case"mode":return Mf(it);case"x":return Pf;case"x1":return Vf;case"x2":return $f;case"y":return Uf;case"y1":return Rf;case"y2":return jf}throw new Error(`invalid reduce: ${t}`)}function Mf(t){return{reduce:(e,n)=>t(e,(t=>n[t]))}}const kf={reduce:(t,e)=>ih(e,t)},Cf={reduce:(t,e)=>e[t[0]]},Nf={reduce(t,e){const n=I(S(t,(t=>t.length),(t=>e[t])),Yu),r=n.slice(-5).reverse();if(r.length<n.length){const t=n.slice(0,-4);r[4]=[` ${t.length.toLocaleString("en-US")} more`,ct(t,Yu)]}return r.map((([t,e])=>`${t} (${e.toLocaleString("en-US")})`)).join("\n")}},Ef={reduce:(t,e)=>e[t[t.length-1]]},Of={label:"Frequency",reduce:t=>t.length},Df={label:"Distinct",reduce:(t,e)=>{const n=new m;for(const r of t)n.add(e[r]);return n.size}},Bf=Mf(ct);function Lf(t,e){return null==t?{scope:e,label:"Frequency",reduce:(t,e,n=1)=>t.length/n}:{scope:e,reduce:(t,e,n=1)=>ct(t,(t=>e[t]))/n}}function Ff(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const Pf={reduce:(t,e,{x1:n,x2:r})=>Ff(n,r)},Uf={reduce:(t,e,{y1:n,y2:r})=>Ff(n,r)},Vf={reduce:(t,e,{x1:n})=>n},$f={reduce:(t,e,{x2:n})=>n},Rf={reduce:(t,e,{y1:n})=>n},jf={reduce:(t,e,{y2:n})=>n};function zf(t,{scale:e,type:n,value:r,filter:i,hint:s}){return{scale:e,type:n,value:Uu(t,r),label:oh(r),filter:i,hint:s}}function Hf(t,e,n){const r=Wf(t,e),i=Wf(t,n);return Float64Array.from(i,((t,e)=>Math.abs(t-r[e])))}function Wf(t,e,n){let r=t.find((([t])=>t===e));if(r||void 0===n||(r=t.find((([t])=>t===n))),r)return r[1].value;throw new Error(`missing channel: ${e}`)}function qf([t,e],[n,r]){return s(e,r)||s(t,n)}function Yf([t,e],[n,r]){return u(e,r)||s(t,n)}function Gf({y:t,fy:e,fx:n}){const r=e?e.scale.domain().length:1,i=t?cf(t)?t.scale.domain().length:Math.max(7,17/r):1;return!(!t&&!e)*Math.max(1,Math.min(60,i*r))*20+30*!!n+60}function Kf(t,e){if(null==e)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function Xf(t,{columns:e,tickFormat:n,fontVariant:r=wf(t),swatchSize:i=15,swatchWidth:s=i,swatchHeight:a=i,marginLeft:o=0,className:c,style:l,width:u}={},h,d){c=Gh(c),n=ed(n,t.domain);const f=eu("div").attr("class",c).attr("style",`\n        --swatchWidth: ${+s}px;\n        --swatchHeight: ${+a}px;\n      `);let p;return null!=e?(p=`\n      .${c}-swatch {\n        display: flex;\n        align-items: center;\n        break-inside: avoid;\n        padding-bottom: 1px;\n      }\n      .${c}-swatch::before {\n        flex-shrink: 0;\n      }\n      .${c}-label {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    `,f.style("columns",e).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(h,t).call((t=>t.append("div").attr("class",`${c}-label`).attr("title",n).text(n)))):(p=`\n      .${c} {\n        display: flex;\n        align-items: center;\n        min-height: 33px;\n        flex-wrap: wrap;\n      }\n      .${c}-swatch {\n        display: inline-flex;\n        align-items: center;\n        margin-right: 1em;\n      }\n    `,f.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(h,t).append((function(){return document.createTextNode(n.apply(this,arguments))}))),f.call((t=>t.insert("style","*").text(`\n        .${c} {\n          font-family: system-ui, sans-serif;\n          font-size: 10px;\n          margin-bottom: 0.5em;${void 0===o?"":`\n          margin-left: ${+o}px;`}${void 0===u?"":`\n          width: ${u}px;`}\n        }\n        ${d(c)}\n        ${p}\n      `))).style("font-variant",Wh(r,"normal")).call(Kh,l).node()}const Jf=new Map([["symbol",function(t,{fill:e=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:n=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:bh(e)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:s=1.5,r:a=4.5,...o}={},c){const[l,u]=Ku(e),[h,d]=Ku(r),f=Kf(c,l),p=Kf(c,h),m=a*a*Math.PI;return n=Xu(n)[1],i=Xu(i)[1],s=Xu(s)[1],Xf(t,o,(e=>e.append("svg").attr("viewBox","-8 -8 16 16").attr("fill","color"===l?t=>f.scale(t):null).attr("stroke","color"===h?t=>p.scale(t):null).append("path").attr("d",(e=>{const n=Ki();return t.scale(e).draw(n,m),n}))),(t=>`.${t}-swatch > svg {\n        width: var(--swatchWidth);\n        height: var(--swatchHeight);\n        margin-right: 0.5em;\n        overflow: visible;\n        fill: ${u};\n        fill-opacity: ${n};\n        stroke: ${d};\n        stroke-width: ${s}px;\n        stroke-opacity: ${i};\n      }`))}],["color",Qf],["opacity",function({type:t,interpolate:e,...n},{legend:r=!0,color:i=Kn(0,0,0),...s}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(!0===r&&(r="ramp"),"ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return Qf({type:t,...n,interpolate:tp(i)},{legend:r,...s})}]]);function Zf({label:t,ticks:e,tickFormat:n}={},r={}){return{label:t,ticks:e,tickFormat:n,...r}}function Qf(t,{legend:e=!0,...n}){if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return function(t,e){return Xf(t,e,(e=>e.style("--color",t.scale)),(t=>`.${t}-swatch::before {\n        content: "";\n        width: var(--swatchWidth);\n        height: var(--swatchHeight);\n        margin-right: 0.5em;\n        background: var(--color);\n      }`))}(t,n);case"ramp":return function(t,{label:e=t.label,tickSize:n=6,width:r=240,height:i=44+n,marginTop:s=18,marginRight:a=0,marginBottom:o=16+n,marginLeft:c=0,style:l,ticks:u=(r-c-a)/64,tickFormat:h,fontVariant:d=wf(t),round:f=!0,className:p}){p=Gh(p),null===h&&(h=()=>null);const m=eu("svg").attr("class",p).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",r).attr("height",i).attr("viewBox",`0 0 ${r} ${i}`).call((t=>t.append("style").text(`\n        .${p} {\n          display: block;\n          background: white;\n          height: auto;\n          height: intrinsic;\n          max-width: 100%;\n          overflow: visible;\n        }\n        .${p} text {\n          white-space: pre;\n        }\n      `))).call(Kh,l);let g,y=t=>t.selectAll(".tick line").attr("y1",s+o-i);const b=f?(t,e)=>t.rangeRound(e):(t,e)=>t.range(e),{type:v,domain:_,range:w,interpolate:x,scale:S,pivot:A}=t;if(x){const t=void 0===w?x:Ri(1===x.length?Pd(x):x,w);g=b(S.copy(),ji(gn(c,r-a),Math.min(_.length+(void 0!==A),void 0===w?1/0:w.length))),m.append("image").attr("x",c).attr("y",s).attr("width",r-c-a).attr("height",i-s-o).attr("preserveAspectRatio","none").attr("xlink:href",function(t,e=256){const n=eu("canvas").attr("width",e).attr("height",1).node(),r=n.getContext("2d");for(let n=0;n<e;++n)r.fillStyle=t(n/(e-1)),r.fillRect(n,0,1,1);return n}(t).toDataURL())}else if("threshold"===v){const t=_,e=void 0===h?t=>t:"string"==typeof h?li(h):h;g=b(ds().domain([-1,w.length-1]),[c,r-a]),m.append("g").selectAll().data(w).enter().append("rect").attr("x",((t,e)=>g(e-1))).attr("y",s).attr("width",((t,e)=>g(e)-g(e-1))).attr("height",i-s-o).attr("fill",(t=>t)),u=Array.from(t,((t,e)=>e)),h=n=>e(t[n],n)}else g=b(ts().domain(_),[c,r-a]),m.append("g").selectAll().data(_).enter().append("rect").attr("x",g).attr("y",s).attr("width",Math.max(0,g.bandwidth()-1)).attr("height",i-s-o).attr("fill",S),y=()=>{};return m.append("g").attr("transform",`translate(0,${i-o})`).call(wt(g).ticks(Array.isArray(u)?null:u,"string"==typeof h?h:void 0).tickFormat("function"==typeof h?h:void 0).tickSize(n).tickValues(Array.isArray(u)?u:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Wh(d,"normal")).call(y).call((t=>t.select(".domain").remove())).call(void 0===e?()=>{}:t=>t.append("text").attr("x",c).attr("y",s+o-i-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(e)),m.node()}(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function tp(t){const{r:e,g:n,b:r}=Kn(t)||Kn(0,0,0);return t=>`rgba(${e},${n},${r},${t})`}function ep({filter:t,sort:e,reverse:n,transform:r,...i}={},s){return void 0===r&&(null!=t&&(r=function(t){return(e,n)=>{const r=Uu(e,t);return{data:e,facets:n.map((t=>t.filter((t=>r[t]))))}}}(t)),null==e||th(e)||(r=np(r,function(t){return("function"==typeof t&&1!==t.length?ip:sp)(t)}(e))),n&&(r=np(r,rp))),{...i,...th(e)&&{sort:e},transform:np(r,s)}}function np(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:(n,r)=>(({data:n,facets:r}=t(n,r)),e(Qu(n),r))}function rp(t,e){return{data:t,facets:e.map((t=>t.slice().reverse()))}}function ip(t){return(e,n)=>{const r=(n,r)=>t(e[n],e[r]);return{data:e,facets:n.map((t=>t.slice().sort(r)))}}}function sp(t){return(e,n)=>{const r=Uu(e,t),i=(t,e)=>Oh(r[t],r[e]);return{data:e,facets:n.map((t=>t.slice().sort(i)))}}}function ap(t={}){const{facet:e,style:n,caption:r,ariaLabel:i,ariaDescription:s}=t,l=Gh(t.className),u=void 0===t.marks?[]:t.marks.flat(1/0).map(cp),h=new Map,d=new Map;let f,p,m,g,y;if(void 0!==e){const{x:t,y:n}=e;if(null!=t||null!=n){const r=Qu(e.data);if(m=[],null!=t){const e=zf(r,{value:t,scale:"fx"});m.push(["fx",e]),d.set("fx",[e])}if(null!=n){const t=zf(r,{value:n,scale:"fy"});m.push(["fy",t]),d.set("fy",[t])}p=nh(r),b=p,f=((v=m).length>1?dp:hp)(b,...v),g=Array.from(f,Yu)}}var b,v;for(const t of u){if(h.has(t))throw new Error("duplicate mark; each mark must be unique");const n=void 0===f?void 0:"auto"===t.facet?t.data===e.data?g:void 0:"include"===t.facet?g:"exclude"===t.facet?y||(y=g.map((t=>Uint32Array.from(ut(p,t))))):void 0,{index:r,channels:i}=t.initialize(n,m);for(const[,t]of i){const{scale:e}=t;if(void 0!==e){const n=d.get(e);void 0!==n?n.push(t):d.set(e,[t])}}h.set(t,{index:r,channels:i,faceted:void 0!==n})}for(const[e,n]of d){const{percent:r,transform:i=(r?t=>100*t:void 0)}=t[e]||{};if(null!=i)for(const t of n)t.value=Array.from(t.value,i)}const _=function(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:s=e,round:a,nice:o,clamp:c,align:l,padding:u,...h}={}){const d={};for(const e of ud.keys()){const f=t.get(e),p=h[e];if(f||p){const t=rf(e,f,{round:ud.get(e)===id?a:void 0,nice:o,clamp:c,align:l,padding:u,...p});if(t){let{percent:a,transform:o,inset:c,insetTop:l=(void 0!==c?c:"y"===e?n:0),insetRight:u=(void 0!==c?c:"x"===e?r:0),insetBottom:h=(void 0!==c?c:"y"===e?i:0),insetLeft:f=(void 0!==c?c:"x"===e?s:0)}=p||{};if(null==o)o=void 0;else if("function"!=typeof o)throw new Error("invalid scale transform; not a function");t.percent=!!a,t.transform=o,"x"===e||"fx"===e?(t.insetLeft=+f,t.insetRight=+u):"y"!==e&&"fy"!==e||(t.insetTop=+l,t.insetBottom=+h),d[e]=t}}}return d}(d,t),w=function(t){return Object.fromEntries(Object.entries(t).map((([t,{scale:e}])=>[t,e])))}(_),x=function({x:t,y:e,fx:n,fy:r},{x:i={},y:s={},fx:a={},fy:o={},axis:c=!0,grid:l,line:u,label:h,facet:{axis:d=c,grid:f,label:p=h}={}}={}){let{axis:m=c}=i,{axis:g=c}=s,{axis:y=d}=a,{axis:b=d}=o;return t?!0===m&&(m="bottom"):m=null,e?!0===g&&(g="left"):g=null,n?!0===y&&(y="bottom"===m?"top":"bottom"):y=null,r?!0===b&&(b="left"===g?"right":"left"):b=null,{...m&&{x:new Xh({grid:l,line:u,label:h,fontVariant:wf(t),...i,axis:m})},...g&&{y:new Jh({grid:l,line:u,label:h,fontVariant:wf(e),...s,axis:g})},...y&&{fx:new Xh({name:"fx",grid:f,label:p,...a,axis:y})},...b&&{fy:new Jh({name:"fy",grid:f,label:p,...o,axis:b})}}}(_,t),S=function(t,{x:{axis:e}={},y:{axis:n}={},fx:{axis:r}={},fy:{axis:i}={}},{width:s=640,height:a=Gf(t),facet:{margin:o,marginTop:c=(void 0!==o?o:"top"===r?30:0),marginRight:l=(void 0!==o?o:"right"===i?40:0),marginBottom:u=(void 0!==o?o:"bottom"===r?30:0),marginLeft:h=(void 0!==o?o:"left"===i?40:0)}={},margin:d,marginTop:f=(void 0!==d?d:Math.max(("top"===e?30:0)+c,n||i?20:.5-Ph)),marginRight:p=(void 0!==d?d:Math.max(("right"===n?40:0)+l,e||r?20:.5+Ph)),marginBottom:m=(void 0!==d?d:Math.max(("bottom"===e?30:0)+u,n||i?20:.5+Ph)),marginLeft:g=(void 0!==d?d:Math.max(("left"===n?40:0)+h,e||r?20:.5-Ph))}={}){return{width:s,height:a,marginTop:f,marginRight:p,marginBottom:m,marginLeft:g,facetMarginTop:c,facetMarginRight:l,facetMarginBottom:u,facetMarginLeft:h}}(_,x,t);!function({x:t,y:e,fx:n,fy:r},i){n&&Qd(n,i),r&&tf(r,i),t&&Qd(t,n?{width:n.scale.bandwidth()}:i),e&&tf(e,r?{height:r.scale.bandwidth()}:i)}(_,S),function(t,e,{x:n,y:r,fx:i,fy:s},a,o){if(i&&(yf(i,e.fx,t.get("fx")),void 0===i.labelOffset)){const{facetMarginTop:t,facetMarginBottom:e}=a;i.labelOffset="top"===i.axis?t:e}if(s&&(bf(s,i,e.fy,t.get("fy")),void 0===s.labelOffset)){const{facetMarginLeft:t,facetMarginRight:e}=a;s.labelOffset="left"===s.axis?t:e}if(n&&(yf(n,e.x,t.get("x")),void 0===n.labelOffset)){const{marginTop:t,marginBottom:e,facetMarginTop:r,facetMarginBottom:i}=a;n.labelOffset="top"===n.axis?t-r:e-i}if(r&&(bf(r,n,e.y,t.get("y")),void 0===r.labelOffset)){const{marginRight:t,marginLeft:e,facetMarginLeft:n,facetMarginRight:i}=a;r.labelOffset="left"===r.axis?e-n:t-i}for(const[n,r]of ud)r!==id&&e[n]&&vf(n,e[n],t.get(n),o[n])}(d,_,x,S,t),function({x:t,y:e,fx:n,fy:r},{x:i,y:s,fx:a,fy:o}){a&&gf(n,a,80),o&&gf(r,o,35),i&&gf(t,i,80),s&&gf(e,s,35)}(_,x);for(const t of h.values())t.values=uf(t.channels,w);const{width:A,height:I}=S,T=eu("svg").attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",A).attr("height",I).attr("viewBox",`0 0 ${A} ${I}`).attr("aria-label",i).attr("aria-description",s).call((t=>t.append("style").text(`\n        .${l} {\n          display: block;\n          background: white;\n          height: auto;\n          height: intrinsic;\n          max-width: 100%;\n        }\n        .${l} text,\n        .${l} tspan {\n          white-space: pre;\n        }\n      `))).call(Kh,n).node(),{fx:M,fy:k}=w,C=x[void 0!==f&&k?"fy":"y"],N=x[void 0!==f&&M?"fx":"x"];if(C&&T.appendChild(C.render(null,w,S)),N&&T.appendChild(N.render(null,w,S)),void 0!==f){const t=k&&k.domain(),e=M&&M.domain(),n=k&&{marginTop:0,marginBottom:0,height:k.bandwidth()},r=M&&{marginRight:0,marginLeft:0,width:M.bandwidth()},i={...S,...r,...n},s=new(m.length>1?pp:fp);f.forEach((([t],e)=>s.set(t,e)));const l=tu(T);if(k&&x.y){const r=x.y,i=up(r),a="bottom"===r.labelAnchor?t.length-1:"center"===r.labelAnchor?t.length>>1:0;l.selectAll().data(t).enter().append(((t,o)=>(o===a?r:i).render(M&&rh(e,(e=>s.has([e,t]))),w,{...S,...n,offsetTop:k(t)})))}if(M&&x.x){const n=x.x,i=up(n),a="right"===n.labelAnchor?e.length-1:"center"===n.labelAnchor?e.length>>1:0,{marginLeft:o,marginRight:c}=S;l.selectAll().data(e).enter().append(((e,l)=>(l===a?n:i).render(k&&rh(t,(t=>s.has([e,t]))),w,{...S,...r,labelMarginLeft:o,labelMarginRight:c,offsetLeft:M(e)})))}l.selectAll().data(function({fx:t,fy:e}){return t&&e?function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(c)).map(a),r=t.length-1,i=new Array(r+1).fill(0),s=[];if(r<0||n.some(o))return s;for(;;){s.push(i.map(((e,n)=>t[n][e])));let a=r;for(;++i[a]===n[a];){if(0===a)return e?s.map(e):s;i[a--]=0}}}(t.domain(),e.domain()):t?t.domain():e.domain()}(w).filter(s.has,s)).enter().append("g").attr("aria-label","facet").attr("transform",function(t,e){return t&&e?([n,r])=>`translate(${t(n)},${e(r)})`:t?e=>`translate(${t(e)},0)`:t=>`translate(0,${e(t)})`}(M,k)).each((function(t){const e=s.get(t);for(const[t,{channels:n,values:r,index:s,faceted:a}]of h){const o=t.filter(a?s[e]:s,n,r),c=t.render(o,w,r,i);null!=c&&this.appendChild(c)}}))}else for(const[t,{channels:e,values:n,index:r}]of h){const i=t.filter(r,e,n),s=t.render(i,w,n,S);null!=s&&T.appendChild(s)}let E=T;const O=function(t,e){const n=[];for(const[r,i]of Jf){const s=e[r];if(s?.legend&&r in t){const e=i(t[r],Zf(t[r],s),(e=>t[e]));null!=e&&n.push(e)}}return n}(_,t);if((null!=r||O.length>0)&&(E=document.createElement("figure"),E.style.maxWidth="initial",E.append(...O,T),null!=r)){const t=document.createElement("figcaption");t.append(r),E.append(t)}E.scale=function(t){return e=>{if(!ud.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return e in t?function({scale:t,type:e,domain:n,range:r,label:i,interpolate:s,transform:a,percent:o,pivot:c}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const l=t.unknown?t.unknown():void 0;return{type:e,domain:Array.from(n),...void 0!==r&&{range:Array.from(r)},...void 0!==a&&{transform:a},...o&&{percent:o},...void 0!==i&&{label:i},...void 0!==l&&{unknown:l},...void 0!==s&&{interpolate:s},...t.clamp&&{clamp:t.clamp()},...void 0!==c&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}(t[e]):void 0}}(_),E.legend=function(t,e={}){return(n,r)=>{if(!Jf.has(n))throw new Error(`unknown legend type: ${n}`);if(n in t)return Jf.get(n)(t[n],Zf(e[n],r),(e=>t[e]))}}(_,t);const D=function(){const t=Jd;return Jd=0,t}();return D>0&&tu(T).append("text").attr("x",A).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${D.toLocaleString("en-US")} warning${1===D?"":"s"}. Please check the console.`),E}class op{constructor(t,e=[],n={},r){const{facet:i="auto",sort:s,dx:a,dy:o,clip:c}=n,l=new Set;this.data=t,this.sort=th(s)?s:null,this.facet=null==i||!1===i?null:Zu(!0===i?"include":i,"facet",["auto","include","exclude"]);const{transform:u}=ep(n);this.transform=u,void 0!==r&&(e=function(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:s,target:a,fill:o,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:h,strokeLinejoin:d,strokeLinecap:f,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:b,paintOrder:v,shapeRendering:_},w,{ariaLabel:x,fill:S="currentColor",fillOpacity:A,stroke:I="none",strokeOpacity:T,strokeWidth:M,strokeLinecap:k,strokeLinejoin:C,strokeMiterlimit:N,paintOrder:E}){null===S&&(o=null,c=null),null===I&&(l=null,h=null),bh(S)?bh(I)||bh(o)||(I="none"):bh(I)&&!bh(l)&&(S="none");const[O,D]=Ku(o,S),[B,L]=Xu(c,A),[F,P]=Ku(l,I),[U,V]=Xu(h,T),[$,R]=Xu(y);vh(P)||(void 0===u&&(u=M),void 0===f&&(f=k),void 0===d&&(d=C),void 0!==p||function(t){return/^\s*round\s*$/i.test(t)}(d)||(p=N),vh(D)||void 0!==v||(v=E));const[j,z]=Xu(u);return null!==S&&(t.fill=Wh(D,"currentColor"),t.fillOpacity=qh(L,1)),null!==I&&(t.stroke=Wh(P,"none"),t.strokeWidth=qh(z,1),t.strokeOpacity=qh(V,1),t.strokeLinejoin=Wh(d,"miter"),t.strokeLinecap=Wh(f,"butt"),t.strokeMiterlimit=qh(p,4),t.strokeDasharray=Wh(m,"none"),t.strokeDashoffset=Wh(g,"0")),t.target=zu(a),t.ariaLabel=zu(x),t.ariaDescription=zu(i),t.ariaHidden=zu(s),t.opacity=qh(R,1),t.mixBlendMode=Wh(b,"normal"),t.paintOrder=Wh(v,"normal"),t.shapeRendering=Wh(_,"auto"),[...w,{name:"title",value:e,optional:!0},{name:"href",value:n,optional:!0},{name:"ariaLabel",value:r,optional:!0},{name:"fill",value:O,scale:"color",optional:!0},{name:"fillOpacity",value:B,scale:"opacity",optional:!0},{name:"stroke",value:F,scale:"color",optional:!0},{name:"strokeOpacity",value:U,scale:"opacity",optional:!0},{name:"strokeWidth",value:j,optional:!0},{name:"opacity",value:$,scale:"opacity",optional:!0}]}(this,n,e,r)),this.channels=e.filter((t=>{const{name:e,value:n,optional:r}=t;if(null==n){if(r)return!1;throw new Error(`missing channel value: ${e}`)}if(null==e)throw new Error("missing channel name");const i=`${e}`;if("__proto__"===i)throw new Error(`illegal channel name: ${i}`);if(l.has(i))throw new Error(`duplicate channel: ${i}`);return l.add(i),!0})),this.dx=+a||0,this.dy=+o||0,this.clip=function(t){if(!0===t)return"frame";if(null==t||!1===t)return!1;throw new Error(`invalid clip method: ${t}`)}(c)}initialize(t,e){let n=Qu(this.data),r=void 0===t&&null!=n?nh(n):t;void 0!==n&&void 0!==this.transform&&(void 0===t&&(r=r.length?[r]:[]),({facets:r,data:n}=this.transform(n,r)),n=Qu(n),void 0===t&&r.length&&([r]=r));const i=this.channels.map((t=>{const{name:e}=t;return[null==e?void 0:`${e}`,zf(n,t)]}));return null!=this.sort&&function(t,e,n,r){const{reverse:i,reduce:s=!0,limit:a}=r;for(const o in r){if(!ud.has(o))continue;let{value:c,reverse:l=i,reduce:u=s,limit:h=a}=lh(r[o]);if(void 0===l&&(l="width"===c||"height"===c),null==u||!1===u)continue;const d=t.find((([,{scale:t}])=>t===o))||e&&e.find((([,{scale:t}])=>t===o));if(!d)throw new Error(`missing channel for scale: ${o}`);const f=d[1].value,[p=0,m=1/0]=h&&"function"==typeof h[Symbol.iterator]?h:h<0?[h]:[0,h];if(null==c)d[1].domain=()=>{let t=f;return l&&(t=t.slice().reverse()),0===p&&m===1/0||(t=t.slice(p,m)),t};else{const e="data"===c?n:"height"===c?Hf(t,"y1","y2"):"width"===c?Hf(t,"x1","x2"):Wf(t,c,"y"===c?"y2":"x"===c?"x2":void 0),r=Tf(!0===u?"max":u,e);d[1].domain=()=>{let t=S(nh(f),(t=>r.reduce(t,e)),(t=>f[t]));return t=I(t,l?Yf:qf),0===p&&m===1/0||(t=t.slice(p,m)),t.map(qu)}}}}(i,e,n,this.sort),{index:r,channels:i}}filter(t,e,n){for(const[r,{filter:i=Eh}]of e)if(void 0!==r&&null!==i){const e=n[r];t=t.filter((t=>i(e[t])))}return t}plot({marks:t=[],...e}={}){return ap({...e,marks:[...t,this]})}}function cp(t){return t instanceof op?t:new lp(t)}class lp extends op{constructor(t){if(super(),null!=t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");this.render=t}}render(){}}function up(t){return void 0===t||void 0===t.label?t:Object.assign(Object.create(t),{label:void 0})}function hp(t,[,{value:e}]){return x(t,(t=>e[t]))}function dp(t,[,{value:e}],[,{value:n}]){return x(t,(t=>e[t]),(t=>n[t])).flatMap((([t,e])=>e.map((([e,n])=>[[t,e],n]))))}class fp{constructor(){this._=new p}has(t){return this._.has(t)}get(t){return this._.get(t)}set(t,e){return this._.set(t,e),this}}class pp extends fp{has([t,e]){const n=super.get(t);return!!n&&n.has(e)}get([t,e]){const n=super.get(t);return n&&n.get(e)}set([t,e],n){const r=super.get(t);return r?r.set(e,n):super.set(t,new p([[e,n]])),this}}function mp({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=yp(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function gp({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=yp(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function yp(t,e,n){return void 0===t&&void 0===e&&void 0===n?Ph?[1,0]:[.5,.5]:[e,n]}function bp(t){if(null!=t){if("number"==typeof t){const e=t;return{floor:t=>e*Math.floor(t/e),offset:t=>t+e,range:(t,n)=>at(Math.ceil(t/e),n/e).map((t=>e*t))}}if("function"!=typeof t.floor||"function"!=typeof t.offset)throw new Error("invalid interval; missing floor or offset function");return t}}function vp(t,e,n,r){const{[t]:i,[`${t}1`]:s,[`${t}2`]:a}=n,{value:o,interval:c}=function(t,{interval:e}){return(t={...lh(t)}).interval=bp(void 0===t.interval?e:t.interval),t}(i,n);if(null==o||null==c&&!r)return n;const l=oh(i);if(null==c){let e;const r={transform:t=>e||(e=Uu(t,o)),label:l};return{...n,[t]:void 0,[`${t}1`]:void 0===s?r:s,[`${t}2`]:void 0===a?r:a}}let u;const h=t=>u||(u=Uu(t,o).map((t=>c.floor(t))));return e({...n,[t]:void 0,[`${t}1`]:void 0===s?{transform:h,label:l}:s,[`${t}2`]:void 0===a?{transform:t=>h(t).map((t=>c.offset(t))),label:l}:a})}function _p(t={}){return vp("x",mp,t)}function wp(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}function xp(t,e=ju,n,{offset:r,order:i,reverse:s},a){const o=function({z:t,fill:e,stroke:n}={}){return void 0===t&&([t]=Ku(e)),void 0===t&&([t]=Ku(n)),t}(a),[c,l]=ah(t),[u,h]=sh(e),[d,f]=sh(e);return r=function(t){if(null!=t){if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return Ap;case"center":case"silhouette":return Ip;case"wiggle":return Tp}throw new Error(`unknown offset: ${t}`)}}(r),i=function(t,e,n){if(void 0===t&&e===Tp)return Dp;if(null!=t){if("string"==typeof t){switch(t.toLowerCase()){case"value":case n:return Cp;case"z":return Np;case"sum":return Ep;case"appearance":return Op;case"inside-out":return Dp}return Bp(Vu(t))}if("function"==typeof t)return Bp(t);if(Array.isArray(t))return r=t,(t,e,n,i)=>Lp(i,r);var r;throw new Error(`invalid order: ${t}`)}}(i,r,n),[ep(a,((n,a)=>{const c=null==t?void 0:l(Uu(n,t)),u=Uu(n,e,Float64Array),d=Uu(n,o),p=i&&i(n,c,u,d),m=n.length,g=h(new Float64Array(m)),y=f(new Float64Array(m)),b=[];for(const t of a){const e=c?Array.from(w(t,(t=>c[t])).values()):[t];p&&Fp(e,p);for(const t of e){let e=0,n=0;s&&t.reverse();for(const r of t){const t=u[r];t<0?e=y[r]=(g[r]=e)+t:t>0?n=y[r]=(g[r]=n)+t:y[r]=g[r]=n}}b.push(e)}return r&&r(b,g,y,d),{data:n,facets:a}})),c,u,d]}function Sp(t,e){let n=0,r=0;for(const i of t){const t=e[i];t<n&&(n=t),t>r&&(r=t)}return[n,r]}function Ap(t,e,n){for(const r of t)for(const t of r){const[r,i]=Sp(t,n);for(const s of t){const t=1/(i-r||1);e[s]=t*(e[s]-r),n[s]=t*(n[s]-r)}}}function Ip(t,e,n){for(const r of t){for(const t of r){const[r,i]=Sp(t,n);for(const s of t){const t=(i+r)/2;e[s]-=t,n[s]-=t}}Mp(r,e,n)}kp(t,e,n)}function Tp(t,e,n,r){for(const i of t){const t=new p;let s=0;for(const a of i){let i=-1;const o=a.map((t=>Math.abs(n[t]-e[t]))),c=a.map((s=>{i=r?r[s]:++i;const a=n[s]-e[s],o=t.has(i)?a-t.get(i):0;return t.set(i,a),o})),u=[0,...l(c)];for(const t of a)e[t]+=s,n[t]+=s;const h=ct(o);h&&(s-=ct(o,((t,e)=>(c[e]/2+u[e])*t))/h)}Mp(i,e,n)}kp(t,e,n)}function Mp(t,e,n){const r=Y(t,(t=>Y(t,(t=>e[t]))));for(const i of t)for(const t of i)e[t]-=r,n[t]-=r}function kp(t,e,n){const r=t.length;if(1===r)return;const i=t.map((t=>t.flat())),s=i.map((t=>(Y(t,(t=>e[t]))+q(t,(t=>n[t])))/2)),a=Y(s);for(let t=0;t<r;t++){const r=a-s[t];for(const s of i[t])e[s]+=r,n[s]+=r}}function Cp(t,e,n){return n}function Np(t,e,n,r){return r}function Ep(t,e,n,r){return Lp(r,k(nh(t),(t=>ct(t,(t=>n[t]))),(t=>r[t])))}function Op(t,e,n,r){return Lp(r,k(nh(t),(t=>e[ot(t,(t=>n[t]))]),(t=>r[t])))}function Dp(t,e,n,r){const i=nh(t),s=k(i,(t=>e[ot(t,(t=>n[t]))]),(t=>r[t])),a=S(i,(t=>ct(t,(t=>n[t]))),(t=>r[t])),o=[],c=[];let l=0;for(const t of s)l<0?(l+=a.get(t),o.push(t)):(l-=a.get(t),c.push(t));return Lp(r,c.reverse().concat(o))}function Bp(t){return e=>Uu(e,t)}function Lp(t,e){return e=new p(e.map(((t,e)=>[t,e]))),t.map((t=>e.get(t)))}function Fp(t,e){for(const n of t)n.sort(((t,n)=>Oh(e[t],e[n])))}class Pp extends op{constructor(t,e,n={},r){super(t,e,n,r);const{inset:i=0,insetTop:s=i,insetRight:a=i,insetBottom:o=i,insetLeft:c=i,rx:l,ry:u}=n;this.insetTop=Hu(s),this.insetRight=Hu(a),this.insetBottom=Hu(o),this.insetLeft=Hu(c),this.rx=Wh(l,"auto"),this.ry=Wh(u,"auto")}render(t,e,n,r){const{dx:i,dy:s,rx:a,ry:o}=this;return eu("svg:g").call(Rh,this,r).call(this._transform,e,i,s).call((i=>i.selectAll().data(t).enter().append("rect").call(jh,this).attr("x",this._x(e,n,r)).attr("width",this._width(e,n,r)).attr("y",this._y(e,n,r)).attr("height",this._height(e,n,r)).call(zh,"rx",a).call(zh,"ry",o).call($h,this,n))).node()}_x(t,{x:e},{marginLeft:n}){const{insetLeft:r}=this;return e?t=>e[t]+r:n+r}_y(t,{y:e},{marginTop:n}){const{insetTop:r}=this;return e?t=>e[t]+r:n+r}_width({x:t},{x:e},{marginRight:n,marginLeft:r,width:i}){const{insetLeft:s,insetRight:a}=this,o=e?t.bandwidth():i-n-r;return Math.max(0,o-s-a)}_height({y:t},{y:e},{marginTop:n,marginBottom:r,height:i}){const{insetTop:s,insetBottom:a}=this,o=e?t.bandwidth():i-n-r;return Math.max(0,o-s-a)}}const Up={ariaLabel:"bar"};class Vp extends Pp{constructor(t,e={}){const{x1:n,x2:r,y:i}=e;super(t,[{name:"x1",value:n,scale:"x"},{name:"x2",value:r,scale:"x"},{name:"y",value:i,scale:"y",type:"band",optional:!0}],e,Up)}_transform(t,{x:e},n,r){t.call(Hh,e,null,n,r)}_x({x:t},{x1:e,x2:n},{marginLeft:r}){const{insetLeft:i}=this;return hf(t)?r+i:t=>Math.min(e[t],n[t])+i}_width({x:t},{x1:e,x2:n},{marginRight:r,marginLeft:i,width:s}){const{insetLeft:a,insetRight:o}=this;return hf(t)?s-r-i-a-o:t=>Math.max(0,Math.abs(n[t]-e[t])-a-o)}}function $p(t,e={y:$u,x2:Ru}){return new Vp(t,function({x:t,x1:e,x2:n,...r}={}){return void 0===e&&void 0===n?function(t={},e={}){1===arguments.length&&([t,e]=wp(t));const{y1:n,y:r=n,x:i,...s}=e,[a,o,c,l]=xp(r,i,"x",t,s);return{...a,y1:n,y:o,x1:c,x2:l,x:ch(c,l)}}({x:t,...r}):([e,n]=eh(t,e,n),{...r,x1:e,x2:n})}(_p(function(t={}){const{x:e,x1:n,x2:r}=t;return void 0===n&&void 0===r&&void 0===e?{...t,x:Ru}:t}(e))))}const Rp={ariaLabel:"cell"};class jp extends Pp{constructor(t,{x:e,y:n,...r}={}){super(t,[{name:"x",value:e,scale:"x",type:"band",optional:!0},{name:"y",value:n,scale:"y",type:"band",optional:!0}],r,Rp)}_transform(){}}function zp(t,{x:e=$u,fill:n,stroke:r,...i}={}){return void 0===n&&void 0===Ku(r)[0]&&(n=Ru),new jp(t,{...i,x:e,fill:n,stroke:r})}const Hp={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"};class Wp extends op{constructor(t,e={}){const{x:n,y:r,text:i=(null!=t&&uh(t)?Ru:$u),frameAnchor:s,textAnchor:a=(/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle"),lineAnchor:o=(/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle"),lineHeight:c=1,lineWidth:l=1/0,monospace:u,fontFamily:h=(u?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:f,fontVariant:p,fontWeight:m,rotate:g}=e,[y,b]=Xu(g,0),[v,_]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),Kp.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);var w;super(t,[{name:"x",value:n,scale:"x",optional:!0},{name:"y",value:r,scale:"y",optional:!0},{name:"fontSize",value:v,optional:!0},{name:"rotate",value:(w=y,null==w?null:{transform:t=>Uu(t,w,Float64Array),label:oh(w)}),optional:!0},{name:"text",value:i,filter:Dh}],e,Hp),this.rotate=b,this.textAnchor=Wh(a,"middle"),this.lineAnchor=Zu(o,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.monospace=!!u,this.fontFamily=zu(h),this.fontSize=_,this.fontStyle=zu(f),this.fontVariant=zu(p),this.fontWeight=zu(m),this.frameAnchor=function(t="middle"){return Zu(t,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}(s)}render(t,{x:e,y:n},r,i){const{x:s,y:a,rotate:o,text:c,fontSize:l}=r,{dx:u,dy:h,rotate:d}=this,[f,p]=function({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:s,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-s:(r+n-s)/2]}(this,i);return eu("svg:g").call(Rh,this,i).call(Gp,this,c,i).call(Hh,e,n,Ph+u,Ph+h).call((e=>e.selectAll().data(t).enter().append("text").call(jh,this).call(qp,this,c).attr("transform",o?s&&a?t=>`translate(${s[t]},${a[t]}) rotate(${o[t]})`:s?t=>`translate(${s[t]},${p}) rotate(${o[t]})`:a?t=>`translate(${f},${a[t]}) rotate(${o[t]})`:t=>`translate(${f},${p}) rotate(${o[t]})`:d?s&&a?t=>`translate(${s[t]},${a[t]}) rotate(${d})`:s?t=>`translate(${s[t]},${p}) rotate(${d})`:a?t=>`translate(${f},${a[t]}) rotate(${d})`:`translate(${f},${p}) rotate(${d})`:s&&a?t=>`translate(${s[t]},${a[t]})`:s?t=>`translate(${s[t]},${p})`:a?t=>`translate(${f},${a[t]})`:`translate(${f},${p})`).call(zh,"font-size",l&&(t=>l[t])).call($h,this,r))).node()}}function qp(t,{monospace:e,lineAnchor:n,lineHeight:r,lineWidth:i},s){if(!s)return;const a=isFinite(i)?e?t=>Xp(t,i,Qp):t=>Xp(t,100*i,Zp):t=>t.split(/\r\n?|\n/g);t.each((function(t){const e=a(Ch(s[t])),i=e.length,o="top"===n?.71:"bottom"===n?1-i:(164-100*i)/200;if(i>1)for(let t=0;t<i;++t){if(!e[t])continue;const n=document.createElementNS(zt.svg,"tspan");n.setAttribute("x",0),n.setAttribute("y",(o+t)*r+"em"),n.textContent=e[t],this.appendChild(n)}else o&&this.setAttribute("y",o*r+"em"),this.textContent=e[0]}))}function Yp(t,{x:e,y:n,...r}={}){return void 0===r.frameAnchor&&([e,n]=function(t,e){return void 0===t&&void 0===e?[qu,Yu]:[t,e]}(e,n)),new Wp(t,{...r,x:e,y:n})}function Gp(t,e,n){zh(t,"text-anchor",e.textAnchor),zh(t,"font-family",e.fontFamily),zh(t,"font-size",e.fontSize),zh(t,"font-style",e.fontStyle),zh(t,"font-variant",void 0===e.fontVariant&&(function(t){for(const e of t)if(null!=e)return"number"==typeof e}(n)||dh(n))?"tabular-nums":e.fontVariant),zh(t,"font-weight",e.fontWeight)}const Kp=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Xp(t,e,n=((t,e,n)=>n-e)){const r=[];let i,s=0;for(const[a,o,c]of function*(t){let e=0,n=0;const r=t.length;for(;n<r;){let r=1;switch(t[n]){case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];" "===t[++n];);e=n;break;case"\r":"\n"===t[n+1]&&++r;case"\n":yield[e,n,!0],n+=r,e=n;break;default:++n}}yield[e,n,!0]}(t))void 0===i&&(i=a),s>i&&n(t,i,o)>e&&(r.push(t.slice(i,s)),i=a),c?(r.push(t.slice(i,o)),i=void 0):s=o;return r}const Jp={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47};function Zp(t,e,n){let r=0;for(let i=e;i<n;++i){r+=Jp[t[i]]||Jp.e;const e=t.charCodeAt(i);if(e>=55296&&e<=56319){const e=t.charCodeAt(i+1);e>=56320&&e<=57343&&++i}}return r}function Qp(t,e,n){return n-e}const tm={ariaLabel:"rect"};class em extends op{constructor(t,e={}){const{x1:n,y1:r,x2:i,y2:s,inset:a=0,insetTop:o=a,insetRight:c=a,insetBottom:l=a,insetLeft:u=a,rx:h,ry:d}=e;super(t,[{name:"x1",value:n,scale:"x",optional:!0},{name:"y1",value:r,scale:"y",optional:!0},{name:"x2",value:i,scale:"x",optional:!0},{name:"y2",value:s,scale:"y",optional:!0}],e,tm),this.insetTop=Hu(o),this.insetRight=Hu(c),this.insetBottom=Hu(l),this.insetLeft=Hu(u),this.rx=Wh(h,"auto"),this.ry=Wh(d,"auto")}render(t,{x:e,y:n},r,i){const{x1:s,y1:a,x2:o,y2:c}=r,{marginTop:l,marginRight:u,marginBottom:h,marginLeft:d,width:f,height:p}=i,{insetTop:m,insetRight:g,insetBottom:y,insetLeft:b,dx:v,dy:_,rx:w,ry:x}=this;return eu("svg:g").call(Rh,this,i).call(Hh,s&&o?e:null,a&&c?n:null,v,_).call((i=>i.selectAll().data(t).enter().append("rect").call(jh,this).attr("x",s&&o&&!hf(e)?t=>Math.min(s[t],o[t])+b:d+b).attr("y",a&&c&&!hf(n)?t=>Math.min(a[t],c[t])+m:l+m).attr("width",s&&o&&!hf(e)?t=>Math.max(0,Math.abs(o[t]-s[t])-b-g):f-u-d-g-b).attr("height",a&&c&&!hf(n)?t=>Math.max(0,Math.abs(a[t]-c[t])-m-y):p-l-h-m-y).call(zh,"rx",w).call(zh,"ry",x).call($h,this,r))).node()}}function nm(t,e={x:$u,interval:1,y2:Ru}){return new em(t,function({y:t,y1:e,y2:n,...r}={}){return void 0===e&&void 0===n?function(t={},e={}){1===arguments.length&&([t,e]=wp(t));const{x1:n,x:r=n,y:i,...s}=e,[a,o,c,l]=xp(r,i,"y",t,s);return{...a,x1:n,x:o,y1:c,y2:l,y:ch(c,l)}}({y:t,...r}):([e,n]=eh(t,e,n),{...r,y1:e,y2:n})}(function(t={}){return vp("x",mp,t,!0)}(function(t={}){const{y:e,y1:n,y2:r}=t;return void 0===n&&void 0===r&&void 0===e?{...t,y:Ru}:t}(e))))}function rm(t={y:"count"},e={}){[t,e]=function({cumulative:t,domain:e,thresholds:n,interval:r,...i},s){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...s}]}(t,e);const{x:n,y:r}=e;return function(t,e,n,r,{data:i=kf,filter:s=Of,sort:a,reverse:o,...c}={},l={}){t=im(t),e=im(e),c=function(t,e){const n=Object.entries(t);return null!=e.title&&void 0===t.title&&n.push(["title",Nf]),null!=e.href&&void 0===t.href&&n.push(["href",Cf]),n.map((([t,n])=>null==n?{name:t,initialize(){},scope(){},reduce(){}}:Sf(t,n,e)))}(c,l),i=Tf(i,Ru),a=null==a?void 0:Sf("sort",a,l),s=null==s?void 0:Af("filter",s,l),null!=n&&xf(c,"x","x1","x2")&&(n=null),null!=r&&xf(c,"y","y1","y2")&&(r=null);const[u,h]=ah(t),[d,f]=ah(t),[p,m]=ah(e),[g,y]=ah(e),[b,v]=null!=n?[n,"x"]:null!=r?[r,"y"]:[],[_,w]=ah(b),{x,y:S,z:A,fill:I,stroke:T,x1:M,x2:k,y1:C,y2:N,domain:E,cumulative:O,thresholds:D,interval:B,...L}=l,[F,P]=ah(A),[U]=Ku(I),[V]=Ku(T),[$=I,R]=ah(U),[j=T,z]=ah(V);return{..."z"in l&&{z:F||A},..."fill"in l&&{fill:$||I},..."stroke"in l&&{stroke:j||T},...ep(L,((n,r)=>{const l=Uu(n,b),u=Uu(n,A),d=Uu(n,U),p=Uu(n,V),g=function(t,e,n,r){return function(...t){for(const e of t)if(void 0!==e)return e}(t.some((t=>"z"===t.name))?void 0:e,t.some((t=>"fill"===t.name))?void 0:n,t.some((t=>"stroke"===t.name))?void 0:r)}(c,u,d,p),v=[],_=[],x=l&&w([]),S=u&&P([]),I=d&&R([]),T=p&&z([]),M=t?t(n):[[,,t=>t]],k=e?e(n):[[,,t=>t]],C=t&&h([]),N=t&&f([]),E=e&&m([]),O=e&&y([]);let D=0;for(const t of c)t.initialize(n);a&&a.initialize(n),s&&s.initialize(n);for(const t of r){const e=[];for(const e of c)e.scope("facet",t);a&&a.scope("facet",t),s&&s.scope("facet",t);for(const[r,o]of If(t,g))for(const[t,h]of If(o,l))for(const[o,f,m]of M){const y=m(h);for(const[h,m,b]of k){const v={x1:o,x2:f,y1:h,y2:m},w=b(y);if(!s||s.reduce(w,v)){e.push(D++),_.push(i.reduce(w,n,v)),l&&x.push(t),u&&S.push(g===u?r:u[w[0]]),d&&I.push(g===d?r:d[w[0]]),p&&T.push(g===p?r:p[w[0]]),C&&(C.push(o),N.push(f)),E&&(E.push(h),O.push(m));for(const t of c)t.reduce(w,v);a&&a.reduce(w)}}}v.push(e)}return function(t,e,n){if(e){const n=e.output.transform(),r=(t,e)=>Oh(n[t],n[e]);t.forEach((t=>t.sort(r)))}n&&t.forEach((t=>t.reverse()))}(v,a,o),{data:_,facets:v}})),...!xf(c,"x")&&(u?{x1:u,x2:d,x:ch(u,d)}:{x,x1:M,x2:k}),...!xf(c,"y")&&(p?{y1:p,y2:g,y:ch(p,g)}:{y:S,y1:C,y2:N}),..._&&{[v]:_},...Object.fromEntries(c.map((({name:t,output:e})=>[t,e])))}}(function(t,{cumulative:e,domain:n,thresholds:r,interval:i},s){return void 0===(t={...lh(t)}).domain&&(t.domain=n),void 0===t.cumulative&&(t.cumulative=e),void 0===t.thresholds&&(t.thresholds=r),void 0===t.interval&&(t.interval=i),void 0===t.value&&(t.value=s),t.thresholds=function(t,e){if(void 0===t)return void 0===e?sm:function(t){if(!am(t=bp(t)))throw new Error(`invalid interval: ${t}`);return t}(e);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return Z;case"scott":return Q;case"sturges":return W;case"auto":return sm}throw new Error(`invalid thresholds: ${t}`)}return t}(t.thresholds,t.interval),t}(n,e,Ru),null,null,r,t,mp(e))}function im(t){if(null==t)return;const{value:e,cumulative:n,domain:r=f,thresholds:i}=t,s=t=>{let s=Uu(t,e,Array);const a=function(){var t=_,e=f,n=W;function r(r){Array.isArray(r)||(r=Array.from(r));var i,s,a,o=r.length,c=new Array(o);for(i=0;i<o;++i)c[i]=t(r[i],i,r);var l=e(c),u=l[0],h=l[1],d=n(c,u,h);if(!Array.isArray(d)){const t=h,n=+d;if(e===f&&([u,h]=function(t,e,n){let r;for(;;){const i=j(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}(u,h,n)),(d=R(u,h,n))[0]<=u&&(a=j(u,h,n)),d[d.length-1]>=h)if(t>=h&&e===f){const t=j(u,h,n);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else d.pop()}for(var p=d.length;d[0]<=u;)d.shift(),--p;for(;d[p-1]>h;)d.pop(),--p;var m,g=new Array(p+1);for(i=0;i<=p;++i)(m=g[i]=[]).x0=i>0?d[i-1]:u,m.x1=i<p?d[i]:h;if(isFinite(a)){if(a>0)for(i=0;i<o;++i)null!=(s=c[i])&&u<=s&&s<=h&&g[Math.min(p,Math.floor((s-u)/a))].push(r[i]);else if(a<0)for(i=0;i<o;++i)if(null!=(s=c[i])&&u<=s&&s<=h){const t=Math.floor((u-s)*a);g[Math.min(p,t+(d[t]<=s))].push(r[i])}}else for(i=0;i<o;++i)null!=(s=c[i])&&u<=s&&s<=h&&g[F(d,s,0,p)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:P(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:P([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?P(N.call(t)):P(t),r):n},r}().value((t=>s[t]));if(dh(s)||function(t){return am(t)&&"function"==typeof t&&t()instanceof Date}(o=i)||o&&o[Symbol.iterator]&&dh(o)){s=s.map(mf);let[t,e]="function"==typeof r?r(s):r,n="function"!=typeof i||am(i)?i:i(s,t,e);"number"==typeof n&&(n=Ea(t,e,n)),am(n)&&(r===f&&(t=n.floor(t),e=n.ceil(new Date(+e+1))),n=n.range(t,e)),a.thresholds(n).domain([t,e])}else{s=s.map(pf);let t=r,e=i;if(am(e)){let[n,r]="function"==typeof t?t(s):t;t===f&&(n=e.floor(n),r=e.offset(e.floor(r)),t=[n,r]),e=e.range(n,r)}a.thresholds(e).domain(t)}var o;let c=a(nh(t)).map(om);return n&&(c=(n<0?c.reverse():c).map(cm)),c.map(lm)};return s.label=oh(e),s}function sm(t,e,n){return Math.min(200,Q(t,e,n))}function am(t){return!!t&&"function"==typeof t.range}function om(t){return[t,new Set(t)]}function cm([t],e,n){return[t,{get size(){for(let t=0;t<=e;++t)if(n[t][1].size)return 1;return 0},has(t){for(let r=0;r<=e;++r)if(n[r][1].has(t))return!0;return!1}}]}function lm([{x0:t,x1:e},n]){return[t,e,n.size?t=>t.filter(n.has,n):um]}function um(){return new Uint32Array(0)}const hm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class dm extends op{constructor(t,e={}){const{x:n,y1:r,y2:i,inset:s=0,insetTop:a=s,insetBottom:o=s}=e;super(t,[{name:"x",value:n,scale:"x",optional:!0},{name:"y1",value:r,scale:"y",optional:!0},{name:"y2",value:i,scale:"y",optional:!0}],e,hm),this.insetTop=Hu(a),this.insetBottom=Hu(o)}render(t,{x:e,y:n},r,i){const{x:s,y1:a,y2:o}=r,{width:c,height:l,marginTop:u,marginRight:h,marginLeft:d,marginBottom:f}=i,{insetTop:p,insetBottom:m}=this;return eu("svg:g").call(Rh,this,i).call(Hh,s&&e,null,Ph,0).call((e=>e.selectAll().data(t).enter().append("line").call(jh,this).attr("x1",s?t=>s[t]:(d+c-h)/2).attr("x2",s?t=>s[t]:(d+c-h)/2).attr("y1",a&&!hf(n)?t=>a[t]+p:u+p).attr("y2",o&&!hf(n)?n.bandwidth?t=>o[t]+n.bandwidth()-m:t=>o[t]-m:l-f-m).call($h,this,r))).node()}}class fm extends op{constructor(t,e={}){const{x1:n,x2:r,y:i,inset:s=0,insetRight:a=s,insetLeft:o=s}=e;super(t,[{name:"y",value:i,scale:"y",optional:!0},{name:"x1",value:n,scale:"x",optional:!0},{name:"x2",value:r,scale:"x",optional:!0}],e,hm),this.insetRight=Hu(a),this.insetLeft=Hu(o)}render(t,{x:e,y:n},r,i){const{y:s,x1:a,x2:o}=r,{width:c,height:l,marginTop:u,marginRight:h,marginLeft:d,marginBottom:f}=i,{insetLeft:p,insetRight:m,dx:g,dy:y}=this;return eu("svg:g").call(Rh,this,i).call(Hh,null,s&&n,g,Ph+y).call((n=>n.selectAll().data(t).enter().append("line").call(jh,this).attr("x1",a&&!hf(e)?t=>a[t]+p:d+p).attr("x2",o&&!hf(e)?e.bandwidth?t=>o[t]+e.bandwidth()-m:t=>o[t]-m:c-h-m).attr("y1",s?t=>s[t]:(u+l-f)/2).attr("y2",s?t=>s[t]:(u+l-f)/2).call($h,this,r))).node()}}function pm(t,e){let{x:n=Ru,y:r,y1:i,y2:s,...a}=function(t={}){return vp("y",gp,t)}(e);return[i,s]=gm(r,i,s),new dm(t,{...a,x:n,y1:i,y2:s})}function mm(t,e){let{y:n=Ru,x:r,x1:i,x2:s,...a}=_p(e);return[i,s]=gm(r,i,s),new fm(t,{...a,y:n,x1:i,x2:s})}function gm(t,e,n){if(void 0===t){if(void 0===e){if(void 0!==n)return[0,n]}else if(void 0===n)return[0,e]}else{if(void 0===e)return void 0===n?[0,t]:[t,n];if(void 0===n)return[t,e]}return[e,n]}const ym=n(9507),bm=ym.html,vm="date",_m="ordinal",wm="continuous",xm="count",Sm="inline-block",Am="visible",Im="none",Tm="blues",Mm=li(".1%"),km=new Map([[_m,"rgba(78, 121, 167, 1)"],[wm,"rgba(242, 142, 44, 1)"],[vm,"rgba(225,87,89, 1)"]].map((t=>{const e=Wn(t[1]),n=e.copy({opacity:.6});return[t[0],{color:e.formatRgb(),brighter:n.formatRgb()}]})));function Cm(t,e){const n=t[e];return null===n?_m:"number"==typeof n?wm:n instanceof Date?vm:_m}function Nm(t){const e=t[0]||{},n=t.columns||Object.keys(e),r=Em(t),i={rowCount:r.value.rowCount,columnCount:r.value.columnCount,columns:n},s=[];let a=ym.html`<div style="display: inline-block; vertical-align: top;">${r}</div>
      <div style="display: inline-block;">
        <table style="vertical-align: middle; display: block; overflow-x: auto; max-width: ${900}px;">
          <thead style="z-index: -999;">
          <th>column</th>
          <th style="min-width: 250px">snapshot</th>
          <th>missing</th>
          <th>mean</th>
          <th>median</th>
          <th>SD</th>
        </thead>
      ${n.map((e=>{const n=function(t,e){let n,r,i,s,a,o,c,l,u,h;const f=Cm(t,e),p=ym.html`<td 
    style="white-space: nowrap; vertical-align: middle; padding-right: 5px; padding-left: 3px;">
    ${Pm[f]()}
    <strong style="vertical-align: middle;">${""===e?"unlabeled":e}</strong></td>`;switch(f){case _m:r=li(",.0f");const m=function(t,e,...n){return A(t,Array.from,e,n)}(t,(e=>({count:e.length,percent:e.length/t.length||1})),(t=>t[e])).sort(((t,e)=>e[1].count-t[1].count)).map((t=>{let n={};return n[e]=null===t[0]||""===t[0]?"(missing)":t[0],n.count=t[1].count,n.percent=t[1].percent,n}));a=t.filter((t=>null===t[e])).length/t.length;const g=function(t,e){const n=1===t.length?" category":" categories";return Dm($p(t,{x:xm,fill:e,y:0,title:t=>t[e]+"\n"+Mm(t.percent)}).plot({color:{scheme:Tm},marks:[Yp([0,0],{x:0,dy:13,text:e=>li(",.0f")(t.length)+`${n}`})],width:205,height:30,style:{paddingTop:"0px",paddingBottom:"15px",textAnchor:"start",overflow:Am,width:"205px"},color:{domain:t.map((t=>t[e])),scheme:Tm,reverse:!0},x:{axis:null},y:{axis:null,range:[30,3]}}),{fill:"darkblue"})}(m,e);i=ym.html`<tr style="font-family: sans-serif; font-size: 12px;">
        ${p}          
        <td><div style="position: relative;">${g}</div></td>
        <td>${Mm(a)}</td>
        <td>-</td>
        <td>-</td>
        <td>-</td>
      </tr>`,n={column:e,type:f,min:null,max:null,mean:null,median:null,sd:null,missing:a,categories:m.length};break;case vm:const y=Y(t,(t=>+t[e])),b=q(t,(t=>+t[e]));u=et(t,(t=>+t[e])),l=nt(t,(t=>+t[e])),h=d(t,(t=>+t[e])),a=t.filter((t=>null===t[e])).length/t.length,s=Om(t,e,f),i=ym.html`<tr style="font-family: sans-serif; font-size: 12px;">
          ${p}
          <td><div style="position: relative;">${s}</div></td>
          <td>${Mm(a)}</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
        </tr>`,n={column:e,type:f,min:y,max:b,mean:null,median:null,sd:null,missing:a,categories:null};break;default:r=li(",.0f"),o=Y(t,(t=>+t[e])),c=q(t,(t=>+t[e])),u=et(t,(t=>+t[e])),l=nt(t,(t=>+t[e])),h=d(t,(t=>+t[e])),a=t.filter((t=>null===t[e])).length/t.length,s=Om(t,e,f),i=ym.html`<tr style="font-family: sans-serif; font-size: 12px;">
        ${p}
        <td><div style="position: relative; top: 3px;">${s}</div></td>
        <td>${Mm(a)}</td>
        <td>${r(u)}</td>
        <td>${r(l)}</td>
        <td>${r(h)}</td>
      </tr>`,n={column:e,type:f,min:o,max:c,mean:u,median:l,sd:h,missing:a,categories:null}}return i.value=n,i.appendChild(bm`<style>
    td {
      vertical-align: middle;
    }
  </style>`),i}(t,e);return s.push(n.value),n}))}
    </table>
  </div>`;return a.value=i,a}function Em(t){const e=t[0]||{},n=(t.columns||Object.keys(e)).map((e=>({label:""===e?"unlabeled":e,type:Cm(t,e)}))),r=n.length,i=t.length,s=Dm(zp(n,{fill:t=>km.get(t.type).color,title:t=>`${t.label}\n(${t.type})`}).plot({x:{axis:null},width:100,height:10,color:{domain:[...km.values()].map((t=>t.color))},style:{overflow:Am,width:"100px"}}),{stroke:"black","stroke-width":"3px"}),a=zp(n,{fill:t=>km.get(t.type).color,fillOpacity:.3}).plot({x:{axis:null},width:100,height:80,color:{domain:[...km.values()].map((t=>t.color))},style:{overflow:Am,width:"100px"}}),o={display:Sm,verticalAlign:"top",transformOrigin:"0 0",transform:"rotate(90deg)",marginTop:"20px",position:"absolute",left:"114px",top:"54px"},c=ym.html`<div class="data-summary-card">
      <span style="font-size:1.2em">${"summary"}</span>
      <div>${li(",.0f")(r)} </div>
      ${s}
      <span style="display: inline-block">${a}</span>
      <span style="display: inline-block; vertical-align: top; padding: 5px;">${li(",.0f")(i)}<br/></span>
      <span style=${o}></span>
    </div>`;return c.value={rowCount:i,columnCount:r},c}function Om(t,e,n=wm){const r=km.get(n).brighter,i=et(t,(t=>t[e])),s=f(t,(t=>t[e])),a=n===vm?Fm(s):li(",.0f"),o=[{label:"mean",value:i}];return Dm(ap({width:240,height:55,style:{display:Sm,width:"240px"},x:{label:"",ticks:s,tickFormat:a},y:{axis:null},marks:[nm(t,rm({y:xm,title:t=>{const r=f(t,(t=>t[e])),i=n===vm?Fm(r):li(",.0f");return`${t.length} rows\n[${i(r[0])} to ${i(r[1])}]`}},{x:e,fill:r})),mm([0]),pm(o,{x:"value",strokeWidth:2,title:t=>`${t.label} ${e}: ${a(t.value)}`})],style:{marginLeft:-17,background:Im,overflow:Am}}),{opacity:1,fill:km.get(n).color})}function Dm(t,e={fill:"blue",opacity:.5}){const n="FIGURE"===tu(t).node().tagName?tu(t).select("svg"):tu(t);n.style("overflow",Am),n.selectAll("path").style("pointer-events","visibleStroke");const r=n.selectAll(".hover-tip").data([""]).join("g").attr("class","hover").style("pointer-events",Im).style("text-anchor","middle"),i=Lm();tu(t).classed(i,!0).selectAll("title").each((function(){const t=tu(this),e=tu(this.parentNode),i=t.text();i&&(e.attr("__title",i).classed("has-title",!0),t.remove()),e.on("mousemove",(function(t){const e=tu(this).attr("__title"),i=function(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}(t,n.node());e?r.call(Bm,i,e.split("\n")):r.selectAll("*").remove();const s=r.node().getBBox();i[0]+s.x<0?r.attr("transform",`translate(${s.width/2}, ${i[1]+7})`):i[0]+s.width/2>n.attr("width")&&r.attr("transform",`translate(${n.attr("width")-s.width/2}, ${i[1]+7})`)})).on("mouseout",(t=>{r.selectAll("*").remove()}))})),n.on("touchstart",(()=>r.selectAll("*").remove()));const s=Object.keys(e).map((t=>`${t}: ${e[t]};`)).join(""),a=bm`<style>
    .${i} .has-title {
       cursor: pointer; 
       pointer-events: all;
    }
    .${i} .has-title:hover {
      ${s}
    }
  </style>`;return t.appendChild(a),t}function Bm(t,e,n){t.selectAll("*").remove(),t.style("text-anchor","middle").style("pointer-events",Im).attr("transform",`translate(${e[0]}, ${e[1]+7})`).selectAll("text").data(n).join("text").style("dominant-baseline","ideographic").text((t=>t)).attr("y",((t,e)=>15*(e-(n.length-1))-15)).style("font-weight",((t,e)=>0===e?"bold":"normal"));const r=t.node().getBBox();t.append("rect").attr("y",r.y-5).attr("x",r.x-10).attr("width",r.width+20).attr("height",r.height+10).style("fill","var(--vscode-editor-background)").style("stroke","var(--vscode-panel-border)").lower()}const Lm=()=>{var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"a"+t()+t()};function Fm(t){const e=Va(".%L"),n=Va(":%S"),r=Va("%I:%M"),i=Va("%I %p"),s=Va("%a %d"),a=Va("%b %d"),o=Va("%B"),c=Va("%Y");return t[1]>ka.offset(t[0],1)?c:t[1]>Ta.offset(t[0],1)?o:t[1]>ba.offset(t[0],1)?a:t[1]>ga.offset(t[0],1)?s:t[1]>pa.offset(t[0],1)?i:t[1]>da.offset(t[0],1)?r:t[1]>qs.offset(t[0],1)?n:t[1]>Hs.offset(t[0],1)?e:s}const Pm={ordinal:()=>bm`<div style="display:inline-block; border-radius:100%; width: 16px; height: 16px; background-color: ${km.get("ordinal").color}; transform: scale(1.3); vertical-align: middle; align-items: center;margin-right:8px;}">
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="4" y="4" width="2" height="2" fill="white"/>
    <rect x="7" y="4" width="6" height="2" fill="white"/>
    <rect x="4" y="7" width="2" height="2" fill="white"/>
    <rect x="7" y="7" width="6" height="2" fill="white"/>
    <rect x="4" y="10" width="2" height="2" fill="white"/>
    <rect x="7" y="10" width="6" height="2" fill="white"/>
  </svg>
</div>`,date:()=>bm`<div style="display:inline-block; border-radius:100%; width: 16px; height: 16px; background-color: ${km.get("date").color}; transform: scale(1.3); vertical-align: middle; align-items: center;margin-right:8px;}">
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="4" y="5" width="8" height="1" fill="white"/>
    <rect x="5" y="4" width="2" height="1" fill="white"/>
    <rect x="9" y="4" width="2" height="1" fill="white"/>
    <rect x="4" y="7" width="8" height="5" fill="white"/>
  </svg>
</div>`,continuous:()=>bm`<div style="display:inline-block; border-radius:100%; width: 16px; height: 16px; background-color: ${km.get("continuous").color}; transform: scale(1.3); vertical-align: middle; align-items: center;margin-right:8px;}">
  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="4" y="12" width="4" height="2" transform="rotate(-90 4 12)" fill="white"/>
    <rect x="7" y="12" width="6" height="2" transform="rotate(-90 7 12)" fill="white"/>
    <rect x="10" y="12" width="8" height="2" transform="rotate(-90 10 12)" fill="white"/>
  </svg>
</div>`}},9507:(t,e,n)=>{function r(t){const e=document.createElement("template");return e.innerHTML=t,document.importNode(e.content,!0)}function i(t){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t,e}n.r(e),n.d(e,{html:()=>s,svg:()=>a});const s=Object.assign(k(r,(t=>{if(null===t.firstChild)return null;if(t.firstChild===t.lastChild)return t.removeChild(t.firstChild);const e=document.createElement("span");return e.appendChild(t),e})),{fragment:k(r,(t=>t))}),a=Object.assign(k(i,(t=>null===t.firstChild?null:t.firstChild===t.lastChild?t.removeChild(t.firstChild):t)),{fragment:k(i,(t=>{const e=document.createDocumentFragment();for(;t.firstChild;)e.appendChild(t.firstChild);return e}))}),o=60,c=62,l=47,u=45,h=33,d=61,f=10,p=11,m=12,g=13,y=14,b=17,v=22,_=23,w=26,x="http://www.w3.org/2000/svg",S="http://www.w3.org/1999/xlink",A="http://www.w3.org/XML/1998/namespace",I="http://www.w3.org/2000/xmlns/",T=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((t=>[t.toLowerCase(),t]))),M=new Map([["xlink:actuate",S],["xlink:arcrole",S],["xlink:href",S],["xlink:role",S],["xlink:show",S],["xlink:title",S],["xlink:type",S],["xml:lang",A],["xml:space",A],["xmlns",I],["xmlns:xlink",I]]);function k(t,e){return function({raw:n}){let r,i,s,a,x=1,S="",A=0;for(let t=0,e=arguments.length;t<e;++t){const e=n[t];if(t>0){const r=arguments[t];switch(x){case w:if(null!=r){const t=`${r}`;if(B(i))S+=t.replace(/[<]/g,C);else{if(new RegExp(`</${i}[\\s>/]`,"i").test(S.slice(-i.length-2)+t))throw new Error("unsafe raw text");S+=t}}break;case 1:null==r||(r instanceof Node||"string"!=typeof r&&r[Symbol.iterator]||/(?:^|>)$/.test(n[t-1])&&/^(?:<|$)/.test(e)?(S+="\x3c!--::"+t+"--\x3e",A|=128):S+=`${r}`.replace(/[<&]/g,C));break;case 9:{let i;if(x=m,/^[\s>]/.test(e)){if(null==r||!1===r){S=S.slice(0,s-n[t-1].length);break}if(!0===r||""==(i=`${r}`)){S+="''";break}if("style"===n[t-1].slice(s,a)&&O(r)||"function"==typeof r){S+="::"+t,A|=1;break}}if(void 0===i&&(i=`${r}`),""===i)throw new Error("unsafe unquoted empty string");S+=i.replace(/^['"]|[\s>&]/g,C);break}case m:S+=`${r}`.replace(/[\s>&]/g,C);break;case p:S+=`${r}`.replace(/['&]/g,C);break;case f:S+=`${r}`.replace(/["&]/g,C);break;case 6:if(O(r)){S+="::"+t+"=''",A|=1;break}throw new Error("invalid binding");case b:break;default:throw new Error("invalid binding")}}for(let t=0,n=e.length;t<n;++t){const n=e.charCodeAt(t);switch(x){case 1:n===o&&(x=2);break;case 2:n===h?x=25:n===l?x=3:N(n)?(r=t,i=void 0,x=4,--t):63===n?(x=5,--t):(x=1,--t);break;case 3:N(n)?(x=4,--t):n===c?x=1:(x=5,--t);break;case 4:E(n)?(x=6,i=L(e,r,t)):n===l?x=y:n===c&&(i=L(e,r,t),x=D(i)?w:1);break;case 6:E(n)||(n===l||n===c?(x=7,--t):n===d?(x=8,s=t+1,a=void 0):(x=8,--t,s=t+1,a=void 0));break;case 8:E(n)||n===l||n===c?(x=7,--t,a=t):n===d&&(x=9,a=t);break;case 7:E(n)||(n===l?x=y:n===d?x=9:n===c?x=D(i)?w:1:(x=8,--t,s=t+1,a=void 0));break;case 9:E(n)||(34===n?x=f:39===n?x=p:n===c?x=D(i)?w:1:(x=m,--t));break;case f:34===n&&(x=g);break;case p:39===n&&(x=g);break;case m:E(n)?x=6:n===c&&(x=D(i)?w:1);break;case g:E(n)?x=6:n===l?x=y:n===c?x=D(i)?w:1:(x=6,--t);break;case y:n===c?x=1:(x=6,--t);break;case 5:n===c&&(x=1);break;case 15:n===u?x=16:n===c?x=1:(x=b,--t);break;case 16:n===u?x=_:n===c?x=1:(x=b,--t);break;case b:n===o?x=18:n===u&&(x=v);break;case 18:n===h?x=19:n!==o&&(x=b,--t);break;case 19:n===u?x=20:(x=b,--t);break;case 20:n===u?x=21:(x=_,--t);break;case 21:x=_,--t;break;case v:n===u?x=_:(x=b,--t);break;case _:n===c?x=1:n===h?x=24:n!==u&&(x=b,--t);break;case 24:n===u?x=v:n===c?x=1:(x=b,--t);break;case 25:n===u&&e.charCodeAt(t+1)===u?(x=15,++t):(x=5,--t);break;case w:n===o&&(x=27);break;case 27:n===l?x=28:(x=w,--t);break;case 28:N(n)?(r=t,x=29,--t):(x=w,--t);break;case 29:E(n)&&i===L(e,r,t)?x=6:n===l&&i===L(e,r,t)?x=y:n===c&&i===L(e,r,t)?x=1:N(n)||(x=w,--t);break;default:x=void 0}}S+=e}const I=t(S),T=document.createTreeWalker(I,A,null,!1),M=[];for(;T.nextNode();){const t=T.currentNode;switch(t.nodeType){case 1:{const e=t.attributes;for(let n=0,r=e.length;n<r;++n){const{name:i,value:s}=e[n];if(/^::/.test(i)){const e=arguments[+i.slice(2)];P(t,i),--n,--r;for(const n in e){const r=e[n];null==r||!1===r||("function"==typeof r?t[n]=r:"style"===n&&O(r)?U(t[n],r):F(t,n,!0===r?"":r))}}else if(/^::/.test(s)){const e=arguments[+s.slice(2)];P(t,i),--n,--r,"function"==typeof e?t[i]=e:U(t[i],e)}}break}case 8:if(/^::/.test(t.data)){const e=t.parentNode,n=arguments[+t.data.slice(2)];if(n instanceof Node)e.insertBefore(n,t);else if("string"!=typeof n&&n[Symbol.iterator])if(n instanceof NodeList||n instanceof HTMLCollection)for(let r=n.length-1,i=t;r>=0;--r)i=e.insertBefore(n[r],i);else for(const r of n)null!=r&&e.insertBefore(r instanceof Node?r:document.createTextNode(r),t);else e.insertBefore(document.createTextNode(n),t);M.push(t)}}}for(const t of M)t.parentNode.removeChild(t);return e(I)}}function C(t){return`&#${t.charCodeAt(0).toString()};`}function N(t){return 65<=t&&t<=90||97<=t&&t<=122}function E(t){return 9===t||10===t||12===t||32===t||13===t}function O(t){return t&&t.toString===Object.prototype.toString}function D(t){return"script"===t||"style"===t||B(t)}function B(t){return"textarea"===t||"title"===t}function L(t,e,n){return t.slice(e,n).toLowerCase()}function F(t,e,n){t.namespaceURI===x&&(e=e.toLowerCase(),e=T.get(e)||e,M.has(e))?t.setAttributeNS(M.get(e),e,n):t.setAttribute(e,n)}function P(t,e){t.namespaceURI===x&&(e=e.toLowerCase(),e=T.get(e)||e,M.has(e))?t.removeAttributeNS(M.get(e),e):t.removeAttribute(e)}function U(t,e){for(const n in e){const r=e[n];n.startsWith("--")?t.setProperty(n,r):t[n]=r}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var r={};(()=>{let t;n.d(r,{Q:()=>E}),t={install:()=>{},wrap:(t,e)=>e(),uninstall:()=>{}};const e=t;var i={},s={};function a(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function o(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function c(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}var l=function(t){var e=new RegExp('[",\n\r]'),n=t.charCodeAt(0);function r(t,e){var r,a=[],o=t.length,c=0,l=0,u=o<=0,h=!1;function d(){if(u)return s;if(h)return h=!1,i;var e,r,a=c;if(34===t.charCodeAt(a)){for(;c++<o&&34!==t.charCodeAt(c)||34===t.charCodeAt(++c););return(e=c)>=o?u=!0:10===(r=t.charCodeAt(c++))?h=!0:13===r&&(h=!0,10===t.charCodeAt(c)&&++c),t.slice(a+1,e-1).replace(/""/g,'"')}for(;c<o;){if(10===(r=t.charCodeAt(e=c++)))h=!0;else if(13===r)h=!0,10===t.charCodeAt(c)&&++c;else if(r!==n)continue;return t.slice(a,e)}return u=!0,t.slice(a,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=d())!==s;){for(var f=[];r!==i&&r!==s;)f.push(r),r=d();e&&null==(f=e(f,l++))||a.push(f)}return a}function l(e,n){return e.map((function(e){return n.map((function(t){return h(e[t])})).join(t)}))}function u(e){return e.map(h).join(t)}function h(t){return null==t?"":t instanceof Date?(i=(n=t).getUTCHours(),s=n.getUTCMinutes(),a=n.getUTCSeconds(),o=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+c(-r,6):r>9999?"+"+c(r,6):c(r,4))+"-"+c(n.getUTCMonth()+1,2)+"-"+c(n.getUTCDate(),2)+(o?"T"+c(i,2)+":"+c(s,2)+":"+c(a,2)+"."+c(o,3)+"Z":a?"T"+c(i,2)+":"+c(s,2)+":"+c(a,2)+"Z":s||i?"T"+c(i,2)+":"+c(s,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,r,i,s,a,o}return{parse:function(t,e){var n,i,s=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=a(t);return function(r,i){return e(n(r),i,t)}}(t,e):a(t)}));return s.columns=i||[],s},parseRows:r,format:function(e,n){return null==n&&(n=o(e)),[n.map(h).join(t)].concat(l(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=o(t)),l(t,e).join("\n")},formatRows:function(t){return t.map(u).join("\n")},formatRow:u,formatValue:h}}(","),u=l.parse;function h(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;d&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}l.parseRows,l.format,l.formatBody,l.formatRows,l.formatRow,l.formatValue;const d=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),f=n(2672),p=n(6932);class m{constructor(t,e){this.outputData=t,this.mimeType=e}getData(){const t=this.getJsonData(this.outputData);if(void 0!==t)return t.features?(console.log("data.table:format: GeoJSON"),this.flattenGeoData(t)):t;let e=this.outputData.text();if(e.length>0){const t=this.getJsonData(e);if(void 0!==t)return t.features?(console.log("data.table:format: GeoJSON"),this.flattenGeoData(t)):t;if(e.startsWith('<?xml version="1.0"'))return this.xmlParse(e);if(this.isCsv(e))return u(e,h);if("{}"!==e&&!e.startsWith("<Buffer "))return e}const n=this.outputData.data();return console.log(n),n.length>0?(console.log(`data.table:dataType: ${n.constructor}`),f.fromArrow(n)):this.outputData}getJsonData(t){try{if("string"==typeof t){const e=this.patchJson(t);let n=JSON.parse(e);return n.data&&(n=n.data),Array.isArray(n)?(console.log("data.table:format: JSON array"),n):(console.log("data.table:format: JSON"),n)}let e=t.json();if(e.data&&(e=e.data),Array.isArray(e))return console.log("data.table:format: JSON array"),e;if(console.log("data.table:format: JSON"),"string"==typeof e){if(this.isCsv(e))return u(e,h);if(e.startsWith('<?xml version="1.0"'))return this.xmlParse(e)}}catch(t){console.log("data.table: JSON.parse error:\n",t.message)}}patchJson(t){let e=t.replace(/\\\\"/g,'"');return e=e.replace(/"{/g,"{"),e=e.replace(/}"/g,"}"),e=e.replace(/\\xa0/g," "),e=e.replace(/\\n/g,""),e.startsWith("'")&&e.endsWith("'")&&(e=e.substr(1,e.length-2)),e}flattenGeoData(t){return t.features?t.features.map((t=>{let e={};Object.keys(null==t?void 0:t.geometry).forEach((n=>{e[`geometry.${n}`]=t.geometry[n]}));let n={};Object.keys(null==t?void 0:t.properties).forEach((e=>{n[`${e}`]=t.properties[e]}));const{geometry:r,properties:i,...s}=t;return{...s,...n,...e}})):t}isCsv(t){if(void 0===t||0===t.length)return!1;const e=t.trimEnd().split("\n",10),n=Math.min(e.length,10);if(e.length>0){const t=e[0].split(","),r=t.length;if(r>1){console.log("data.table:columns:",t);for(let e=0;e<r;e++){let n=t[e];if(n.startsWith("[")||n.startsWith("{"))return!1}for(let t=1;t<n;t++)if(e[t].split(",").length<r)return!1;return console.log("data.table:format: CSV"),!0}}return!1}xmlParse(t){let e={};const n={attributeNamePrefix:"",textNodeName:"value",ignoreAttributes:!1,ignoreNameSpace:!0,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0};try{e=p.parse(t,n),console.log("data.table:format: XML");for(let t of Object.values(e)){const e=t;for(let t of Object.values(e))if(Array.isArray(t))return t}}catch(t){console.log("data.table: XML parse error:\n",t.message)}return e}}var g=n(3379),y=n.n(g),b=n(7795),v=n.n(b),_=n(569),w=n.n(_),x=n(3565),S=n.n(x),A=n(9216),I=n.n(A),T=n(4589),M=n.n(T),k=n(651),C={};C.styleTagTransform=M(),C.setAttributes=S(),C.insert=w().bind(null,"head"),C.domAPI=v(),C.insertStyleElement=I(),y()(k.Z,C),k.Z&&k.Z.locals&&k.Z.locals;const N=n(6646),E=t=>({renderOutputItem(n,r){e.wrap(r,(()=>{const e=document.createElement("div");e.className="data-summary",r.appendChild(e),function(t){console.log(`data.table:mimeType: ${t.mimeType}`);let e=new m(t.value,t.mimeType).getData();if(Array.isArray(e)){const n=N.summaryTable(e);t.container.appendChild(n)}else{const n=document.createElement("pre");n.className="text-output";const r=document.createElement("code");r.textContent="string"!=typeof e?JSON.stringify(e,null,2):t.value.text(),n.appendChild(r),t.container.appendChild(n)}}({container:e,mimeType:n.mime,value:n,context:t})}))},disposeOutputItem(t){}})})();var i=r.Q;export{i as activate};