"use strict";var S=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var Ye=S((Gr,Dc)=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.default=void 0;var NT=(1<<16)*(1<<16),Ic=1/NT,IT=Buffer.from([254,255,255,255,255,255,255,255]),Ac=Buffer.alloc(0),Wr=class{constructor(t,r,u){this.initialSize=void 0,this.encoding=void 0,this.doubleSizeGrowth=void 0,this.buffer=void 0,this.compositeBuffer=void 0,this.position=void 0,this.initialSize=t,this.encoding=r||"ucs2",this.doubleSizeGrowth=u||!1,this.buffer=Buffer.alloc(this.initialSize,0),this.compositeBuffer=Ac,this.position=0}get data(){return this.newBuffer(0),this.compositeBuffer}copyFrom(t){let r=t.length;this.makeRoomFor(r),t.copy(this.buffer,this.position),this.position+=r}makeRoomFor(t){if(this.buffer.length-this.position<t)if(this.doubleSizeGrowth){let r=Math.max(128,this.buffer.length*2);for(;r<t;)r*=2;this.newBuffer(r)}else this.newBuffer(t)}newBuffer(t){let r=this.buffer.slice(0,this.position);this.compositeBuffer=Buffer.concat([this.compositeBuffer,r]),this.buffer=t===0?Ac:Buffer.alloc(t,0),this.position=0}writeUInt8(t){this.makeRoomFor(1),this.buffer.writeUInt8(t,this.position),this.position+=1}writeUInt16LE(t){this.makeRoomFor(2),this.buffer.writeUInt16LE(t,this.position),this.position+=2}writeUShort(t){this.writeUInt16LE(t)}writeUInt16BE(t){this.makeRoomFor(2),this.buffer.writeUInt16BE(t,this.position),this.position+=2}writeUInt24LE(t){this.makeRoomFor(3),this.buffer[this.position+2]=t>>>16&255,this.buffer[this.position+1]=t>>>8&255,this.buffer[this.position]=t&255,this.position+=3}writeUInt32LE(t){this.makeRoomFor(4),this.buffer.writeUInt32LE(t,this.position),this.position+=4}writeBigInt64LE(t){this.makeRoomFor(8),this.buffer.writeBigInt64LE(t,this.position),this.position+=8}writeInt64LE(t){this.writeBigInt64LE(BigInt(t))}writeUInt64LE(t){this.writeBigUInt64LE(BigInt(t))}writeBigUInt64LE(t){this.makeRoomFor(8),this.buffer.writeBigUInt64LE(t,this.position),this.position+=8}writeUInt32BE(t){this.makeRoomFor(4),this.buffer.writeUInt32BE(t,this.position),this.position+=4}writeUInt40LE(t){this.writeInt32LE(t&-1),this.writeUInt8(Math.floor(t*Ic))}writeInt8(t){this.makeRoomFor(1),this.buffer.writeInt8(t,this.position),this.position+=1}writeInt16LE(t){this.makeRoomFor(2),this.buffer.writeInt16LE(t,this.position),this.position+=2}writeInt16BE(t){this.makeRoomFor(2),this.buffer.writeInt16BE(t,this.position),this.position+=2}writeInt32LE(t){this.makeRoomFor(4),this.buffer.writeInt32LE(t,this.position),this.position+=4}writeInt32BE(t){this.makeRoomFor(4),this.buffer.writeInt32BE(t,this.position),this.position+=4}writeFloatLE(t){this.makeRoomFor(4),this.buffer.writeFloatLE(t,this.position),this.position+=4}writeDoubleLE(t){this.makeRoomFor(8),this.buffer.writeDoubleLE(t,this.position),this.position+=8}writeString(t,r){r==null&&(r=this.encoding);let u=Buffer.byteLength(t,r);this.makeRoomFor(u),this.buffer.write(t,this.position,r),this.position+=u}writeBVarchar(t,r){this.writeUInt8(t.length),this.writeString(t,r)}writeUsVarchar(t,r){this.writeUInt16LE(t.length),this.writeString(t,r)}writeUsVarbyte(t,r){r==null&&(r=this.encoding);let u;t instanceof Buffer?u=t.length:(t=t.toString(),u=Buffer.byteLength(t,r)),this.writeUInt16LE(u),t instanceof Buffer?this.writeBuffer(t):(this.makeRoomFor(u),this.buffer.write(t,this.position,r),this.position+=u)}writePLPBody(t,r){r==null&&(r=this.encoding);let u;t instanceof Buffer?u=t.length:(t=t.toString(),u=Buffer.byteLength(t,r)),this.writeBuffer(IT),u>0&&(this.writeUInt32LE(u),t instanceof Buffer?this.writeBuffer(t):(this.makeRoomFor(u),this.buffer.write(t,this.position,r),this.position+=u)),this.writeUInt32LE(0)}writeBuffer(t){let r=t.length;this.makeRoomFor(r),t.copy(this.buffer,this.position),this.position+=r}writeMoney(t){this.writeInt32LE(Math.floor(t*Ic)),this.writeInt32LE(t&-1)}},AT=Wr;Gr.default=AT;Dc.exports=Wr});var Le=S(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.Token=V.TYPE=V.SSPIToken=V.RowToken=V.RoutingEnvChangeToken=V.RollbackTransactionEnvChangeToken=V.ReturnValueToken=V.ReturnStatusToken=V.ResetConnectionEnvChangeToken=V.PacketSizeEnvChangeToken=V.OrderToken=V.NBCRowToken=V.LoginAckToken=V.LanguageEnvChangeToken=V.InfoMessageToken=V.FedAuthInfoToken=V.FeatureExtAckToken=V.ErrorMessageToken=V.DoneToken=V.DoneProcToken=V.DoneInProcToken=V.DatabaseMirroringPartnerEnvChangeToken=V.DatabaseEnvChangeToken=V.CommitTransactionEnvChangeToken=V.CollationChangeToken=V.ColMetadataToken=V.CharsetEnvChangeToken=V.BeginTransactionEnvChangeToken=void 0;var DT={ALTMETADATA:136,ALTROW:211,COLMETADATA:129,COLINFO:165,DONE:253,DONEPROC:254,DONEINPROC:255,ENVCHANGE:227,ERROR:170,FEATUREEXTACK:174,FEDAUTHINFO:238,INFO:171,LOGINACK:173,NBCROW:210,OFFSET:120,ORDER:169,RETURNSTATUS:121,RETURNVALUE:172,ROW:209,SSPI:237,TABNAME:164};V.TYPE=DT;var pe=class{constructor(t,r){this.name=void 0,this.handlerName=void 0,this.name=t,this.handlerName=r}};V.Token=pe;var na=class extends pe{constructor(t){super("COLMETADATA","onColMetadata"),this.columns=void 0,this.columns=t}};V.ColMetadataToken=na;var ra=class extends pe{constructor({more:t,sqlError:r,attention:u,serverError:f,rowCount:l,curCmd:h}){super("DONE","onDone"),this.more=void 0,this.sqlError=void 0,this.attention=void 0,this.serverError=void 0,this.rowCount=void 0,this.curCmd=void 0,this.more=t,this.sqlError=r,this.attention=u,this.serverError=f,this.rowCount=l,this.curCmd=h}};V.DoneToken=ra;var ia=class extends pe{constructor({more:t,sqlError:r,attention:u,serverError:f,rowCount:l,curCmd:h}){super("DONEINPROC","onDoneInProc"),this.more=void 0,this.sqlError=void 0,this.attention=void 0,this.serverError=void 0,this.rowCount=void 0,this.curCmd=void 0,this.more=t,this.sqlError=r,this.attention=u,this.serverError=f,this.rowCount=l,this.curCmd=h}};V.DoneInProcToken=ia;var oa=class extends pe{constructor({more:t,sqlError:r,attention:u,serverError:f,rowCount:l,curCmd:h}){super("DONEPROC","onDoneProc"),this.more=void 0,this.sqlError=void 0,this.attention=void 0,this.serverError=void 0,this.rowCount=void 0,this.curCmd=void 0,this.more=t,this.sqlError=r,this.attention=u,this.serverError=f,this.rowCount=l,this.curCmd=h}};V.DoneProcToken=oa;var sa=class extends pe{constructor(t,r){super("ENVCHANGE","onDatabaseChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="DATABASE",this.newValue=t,this.oldValue=r}};V.DatabaseEnvChangeToken=sa;var aa=class extends pe{constructor(t,r){super("ENVCHANGE","onLanguageChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="LANGUAGE",this.newValue=t,this.oldValue=r}};V.LanguageEnvChangeToken=aa;var ua=class extends pe{constructor(t,r){super("ENVCHANGE","onCharsetChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="CHARSET",this.newValue=t,this.oldValue=r}};V.CharsetEnvChangeToken=ua;var fa=class extends pe{constructor(t,r){super("ENVCHANGE","onPacketSizeChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="PACKET_SIZE",this.newValue=t,this.oldValue=r}};V.PacketSizeEnvChangeToken=fa;var la=class extends pe{constructor(t,r){super("ENVCHANGE","onBeginTransaction"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="BEGIN_TXN",this.newValue=t,this.oldValue=r}};V.BeginTransactionEnvChangeToken=la;var ca=class extends pe{constructor(t,r){super("ENVCHANGE","onCommitTransaction"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="COMMIT_TXN",this.newValue=t,this.oldValue=r}};V.CommitTransactionEnvChangeToken=ca;var ha=class extends pe{constructor(t,r){super("ENVCHANGE","onRollbackTransaction"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="ROLLBACK_TXN",this.newValue=t,this.oldValue=r}};V.RollbackTransactionEnvChangeToken=ha;var da=class extends pe{constructor(t,r){super("ENVCHANGE","onDatabaseMirroringPartner"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="DATABASE_MIRRORING_PARTNER",this.newValue=t,this.oldValue=r}};V.DatabaseMirroringPartnerEnvChangeToken=da;var pa=class extends pe{constructor(t,r){super("ENVCHANGE","onResetConnection"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="RESET_CONNECTION",this.newValue=t,this.oldValue=r}};V.ResetConnectionEnvChangeToken=pa;var _a=class extends pe{constructor(t,r){super("ENVCHANGE","onSqlCollationChange"),this.type=void 0,this.oldValue=void 0,this.newValue=void 0,this.type="SQL_COLLATION",this.newValue=t,this.oldValue=r}};V.CollationChangeToken=_a;var ma=class extends pe{constructor(t,r){super("ENVCHANGE","onRoutingChange"),this.type=void 0,this.newValue=void 0,this.oldValue=void 0,this.type="ROUTING_CHANGE",this.newValue=t,this.oldValue=r}};V.RoutingEnvChangeToken=ma;var Ea=class extends pe{constructor(t,r){super("FEATUREEXTACK","onFeatureExtAck"),this.fedAuth=void 0,this.utf8Support=void 0,this.fedAuth=t,this.utf8Support=r}};V.FeatureExtAckToken=Ea;var va=class extends pe{constructor(t,r){super("FEDAUTHINFO","onFedAuthInfo"),this.spn=void 0,this.stsurl=void 0,this.spn=t,this.stsurl=r}};V.FedAuthInfoToken=va;var ga=class extends pe{constructor({number:t,state:r,class:u,message:f,serverName:l,procName:h,lineNumber:E}){super("INFO","onInfoMessage"),this.number=void 0,this.state=void 0,this.class=void 0,this.message=void 0,this.serverName=void 0,this.procName=void 0,this.lineNumber=void 0,this.number=t,this.state=r,this.class=u,this.message=f,this.serverName=l,this.procName=h,this.lineNumber=E}};V.InfoMessageToken=ga;var ya=class extends pe{constructor({number:t,state:r,class:u,message:f,serverName:l,procName:h,lineNumber:E}){super("ERROR","onErrorMessage"),this.number=void 0,this.state=void 0,this.class=void 0,this.message=void 0,this.serverName=void 0,this.procName=void 0,this.lineNumber=void 0,this.number=t,this.state=r,this.class=u,this.message=f,this.serverName=l,this.procName=h,this.lineNumber=E}};V.ErrorMessageToken=ya;var Ta=class extends pe{constructor({interface:t,tdsVersion:r,progName:u,progVersion:f}){super("LOGINACK","onLoginAck"),this.interface=void 0,this.tdsVersion=void 0,this.progName=void 0,this.progVersion=void 0,this.interface=t,this.tdsVersion=r,this.progName=u,this.progVersion=f}};V.LoginAckToken=Ta;var wa=class extends pe{constructor(t){super("NBCROW","onRow"),this.columns=void 0,this.columns=t}};V.NBCRowToken=wa;var Sa=class extends pe{constructor(t){super("ORDER","onOrder"),this.orderColumns=void 0,this.orderColumns=t}};V.OrderToken=Sa;var Oa=class extends pe{constructor(t){super("RETURNSTATUS","onReturnStatus"),this.value=void 0,this.value=t}};V.ReturnStatusToken=Oa;var Na=class extends pe{constructor({paramOrdinal:t,paramName:r,metadata:u,value:f}){super("RETURNVALUE","onReturnValue"),this.paramOrdinal=void 0,this.paramName=void 0,this.metadata=void 0,this.value=void 0,this.paramOrdinal=t,this.paramName=r,this.metadata=u,this.value=f}};V.ReturnValueToken=Na;var Ia=class extends pe{constructor(t){super("ROW","onRow"),this.columns=void 0,this.columns=t}};V.RowToken=Ia;var Aa=class extends pe{constructor(t,r){super("SSPICHALLENGE","onSSPI"),this.ntlmpacket=void 0,this.ntlmpacketBuffer=void 0,this.ntlmpacket=t,this.ntlmpacketBuffer=r}};V.SSPIToken=Aa});var La=S((zr,Rc)=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.default=void 0;var bT=require("events"),bc=LT(Ye()),RT=require("stream"),ba=Le();function LT(n){return n&&n.__esModule?n:{default:n}}var Da={nullable:1<<0,caseSen:1<<1,updateableReadWrite:1<<2,updateableUnknown:1<<3,identity:1<<4,computed:1<<5,fixedLenCLRType:1<<8,sparseColumnSet:1<<10,hidden:1<<13,key:1<<14,nullableUnknown:1<<15},CT={FINAL:0,MORE:1,ERROR:2,INXACT:4,COUNT:16,ATTN:32,SRVERROR:256},MT=Buffer.from([ba.TYPE.ROW]),PT=Buffer.from([16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),FT=Buffer.from([0]),Ra=class extends RT.Transform{constructor(t){super({writableObjectMode:!0}),this.columnMetadataWritten=void 0,this.bulkLoad=void 0,this.mainOptions=void 0,this.columns=void 0,this.bulkLoad=t,this.mainOptions=t.options,this.columns=t.columns,this.columnMetadataWritten=!1}_transform(t,r,u){this.columnMetadataWritten||(this.push(this.bulkLoad.getColMetaData()),this.columnMetadataWritten=!0),this.push(MT);for(let f=0;f<this.columns.length;f++){let l=this.columns[f],h=Array.isArray(t)?t[f]:t[l.objName];if(!this.bulkLoad.firstRowWritten)try{h=l.type.validate(h,l.collation)}catch(v){return u(v)}let E={length:l.length,scale:l.scale,precision:l.precision,value:h};if(l.type.name==="Text"||l.type.name==="Image"||l.type.name==="NText"){if(h==null){this.push(FT);continue}this.push(PT)}this.push(l.type.generateParameterLength(E,this.mainOptions));for(let v of l.type.generateParameterData(E,this.mainOptions))this.push(v)}process.nextTick(u)}_flush(t){this.push(this.bulkLoad.createDoneToken()),process.nextTick(t)}},Kr=class extends bT.EventEmitter{constructor(t,r,u,{checkConstraints:f=!1,fireTriggers:l=!1,keepNulls:h=!1,lockTable:E=!1,order:v={}},O){if(typeof f!="boolean")throw new TypeError('The "options.checkConstraints" property must be of type boolean.');if(typeof l!="boolean")throw new TypeError('The "options.fireTriggers" property must be of type boolean.');if(typeof h!="boolean")throw new TypeError('The "options.keepNulls" property must be of type boolean.');if(typeof E!="boolean")throw new TypeError('The "options.lockTable" property must be of type boolean.');if(typeof v!="object"||v===null)throw new TypeError('The "options.order" property must be of type object.');for(let[A,b]of Object.entries(v))if(b!=="ASC"&&b!=="DESC")throw new TypeError('The value of the "'+A+'" key in the "options.order" object must be either "ASC" or "DESC".');super(),this.error=void 0,this.canceled=void 0,this.executionStarted=void 0,this.streamingMode=void 0,this.table=void 0,this.timeout=void 0,this.options=void 0,this.callback=void 0,this.columns=void 0,this.columnsByName=void 0,this.firstRowWritten=void 0,this.rowToPacketTransform=void 0,this.bulkOptions=void 0,this.connection=void 0,this.rows=void 0,this.rst=void 0,this.rowCount=void 0,this.collation=void 0,this.error=void 0,this.canceled=!1,this.executionStarted=!1,this.collation=r,this.table=t,this.options=u,this.callback=O,this.columns=[],this.columnsByName={},this.firstRowWritten=!1,this.streamingMode=!1,this.rowToPacketTransform=new Ra(this),this.bulkOptions={checkConstraints:f,fireTriggers:l,keepNulls:h,lockTable:E,order:v}}addColumn(t,r,{output:u=!1,length:f,precision:l,scale:h,objName:E=t,nullable:v=!0}){if(this.firstRowWritten)throw new Error("Columns cannot be added to bulk insert after the first row has been written.");if(this.executionStarted)throw new Error("Columns cannot be added to bulk insert after execution has started.");let O={type:r,name:t,value:null,output:u,length:f,precision:l,scale:h,objName:E,nullable:v,collation:this.collation};(r.id&48)===32&&O.length==null&&r.resolveLength&&(O.length=r.resolveLength(O)),r.resolvePrecision&&O.precision==null&&(O.precision=r.resolvePrecision(O)),r.resolveScale&&O.scale==null&&(O.scale=r.resolveScale(O)),this.columns.push(O),this.columnsByName[t]=O}getOptionsSql(){let t=[];if(this.bulkOptions.checkConstraints&&t.push("CHECK_CONSTRAINTS"),this.bulkOptions.fireTriggers&&t.push("FIRE_TRIGGERS"),this.bulkOptions.keepNulls&&t.push("KEEP_NULLS"),this.bulkOptions.lockTable&&t.push("TABLOCK"),this.bulkOptions.order){let r=[];for(let[u,f]of Object.entries(this.bulkOptions.order))r.push(`${u} ${f}`);r.length&&t.push(`ORDER (${r.join(", ")})`)}return t.length>0?` WITH (${t.join(",")})`:""}getBulkInsertSql(){let t="insert bulk "+this.table+"(";for(let r=0,u=this.columns.length;r<u;r++){let f=this.columns[r];r!==0&&(t+=", "),t+="["+f.name+"] "+f.type.declaration(f)}return t+=")",t+=this.getOptionsSql(),t}getTableCreationSql(){let t="CREATE TABLE "+this.table+`(
`;for(let r=0,u=this.columns.length;r<u;r++){let f=this.columns[r];r!==0&&(t+=`,
`),t+="["+f.name+"] "+f.type.declaration(f),f.nullable!==void 0&&(t+=" "+(f.nullable?"NULL":"NOT NULL"))}return t+=`
)`,t}getColMetaData(){let t=new bc.default(100,null,!0);t.writeUInt8(ba.TYPE.COLMETADATA),t.writeUInt16LE(this.columns.length);for(let r=0,u=this.columns.length;r<u;r++){let f=this.columns[r];this.options.tdsVersion<"7_2"?t.writeUInt16LE(0):t.writeUInt32LE(0);let l=Da.updateableReadWrite;f.nullable?l|=Da.nullable:f.nullable===void 0&&this.options.tdsVersion>="7_2"&&(l|=Da.nullableUnknown),t.writeUInt16LE(l),t.writeBuffer(f.type.generateTypeInfo(f,this.options)),f.type.hasTableName&&t.writeUsVarchar(this.table,"ucs2"),t.writeBVarchar(f.name,"ucs2")}return t.data}setTimeout(t){this.timeout=t}createDoneToken(){let t=new bc.default(this.options.tdsVersion<"7_2"?9:13);t.writeUInt8(ba.TYPE.DONE);let r=CT.FINAL;return t.writeUInt16LE(r),t.writeUInt16LE(0),t.writeUInt32LE(0),this.options.tdsVersion>="7_2"&&t.writeUInt32LE(0),t.data}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}},xT=Kr;zr.default=xT;Rc.exports=Kr});var Cc=S((UM,Lc)=>{Lc.exports={}});var Fc=S(($r,Pc)=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.default=void 0;var UT=require("events"),BT=YT(require("util"));function Mc(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Mc=function(u){return u?r:t})(n)}function YT(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Mc(t);if(r&&r.has(n))return r.get(n);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=n[l]}return u.default=n,r&&r.set(n,u),u}var Zr=class extends UT.EventEmitter{constructor({data:t=!1,payload:r=!1,packet:u=!1,token:f=!1}={}){super(),this.options=void 0,this.indent=void 0,this.options={data:t,payload:r,packet:u,token:f},this.indent="  "}packet(t,r){this.haveListeners()&&this.options.packet&&(this.log(""),this.log(t),this.log(r.headerToString(this.indent)))}data(t){this.haveListeners()&&this.options.data&&this.log(t.dataToString(this.indent))}payload(t){this.haveListeners()&&this.options.payload&&this.log(t())}token(t){this.haveListeners()&&this.options.token&&this.log(BT.inspect(t,{showHidden:!1,depth:5,colors:!0}))}haveListeners(){return this.listeners("debug").length>0}log(t){this.emit("debug",t)}},qT=Zr;$r.default=qT;Pc.exports=Zr});var Xr=S(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.default=void 0;var Ca=class extends Error{constructor(){super("The operation was aborted"),this.code=void 0,this.code="ABORT_ERR",this.name="AbortError"}};jr.default=Ca});var Yc=S(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.sendInParallel=Bc;Qr.sendMessage=WT;var kT=Ma(require("dgram")),xc=Ma(require("net")),VT=HT(require("punycode")),Jr=Ma(Xr());function Uc(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Uc=function(u){return u?r:t})(n)}function HT(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Uc(t);if(r&&r.has(n))return r.get(n);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=n[l]}return u.default=n,r&&r.set(n,u),u}function Ma(n){return n&&n.__esModule?n:{default:n}}async function Bc(n,t,r,u){if(u.aborted)throw new Jr.default;return await new Promise((f,l)=>{let h=[],E=0,v=C=>{E++,E===n.length&&(u.removeEventListener("abort",A),b(),l(C))},O=C=>{u.removeEventListener("abort",A),b(),f(C)},A=()=>{b(),l(new Jr.default)},b=()=>{for(let C of h)C.removeListener("error",v),C.removeListener("message",O),C.close()};u.addEventListener("abort",A,{once:!0});for(let C=0;C<n.length;C++){let q=n[C].family===6?"udp6":"udp4",F=kT.default.createSocket(q);h.push(F),F.on("error",v),F.on("message",O),F.send(r,0,r.length,t,n[C].address)}})}async function WT(n,t,r,u,f){if(u.aborted)throw new Jr.default;let l;return xc.default.isIP(n)?l=[{address:n,family:xc.default.isIPv6(n)?6:4}]:l=await new Promise((h,E)=>{let v=()=>{E(new Jr.default)};u.addEventListener("abort",v),r(VT.toASCII(n),{all:!0},(O,A)=>{u.removeEventListener("abort",v),O?E(O):h(A)})}),await Bc(l,t,f,u)}});var Pa=S((qM,qc)=>{var{EventEmitter:GT}=require("events"),ei=class{constructor(){this.eventEmitter=new GT,this.onabort=null,this.aborted=!1,this.reason=void 0}toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(t,r){this.eventEmitter.removeListener(t,r)}addEventListener(t,r){this.eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},u=`on${t}`;typeof this[u]=="function"&&this[u](r),this.eventEmitter.emit(t,r)}throwIfAborted(){if(this.aborted)throw this.reason}static abort(t){let r=new $n;return r.abort(),r.signal}static timeout(t){let r=new $n;return setTimeout(()=>r.abort(new Error("TimeoutError")),t),r.signal}},$n=class{constructor(){this.signal=new ei}abort(t){this.signal.aborted||(this.signal.aborted=!0,t?this.signal.reason=t:this.signal.reason=new Error("AbortError"),this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}};qc.exports={AbortController:$n,AbortSignal:ei}});var kc=S(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.default=void 0;var Fa=class extends Error{constructor(){super("The operation was aborted due to timeout"),this.code=void 0,this.code="TIMEOUT_ERR",this.name="TimeoutError"}};ti.default=Fa});var Vc=S(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.withTimeout=$T;var KT=Pa(),zT=ZT(kc());function ZT(n){return n&&n.__esModule?n:{default:n}}async function $T(n,t,r){let u=new KT.AbortController,f=()=>{u.abort()},l=setTimeout(f,n);r?.addEventListener("abort",f,{once:!0});try{return await t(u.signal)}catch(h){throw h instanceof Error&&h.name==="AbortError"&&!(r&&r.aborted)?new zT.default:h}finally{r?.removeEventListener("abort",f),clearTimeout(l)}}});var Gc=S(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.instanceLookup=iw;ni.parseBrowserResponse=Wc;var jT=Hc(require("dns")),XT=Hc(Xr()),JT=Yc(),QT=Vc();function Hc(n){return n&&n.__esModule?n:{default:n}}var ew=1434,tw=2*1e3,nw=3,rw=3;async function iw(n){let t=n.server;if(typeof t!="string")throw new TypeError('Invalid arguments: "server" must be a string');let r=n.instanceName;if(typeof r!="string")throw new TypeError('Invalid arguments: "instanceName" must be a string');let u=n.timeout===void 0?tw:n.timeout;if(typeof u!="number")throw new TypeError('Invalid arguments: "timeout" must be a number');let f=n.retries===void 0?nw:n.retries;if(typeof f!="number")throw new TypeError('Invalid arguments: "retries" must be a number');if(n.lookup!==void 0&&typeof n.lookup!="function")throw new TypeError('Invalid arguments: "lookup" must be a function');let l=n.lookup??jT.default.lookup;if(n.port!==void 0&&typeof n.port!="number")throw new TypeError('Invalid arguments: "port" must be a number');let h=n.port??ew,E=n.signal;if(E.aborted)throw new XT.default;let v;for(let b=0;b<=f;b++)try{v=await(0,QT.withTimeout)(u,async C=>{let q=Buffer.from([2]);return await(0,JT.sendMessage)(n.server,h,l,C,q)},E)}catch(C){if(!E.aborted&&C instanceof Error&&C.name==="TimeoutError")continue;throw C}if(!v)throw new Error("Failed to get response from SQL Server Browser on "+t);let O=v.toString("ascii",rw),A=Wc(O,r);if(!A)throw new Error("Port for "+r+" not found in "+n.server);return A}function Wc(n,t){let r,u=n.split(";;");for(let f=0,l=u.length;f<l;f++){let E=u[f].split(";");for(let v=0,O=E.length;v<O;v+=2){let A=E[v],b=E[v+1];if(A==="tcp"&&r)return parseInt(b,10);A==="InstanceName"&&(b.toUpperCase()===t.toUpperCase()?r=!0:r=!1)}}}});var Kc=S(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.TransientErrorLookup=void 0;var Ua=class{isTransientError(t){return[4060,10928,10929,40197,40501,40613].indexOf(t)!==-1}};ri.TransientErrorLookup=Ua});var pn=S(ii=>{(function(){"use strict";var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(h){return u(l(h),arguments)}function r(h,E){return t.apply(null,[h].concat(E||[]))}function u(h,E){var v=1,O=h.length,A,b="",C,q,F,y,U,w,M,I;for(C=0;C<O;C++)if(typeof h[C]=="string")b+=h[C];else if(typeof h[C]=="object"){if(F=h[C],F.keys)for(A=E[v],q=0;q<F.keys.length;q++){if(A==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',F.keys[q],F.keys[q-1]));A=A[F.keys[q]]}else F.param_no?A=E[F.param_no]:A=E[v++];if(n.not_type.test(F.type)&&n.not_primitive.test(F.type)&&A instanceof Function&&(A=A()),n.numeric_arg.test(F.type)&&typeof A!="number"&&isNaN(A))throw new TypeError(t("[sprintf] expecting number but found %T",A));switch(n.number.test(F.type)&&(M=A>=0),F.type){case"b":A=parseInt(A,10).toString(2);break;case"c":A=String.fromCharCode(parseInt(A,10));break;case"d":case"i":A=parseInt(A,10);break;case"j":A=JSON.stringify(A,null,F.width?parseInt(F.width):0);break;case"e":A=F.precision?parseFloat(A).toExponential(F.precision):parseFloat(A).toExponential();break;case"f":A=F.precision?parseFloat(A).toFixed(F.precision):parseFloat(A);break;case"g":A=F.precision?String(Number(A.toPrecision(F.precision))):parseFloat(A);break;case"o":A=(parseInt(A,10)>>>0).toString(8);break;case"s":A=String(A),A=F.precision?A.substring(0,F.precision):A;break;case"t":A=String(!!A),A=F.precision?A.substring(0,F.precision):A;break;case"T":A=Object.prototype.toString.call(A).slice(8,-1).toLowerCase(),A=F.precision?A.substring(0,F.precision):A;break;case"u":A=parseInt(A,10)>>>0;break;case"v":A=A.valueOf(),A=F.precision?A.substring(0,F.precision):A;break;case"x":A=(parseInt(A,10)>>>0).toString(16);break;case"X":A=(parseInt(A,10)>>>0).toString(16).toUpperCase();break}n.json.test(F.type)?b+=A:(n.number.test(F.type)&&(!M||F.sign)?(I=M?"+":"-",A=A.toString().replace(n.sign,"")):I="",U=F.pad_char?F.pad_char==="0"?"0":F.pad_char.charAt(1):" ",w=F.width-(I+A).length,y=F.width&&w>0?U.repeat(w):"",b+=F.align?I+A+y:U==="0"?I+y+A:y+I+A)}return b}var f=Object.create(null);function l(h){if(f[h])return f[h];for(var E=h,v,O=[],A=0;E;){if((v=n.text.exec(E))!==null)O.push(v[0]);else if((v=n.modulo.exec(E))!==null)O.push("%");else if((v=n.placeholder.exec(E))!==null){if(v[2]){A|=1;var b=[],C=v[2],q=[];if((q=n.key.exec(C))!==null)for(b.push(q[1]);(C=C.substring(q[0].length))!=="";)if((q=n.key_access.exec(C))!==null)b.push(q[1]);else if((q=n.index_access.exec(C))!==null)b.push(q[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");v[2]=b}else A|=2;if(A===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");O.push({placeholder:v[0],param_no:v[1],keys:v[2],sign:v[3],pad_char:v[4],align:v[5],width:v[6],precision:v[7],type:v[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");E=E.substring(v[0].length)}return f[h]=O}typeof ii<"u"&&(ii.sprintf=t,ii.vsprintf=r),typeof window<"u"&&(window.sprintf=t,window.vsprintf=r,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:r}}))})()});var jn=S(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.TYPE=Xe.Packet=Xe.OFFSET=Xe.HEADER_LENGTH=void 0;Xe.isPacketComplete=fw;Xe.packetLength=lw;var Ba=pn(),oi=8;Xe.HEADER_LENGTH=oi;var Ya={SQL_BATCH:1,RPC_REQUEST:3,TABULAR_RESULT:4,ATTENTION:6,BULK_LOAD:7,TRANSACTION_MANAGER:14,LOGIN7:16,NTLMAUTH_PKT:17,PRELOGIN:18,FEDAUTH_TOKEN:8};Xe.TYPE=Ya;var zc={};for(let n in Ya)zc[Ya[n]]=n;var pt={NORMAL:0,EOM:1,IGNORE:2,RESETCONNECTION:8,RESETCONNECTIONSKIPTRAN:16},_e={Type:0,Status:1,Length:2,SPID:4,PacketID:6,Window:7};Xe.OFFSET=_e;var ow=0,sw=1,aw=0,uw=`
`,qa=class{constructor(t){if(this.buffer=void 0,t instanceof Buffer)this.buffer=t;else{let r=t;this.buffer=Buffer.alloc(oi,0),this.buffer.writeUInt8(r,_e.Type),this.buffer.writeUInt8(pt.NORMAL,_e.Status),this.buffer.writeUInt16BE(ow,_e.SPID),this.buffer.writeUInt8(sw,_e.PacketID),this.buffer.writeUInt8(aw,_e.Window),this.setLength()}}setLength(){this.buffer.writeUInt16BE(this.buffer.length,_e.Length)}length(){return this.buffer.readUInt16BE(_e.Length)}resetConnection(t){let r=this.buffer.readUInt8(_e.Status);t?r|=pt.RESETCONNECTION:r&=255-pt.RESETCONNECTION,this.buffer.writeUInt8(r,_e.Status)}last(t){let r=this.buffer.readUInt8(_e.Status);return arguments.length>0&&(t?r|=pt.EOM:r&=255-pt.EOM,this.buffer.writeUInt8(r,_e.Status)),this.isLast()}ignore(t){let r=this.buffer.readUInt8(_e.Status);t?r|=pt.IGNORE:r&=255-pt.IGNORE,this.buffer.writeUInt8(r,_e.Status)}isLast(){return!!(this.buffer.readUInt8(_e.Status)&pt.EOM)}packetId(t){return t&&this.buffer.writeUInt8(t%256,_e.PacketID),this.buffer.readUInt8(_e.PacketID)}addData(t){return this.buffer=Buffer.concat([this.buffer,t]),this.setLength(),this}data(){return this.buffer.slice(oi)}type(){return this.buffer.readUInt8(_e.Type)}statusAsString(){let t=this.buffer.readUInt8(_e.Status),r=[];for(let u in pt){let f=pt[u];t&f?r.push(u):r.push(void 0)}return r.join(" ").trim()}headerToString(t=""){let r=(0,Ba.sprintf)("type:0x%02X(%s), status:0x%02X(%s), length:0x%04X, spid:0x%04X, packetId:0x%02X, window:0x%02X",this.buffer.readUInt8(_e.Type),zc[this.buffer.readUInt8(_e.Type)],this.buffer.readUInt8(_e.Status),this.statusAsString(),this.buffer.readUInt16BE(_e.Length),this.buffer.readUInt16BE(_e.SPID),this.buffer.readUInt8(_e.PacketID),this.buffer.readUInt8(_e.Window));return t+r}dataToString(t=""){let l=this.data(),h="",E="";for(let v=0;v<l.length;v++)v%32===0&&(h+=t,h+=(0,Ba.sprintf)("%04X  ",v)),l[v]<32||l[v]>126?(E+=".",(v+1)%8===0&&(v+1)%32!==0&&(E+=" ")):E+=String.fromCharCode(l[v]),l[v]!=null&&(h+=(0,Ba.sprintf)("%02X",l[v])),(v+1)%4===0&&(v+1)%32!==0&&(h+=" "),(v+1)%32===0&&(h+="  "+E,E="",v<l.length-1&&(h+=uw));return E.length&&(h+="  "+E),h}toString(t=""){return this.headerToString(t)+`
`+this.dataToString(t+t)}payloadString(){return""}};Xe.Packet=qa;function fw(n){return n.length<oi?!1:n.length>=n.readUInt16BE(_e.Length)}function lw(n){return n.readUInt16BE(_e.Length)}});var Xc=S((ui,jc)=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;var cw=pn(),_n=hw(Ye());function hw(n){return n&&n.__esModule?n:{default:n}}var mn=20,qe={VERSION:0,ENCRYPTION:1,INSTOPT:2,THREADID:3,MARS:4,FEDAUTHREQUIRED:6,TERMINATOR:255},si={OFF:0,ON:1,NOT_SUP:2,REQ:3},Zc={};for(let n in si){let t=si[n];Zc[t]=n}var ka={OFF:0,ON:1},$c={};for(let n in ka){let t=ka[n];$c[t]=n}var ai=class{constructor(t={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}){this.data=void 0,this.options=void 0,this.version=void 0,this.encryption=void 0,this.encryptionString=void 0,this.instance=void 0,this.threadId=void 0,this.mars=void 0,this.marsString=void 0,this.fedAuthRequired=void 0,t instanceof Buffer?(this.data=t,this.options={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}):(this.options=t,this.createOptions()),this.extractOptions()}createOptions(){let t=[this.createVersionOption(),this.createEncryptionOption(),this.createInstanceOption(),this.createThreadIdOption(),this.createMarsOption(),this.createFedAuthOption()],r=0;for(let l=0,h=t.length;l<h;l++){let E=t[l];r+=5+E.data.length}r++,this.data=Buffer.alloc(r,0);let u=0,f=5*t.length+1;for(let l=0,h=t.length;l<h;l++){let E=t[l];this.data.writeUInt8(E.token,u+0),this.data.writeUInt16BE(f,u+1),this.data.writeUInt16BE(E.data.length,u+3),u+=5,E.data.copy(this.data,f),f+=E.data.length}this.data.writeUInt8(qe.TERMINATOR,u)}createVersionOption(){let t=new _n.default(mn);return t.writeUInt8(this.options.version.major),t.writeUInt8(this.options.version.minor),t.writeUInt16BE(this.options.version.build),t.writeUInt16BE(this.options.version.subbuild),{token:qe.VERSION,data:t.data}}createEncryptionOption(){let t=new _n.default(mn);return this.options.encrypt?t.writeUInt8(si.ON):t.writeUInt8(si.NOT_SUP),{token:qe.ENCRYPTION,data:t.data}}createInstanceOption(){let t=new _n.default(mn);return t.writeUInt8(0),{token:qe.INSTOPT,data:t.data}}createThreadIdOption(){let t=new _n.default(mn);return t.writeUInt32BE(0),{token:qe.THREADID,data:t.data}}createMarsOption(){let t=new _n.default(mn);return t.writeUInt8(ka.OFF),{token:qe.MARS,data:t.data}}createFedAuthOption(){let t=new _n.default(mn);return t.writeUInt8(1),{token:qe.FEDAUTHREQUIRED,data:t.data}}extractOptions(){let t=0;for(;this.data[t]!==qe.TERMINATOR;){let r=this.data.readUInt16BE(t+1),u=this.data.readUInt16BE(t+3);switch(this.data[t]){case qe.VERSION:this.extractVersion(r);break;case qe.ENCRYPTION:this.extractEncryption(r);break;case qe.INSTOPT:this.extractInstance(r);break;case qe.THREADID:u>0&&this.extractThreadId(r);break;case qe.MARS:this.extractMars(r);break;case qe.FEDAUTHREQUIRED:this.extractFedAuth(r);break}t+=5,r+=u}}extractVersion(t){this.version={major:this.data.readUInt8(t+0),minor:this.data.readUInt8(t+1),build:this.data.readUInt16BE(t+2),subbuild:this.data.readUInt16BE(t+4)}}extractEncryption(t){this.encryption=this.data.readUInt8(t),this.encryptionString=Zc[this.encryption]}extractInstance(t){this.instance=this.data.readUInt8(t)}extractThreadId(t){this.threadId=this.data.readUInt32BE(t)}extractMars(t){this.mars=this.data.readUInt8(t),this.marsString=$c[this.mars]}extractFedAuth(t){this.fedAuthRequired=this.data.readUInt8(t)}toString(t=""){return t+"PreLogin - "+(0,cw.sprintf)("version:%d.%d.%d.%d, encryption:0x%02X(%s), instopt:0x%02X, threadId:0x%08X, mars:0x%02X(%s)",this.version.major,this.version.minor,this.version.build,this.version.subbuild,this.encryption?this.encryption:0,this.encryptionString?this.encryptionString:"",this.instance?this.instance:0,this.threadId?this.threadId:0,this.mars?this.mars:0,this.marsString?this.marsString:"")}},dw=ai;ui.default=dw;jc.exports=ai});var Xn=S(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.versionsByValue=En.versions=void 0;var Va={"7_1":1895825409,"7_2":1913192450,"7_3_A":1930035203,"7_3_B":1930100739,"7_4":1946157060};En.versions=Va;var Jc={};En.versionsByValue=Jc;for(let n in Va)Jc[Va[n]]=n});var eh=S((hi,Qc)=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.default=void 0;var fi=pn(),pw=Xn(),Rt={ENDIAN_LITTLE:0,ENDIAN_BIG:1,CHARSET_ASCII:0,CHARSET_EBCDIC:2,FLOAT_IEEE_754:0,FLOAT_VAX:4,FLOAT_ND5000:8,BCP_DUMPLOAD_ON:0,BCP_DUMPLOAD_OFF:16,USE_DB_ON:0,USE_DB_OFF:32,INIT_DB_WARN:0,INIT_DB_FATAL:64,SET_LANG_WARN_OFF:0,SET_LANG_WARN_ON:128},Jn={INIT_LANG_WARN:0,INIT_LANG_FATAL:1,ODBC_OFF:0,ODBC_ON:2,F_TRAN_BOUNDARY:4,F_CACHE_CONNECT:8,USER_NORMAL:0,USER_SERVER:16,USER_REMUSER:32,USER_SQLREPL:64,INTEGRATED_SECURITY_OFF:0,INTEGRATED_SECURITY_ON:128},li={SQL_DFLT:0,SQL_TSQL:8,OLEDB_OFF:0,OLEDB_ON:16,READ_WRITE_INTENT:0,READ_ONLY_INTENT:32},Ha={CHANGE_PASSWORD_NO:0,CHANGE_PASSWORD_YES:1,BINARY_XML:2,SPAWN_USER_INSTANCE:4,UNKNOWN_COLLATION_HANDLING:8,EXTENSION_USED:16},It={FEATURE_ID:2,LIBRARY_SECURITYTOKEN:1,LIBRARY_ADAL:2,FEDAUTH_YES_ECHO:1,FEDAUTH_NO_ECHO:0,ADAL_WORKFLOW_USER_PASS:1,ADAL_WORKFLOW_INTEGRATED:2},_w=255,ci=class{constructor({tdsVersion:t,packetSize:r,clientProgVer:u,clientPid:f,connectionId:l,clientTimeZone:h,clientLcid:E}){this.tdsVersion=void 0,this.packetSize=void 0,this.clientProgVer=void 0,this.clientPid=void 0,this.connectionId=void 0,this.clientTimeZone=void 0,this.clientLcid=void 0,this.readOnlyIntent=void 0,this.initDbFatal=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0,this.fedAuth=void 0,this.tdsVersion=t,this.packetSize=r,this.clientProgVer=u,this.clientPid=f,this.connectionId=l,this.clientTimeZone=h,this.clientLcid=E,this.readOnlyIntent=!1,this.initDbFatal=!1,this.fedAuth=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0}toBuffer(){let t=Buffer.alloc(94),r=[t],u=0,f=t.length;if(u=t.writeUInt32LE(0,u),u=t.writeUInt32LE(this.tdsVersion,u),u=t.writeUInt32LE(this.packetSize,u),u=t.writeUInt32LE(this.clientProgVer,u),u=t.writeUInt32LE(this.clientPid,u),u=t.writeUInt32LE(this.connectionId,u),u=t.writeUInt8(this.buildOptionFlags1(),u),u=t.writeUInt8(this.buildOptionFlags2(),u),u=t.writeUInt8(this.buildTypeFlags(),u),u=t.writeUInt8(this.buildOptionFlags3(),u),u=t.writeInt32LE(this.clientTimeZone,u),u=t.writeUInt32LE(this.clientLcid,u),u=t.writeUInt16LE(f,u),this.hostname){let v=Buffer.from(this.hostname,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(f,u);if(u=t.writeUInt16LE(f,u),this.userName){let v=Buffer.from(this.userName,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);if(u=t.writeUInt16LE(f,u),this.password){let v=Buffer.from(this.password,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(this.scramblePassword(v))}else u=t.writeUInt16LE(0,u);if(u=t.writeUInt16LE(f,u),this.appName){let v=Buffer.from(this.appName,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);if(u=t.writeUInt16LE(f,u),this.serverName){let v=Buffer.from(this.serverName,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);u=t.writeUInt16LE(f,u);let l=this.buildFeatureExt();u=t.writeUInt16LE(4,u);let h=Buffer.alloc(4);if(h.writeUInt32LE(f+=4,0),f+=l.length,r.push(h,l),u=t.writeUInt16LE(f,u),this.libraryName){let v=Buffer.from(this.libraryName,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);if(u=t.writeUInt16LE(f,u),this.language){let v=Buffer.from(this.language,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);if(u=t.writeUInt16LE(f,u),this.database){let v=Buffer.from(this.database,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);if(this.clientId&&this.clientId.copy(t,u,0,6),u+=6,u=t.writeUInt16LE(f,u),this.sspi?(this.sspi.length>65535?u=t.writeUInt16LE(65535,u):u=t.writeUInt16LE(this.sspi.length,u),r.push(this.sspi)):u=t.writeUInt16LE(0,u),u=t.writeUInt16LE(f,u),this.attachDbFile){let v=Buffer.from(this.attachDbFile,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);if(u=t.writeUInt16LE(f,u),this.changePassword){let v=Buffer.from(this.changePassword,"ucs2");u=t.writeUInt16LE(v.length/2,u),f+=v.length,r.push(v)}else u=t.writeUInt16LE(0,u);this.sspi&&this.sspi.length>65535?t.writeUInt32LE(this.sspi.length,u):t.writeUInt32LE(0,u);let E=Buffer.concat(r);return E.writeUInt32LE(E.length,0),E}buildOptionFlags1(){let t=Rt.ENDIAN_LITTLE|Rt.CHARSET_ASCII|Rt.FLOAT_IEEE_754|Rt.BCP_DUMPLOAD_OFF|Rt.USE_DB_OFF|Rt.SET_LANG_WARN_ON;return this.initDbFatal?t|=Rt.INIT_DB_FATAL:t|=Rt.INIT_DB_WARN,t}buildFeatureExt(){let t=[],r=this.fedAuth;if(r)switch(r.type){case"ADAL":let u=Buffer.alloc(7);u.writeUInt8(It.FEATURE_ID,0),u.writeUInt32LE(2,1),u.writeUInt8(It.LIBRARY_ADAL<<1|(r.echo?It.FEDAUTH_YES_ECHO:It.FEDAUTH_NO_ECHO),5),u.writeUInt8(r.workflow==="integrated"?2:It.ADAL_WORKFLOW_USER_PASS,6),t.push(u);break;case"SECURITYTOKEN":let f=Buffer.from(r.fedAuthToken,"ucs2"),l=Buffer.alloc(10),h=0;h=l.writeUInt8(It.FEATURE_ID,h),h=l.writeUInt32LE(f.length+4+1,h),h=l.writeUInt8(It.LIBRARY_SECURITYTOKEN<<1|(r.echo?It.FEDAUTH_YES_ECHO:It.FEDAUTH_NO_ECHO),h),l.writeInt32LE(f.length,h),t.push(l),t.push(f);break}if(this.tdsVersion>=pw.versions["7_4"]){let l=Buffer.alloc(6);l.writeUInt8(10,0),l.writeUInt32LE(1,1),l.writeUInt8(1,5),t.push(l)}return t.push(Buffer.from([_w])),Buffer.concat(t)}buildOptionFlags2(){let t=Jn.INIT_LANG_WARN|Jn.ODBC_OFF|Jn.USER_NORMAL;return this.sspi?t|=Jn.INTEGRATED_SECURITY_ON:t|=Jn.INTEGRATED_SECURITY_OFF,t}buildTypeFlags(){let t=li.SQL_DFLT|li.OLEDB_OFF;return this.readOnlyIntent?t|=li.READ_ONLY_INTENT:t|=li.READ_WRITE_INTENT,t}buildOptionFlags3(){return Ha.CHANGE_PASSWORD_NO|Ha.UNKNOWN_COLLATION_HANDLING|Ha.EXTENSION_USED}scramblePassword(t){for(let r=0,u=t.length;r<u;r++){let f=t[r],l=f&15,h=f>>4;f=l<<4|h,f=f^165,t[r]=f}return t}toString(t=""){return t+"Login7 - "+(0,fi.sprintf)("TDS:0x%08X, PacketSize:0x%08X, ClientProgVer:0x%08X, ClientPID:0x%08X, ConnectionID:0x%08X",this.tdsVersion,this.packetSize,this.clientProgVer,this.clientPid,this.connectionId)+`
`+t+"         "+(0,fi.sprintf)("Flags1:0x%02X, Flags2:0x%02X, TypeFlags:0x%02X, Flags3:0x%02X, ClientTimezone:%d, ClientLCID:0x%08X",this.buildOptionFlags1(),this.buildOptionFlags2(),this.buildTypeFlags(),this.buildOptionFlags3(),this.clientTimeZone,this.clientLcid)+`
`+t+"         "+(0,fi.sprintf)("Hostname:'%s', Username:'%s', Password:'%s', AppName:'%s', ServerName:'%s', LibraryName:'%s'",this.hostname,this.userName,this.password,this.appName,this.serverName,this.libraryName)+`
`+t+"         "+(0,fi.sprintf)("Language:'%s', Database:'%s', SSPI:'%s', AttachDbFile:'%s', ChangePassword:'%s'",this.language,this.database,this.sspi,this.attachDbFile,this.changePassword)}},mw=ci;hi.default=mw;Qc.exports=ci});var th=S((ZM,di)=>{(function(){"use strict";var n=typeof window=="object"?window:{},t=!n.JS_MD4_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;t&&(n=global);var r=!n.JS_MD4_NO_COMMON_JS&&typeof di=="object"&&di.exports,u=typeof define=="function"&&define.amd,f=!n.JS_MD4_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),h=[128,32768,8388608,-2147483648],E=[0,8,16,24],v=["hex","array","digest","buffer","arrayBuffer"],O=[],A;if(f){var b=new ArrayBuffer(68);A=new Uint8Array(b),O=new Uint32Array(b)}var C=function(w){return function(M){return new y(!0).update(M)[w]()}},q=function(){var w=C("hex");t&&(w=F(w)),w.create=function(){return new y},w.update=function(L){return w.create().update(L)};for(var M=0;M<v.length;++M){var I=v[M];w[I]=C(I)}return w},F=function(w){var M=require("crypto"),I=require("buffer").Buffer,L=function(_){if(typeof _=="string")return M.createHash("md4").update(_,"utf8").digest("hex");if(f&&_ instanceof ArrayBuffer)_=new Uint8Array(_);else if(_.length===void 0)return w(_);return M.createHash("md4").update(new I(_)).digest("hex")};return L};function y(w){if(w)O[0]=O[16]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=O[10]=O[11]=O[12]=O[13]=O[14]=O[15]=0,this.blocks=O,this.buffer8=A;else if(f){var M=new ArrayBuffer(68);this.buffer8=new Uint8Array(M),this.blocks=new Uint32Array(M)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}y.prototype.update=function(w){if(!this.finalized){var M=typeof w!="string";M&&f&&w instanceof ArrayBuffer&&(w=new Uint8Array(w));for(var I,L=0,_,J=w.length||0,K=this.blocks,$=this.buffer8;L<J;){if(this.hashed&&(this.hashed=!1,K[0]=K[16],K[16]=K[1]=K[2]=K[3]=K[4]=K[5]=K[6]=K[7]=K[8]=K[9]=K[10]=K[11]=K[12]=K[13]=K[14]=K[15]=0),M)if(f)for(_=this.start;L<J&&_<64;++L)$[_++]=w[L];else for(_=this.start;L<J&&_<64;++L)K[_>>2]|=w[L]<<E[_++&3];else if(f)for(_=this.start;L<J&&_<64;++L)I=w.charCodeAt(L),I<128?$[_++]=I:I<2048?($[_++]=192|I>>6,$[_++]=128|I&63):I<55296||I>=57344?($[_++]=224|I>>12,$[_++]=128|I>>6&63,$[_++]=128|I&63):(I=65536+((I&1023)<<10|w.charCodeAt(++L)&1023),$[_++]=240|I>>18,$[_++]=128|I>>12&63,$[_++]=128|I>>6&63,$[_++]=128|I&63);else for(_=this.start;L<J&&_<64;++L)I=w.charCodeAt(L),I<128?K[_>>2]|=I<<E[_++&3]:I<2048?(K[_>>2]|=(192|I>>6)<<E[_++&3],K[_>>2]|=(128|I&63)<<E[_++&3]):I<55296||I>=57344?(K[_>>2]|=(224|I>>12)<<E[_++&3],K[_>>2]|=(128|I>>6&63)<<E[_++&3],K[_>>2]|=(128|I&63)<<E[_++&3]):(I=65536+((I&1023)<<10|w.charCodeAt(++L)&1023),K[_>>2]|=(240|I>>18)<<E[_++&3],K[_>>2]|=(128|I>>12&63)<<E[_++&3],K[_>>2]|=(128|I>>6&63)<<E[_++&3],K[_>>2]|=(128|I&63)<<E[_++&3]);this.lastByteIndex=_,this.bytes+=_-this.start,_>=64?(this.start=_-64,this.hash(),this.hashed=!0):this.start=_}return this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,M=this.lastByteIndex;w[M>>2]|=h[M&3],M>=56&&(this.hashed||this.hash(),w[0]=w[16],w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0),w[14]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var w,M,I,L,_,J,K,$,B=this.blocks;this.first?(w=B[0]-1,w=w<<3|w>>>29,L=(w&4023233417|~w&2562383102)+B[1]+271733878,L=L<<7|L>>>25,I=(L&w|~L&4023233417)+B[2]-1732584194,I=I<<11|I>>>21,M=(I&L|~I&w)+B[3]-271733879,M=M<<19|M>>>13):(w=this.h0,M=this.h1,I=this.h2,L=this.h3,w+=(M&I|~M&L)+B[0],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[1],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[2],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[3],M=M<<19|M>>>13),w+=(M&I|~M&L)+B[4],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[5],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[6],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[7],M=M<<19|M>>>13,w+=(M&I|~M&L)+B[8],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[9],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[10],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[11],M=M<<19|M>>>13,w+=(M&I|~M&L)+B[12],w=w<<3|w>>>29,L+=(w&M|~w&I)+B[13],L=L<<7|L>>>25,I+=(L&w|~L&M)+B[14],I=I<<11|I>>>21,M+=(I&L|~I&w)+B[15],M=M<<19|M>>>13,J=M&I,w+=(J|M&L|I&L)+B[0]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|J)+B[4]+1518500249,L=L<<5|L>>>27,$=L&w,I+=($|L&M|_)+B[8]+1518500249,I=I<<9|I>>>23,K=I&L,M+=(K|I&w|$)+B[12]+1518500249,M=M<<13|M>>>19,J=M&I,w+=(J|M&L|K)+B[1]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|J)+B[5]+1518500249,L=L<<5|L>>>27,$=L&w,I+=($|L&M|_)+B[9]+1518500249,I=I<<9|I>>>23,K=I&L,M+=(K|I&w|$)+B[13]+1518500249,M=M<<13|M>>>19,J=M&I,w+=(J|M&L|K)+B[2]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|J)+B[6]+1518500249,L=L<<5|L>>>27,$=L&w,I+=($|L&M|_)+B[10]+1518500249,I=I<<9|I>>>23,K=I&L,M+=(K|I&w|$)+B[14]+1518500249,M=M<<13|M>>>19,J=M&I,w+=(J|M&L|K)+B[3]+1518500249,w=w<<3|w>>>29,_=w&M,L+=(_|w&I|J)+B[7]+1518500249,L=L<<5|L>>>27,$=L&w,I+=($|L&M|_)+B[11]+1518500249,I=I<<9|I>>>23,M+=(I&L|I&w|$)+B[15]+1518500249,M=M<<13|M>>>19,J=M^I,w+=(J^L)+B[0]+1859775393,w=w<<3|w>>>29,L+=(J^w)+B[8]+1859775393,L=L<<9|L>>>23,$=L^w,I+=($^M)+B[4]+1859775393,I=I<<11|I>>>21,M+=($^I)+B[12]+1859775393,M=M<<15|M>>>17,J=M^I,w+=(J^L)+B[2]+1859775393,w=w<<3|w>>>29,L+=(J^w)+B[10]+1859775393,L=L<<9|L>>>23,$=L^w,I+=($^M)+B[6]+1859775393,I=I<<11|I>>>21,M+=($^I)+B[14]+1859775393,M=M<<15|M>>>17,J=M^I,w+=(J^L)+B[1]+1859775393,w=w<<3|w>>>29,L+=(J^w)+B[9]+1859775393,L=L<<9|L>>>23,$=L^w,I+=($^M)+B[5]+1859775393,I=I<<11|I>>>21,M+=($^I)+B[13]+1859775393,M=M<<15|M>>>17,J=M^I,w+=(J^L)+B[3]+1859775393,w=w<<3|w>>>29,L+=(J^w)+B[11]+1859775393,L=L<<9|L>>>23,$=L^w,I+=($^M)+B[7]+1859775393,I=I<<11|I>>>21,M+=($^I)+B[15]+1859775393,M=M<<15|M>>>17,this.first?(this.h0=w+1732584193<<0,this.h1=M-271733879<<0,this.h2=I-1732584194<<0,this.h3=L+271733878<<0,this.first=!1):(this.h0=this.h0+w<<0,this.h1=this.h1+M<<0,this.h2=this.h2+I<<0,this.h3=this.h3+L<<0)},y.prototype.hex=function(){this.finalize();var w=this.h0,M=this.h1,I=this.h2,L=this.h3;return l[w>>4&15]+l[w&15]+l[w>>12&15]+l[w>>8&15]+l[w>>20&15]+l[w>>16&15]+l[w>>28&15]+l[w>>24&15]+l[M>>4&15]+l[M&15]+l[M>>12&15]+l[M>>8&15]+l[M>>20&15]+l[M>>16&15]+l[M>>28&15]+l[M>>24&15]+l[I>>4&15]+l[I&15]+l[I>>12&15]+l[I>>8&15]+l[I>>20&15]+l[I>>16&15]+l[I>>28&15]+l[I>>24&15]+l[L>>4&15]+l[L&15]+l[L>>12&15]+l[L>>8&15]+l[L>>20&15]+l[L>>16&15]+l[L>>28&15]+l[L>>24&15]},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var w=this.h0,M=this.h1,I=this.h2,L=this.h3;return[w&255,w>>8&255,w>>16&255,w>>24&255,M&255,M>>8&255,M>>16&255,M>>24&255,I&255,I>>8&255,I>>16&255,I>>24&255,L&255,L>>8&255,L>>16&255,L>>24&255]},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var w=new ArrayBuffer(16),M=new Uint32Array(w);return M[0]=this.h0,M[1]=this.h1,M[2]=this.h2,M[3]=this.h3,w},y.prototype.buffer=y.prototype.arrayBuffer;var U=q();r?di.exports=U:(n.md4=U,u&&define(function(){return U}))})()});var oh=S((_i,ih)=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.default=void 0;var Ew=rh(Ye()),vw=yw(require("crypto")),gw=rh(th());function nh(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(nh=function(u){return u?r:t})(n)}function yw(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=nh(t);if(r&&r.has(n))return r.get(n);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=n[l]}return u.default=n,r&&r.set(n,u),u}function rh(n){return n&&n.__esModule?n:{default:n}}var pi=class{constructor(t){this.data=void 0,this.data=this.createResponse(t)}toString(t=""){return t+"NTLM Auth"}createResponse(t){let r=this.createClientNonce(),u=24,f=16,l=t.domain,h=t.userName,E=t.password,v=t.ntlmpacket,O=v.target,A=v.nonce,b=64+l.length*2+h.length*2+u+f+8+8+8+4+O.length+4,C=new Ew.default(b);C.position=0,C.writeString("NTLMSSP\0","utf8"),C.writeUInt32LE(3);let q=64,F=q,y=F+l.length*2,U=y+h.length*2,w=U+u;C.writeUInt16LE(u),C.writeUInt16LE(u),C.writeUInt32LE(U),C.writeUInt16LE(f),C.writeUInt16LE(f),C.writeUInt32LE(w),C.writeUInt16LE(l.length*2),C.writeUInt16LE(l.length*2),C.writeUInt32LE(F),C.writeUInt16LE(h.length*2),C.writeUInt16LE(h.length*2),C.writeUInt32LE(y),C.writeUInt16LE(0),C.writeUInt16LE(0),C.writeUInt32LE(q),C.writeUInt16LE(0),C.writeUInt16LE(0),C.writeUInt32LE(q),C.writeUInt16LE(33281),C.writeUInt16LE(8),C.writeString(l,"ucs2"),C.writeString(h,"ucs2");let M=this.lmv2Response(l,h,E,A,r);C.copyFrom(M);let I=new Date().getTime(),L=this.ntlmv2Response(l,h,E,A,O,r,I);C.copyFrom(L),C.writeUInt32LE(257),C.writeUInt32LE(0);let _=this.createTimestamp(I);return C.copyFrom(_),C.copyFrom(r),C.writeUInt32LE(0),C.copyFrom(O),C.writeUInt32LE(0),C.data}createClientNonce(){let t=Buffer.alloc(8,0),r=0;for(;r<8;)t.writeUInt8(Math.ceil(Math.random()*255),r),r++;return t}ntlmv2Response(t,r,u,f,l,h,E){let v=this.createTimestamp(E),O=this.ntv2Hash(t,r,u),A=40+l.length,b=Buffer.alloc(A,0);return f.copy(b,0,0,8),b.writeUInt32LE(257,8),b.writeUInt32LE(0,12),v.copy(b,16,0,8),h.copy(b,24,0,8),b.writeUInt32LE(0,32),l.copy(b,36,0,l.length),b.writeUInt32LE(0,36+l.length),this.hmacMD5(b,O)}createTimestamp(t){let r=(BigInt(t)+BigInt(11644473600))*BigInt(1e7),u=Number(r&BigInt(4294967295)),f=Number(r>>BigInt(32)&BigInt(4294967295)),l=Buffer.alloc(8);return l.writeUInt32LE(u,0),l.writeUInt32LE(f,4),l}lmv2Response(t,r,u,f,l){let h=this.ntv2Hash(t,r,u),E=Buffer.alloc(f.length+l.length,0);f.copy(E),l.copy(E,f.length,0,l.length);let v=this.hmacMD5(E,h),O=Buffer.alloc(v.length+l.length,0);return v.copy(O),l.copy(O,v.length,0,l.length),O}ntv2Hash(t,r,u){let f=this.ntHash(u),l=Buffer.from(r.toUpperCase()+t.toUpperCase(),"ucs2");return this.hmacMD5(l,f)}ntHash(t){let r=Buffer.from(t,"ucs2");return Buffer.from(gw.default.arrayBuffer(r))}hmacMD5(t,r){return vw.createHmac("MD5",r).update(t).digest()}},Tw=pi;_i.default=Tw;ih.exports=pi});var gn=S(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.RequestError=vn.ConnectionError=void 0;var Wa=class extends Error{constructor(t,r){super(t),this.code=void 0,this.isTransient=void 0,this.code=r}};vn.ConnectionError=Wa;var Ga=class extends Error{constructor(t,r){super(t),this.code=void 0,this.number=void 0,this.state=void 0,this.class=void 0,this.serverName=void 0,this.procName=void 0,this.lineNumber=void 0,this.code=r}};vn.RequestError=Ga});var sh=S(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.SQLServerStatementColumnEncryptionSetting=ke.SQLServerEncryptionType=ke.DescribeParameterEncryptionResultSet2=ke.DescribeParameterEncryptionResultSet1=void 0;var Ka;ke.SQLServerEncryptionType=Ka;(function(n){n[n.Deterministic=1]="Deterministic",n[n.Randomized=2]="Randomized",n[n.PlainText=0]="PlainText"})(Ka||(ke.SQLServerEncryptionType=Ka={}));var za;ke.DescribeParameterEncryptionResultSet1=za;(function(n){n[n.KeyOrdinal=0]="KeyOrdinal",n[n.DbId=1]="DbId",n[n.KeyId=2]="KeyId",n[n.KeyVersion=3]="KeyVersion",n[n.KeyMdVersion=4]="KeyMdVersion",n[n.EncryptedKey=5]="EncryptedKey",n[n.ProviderName=6]="ProviderName",n[n.KeyPath=7]="KeyPath",n[n.KeyEncryptionAlgorithm=8]="KeyEncryptionAlgorithm"})(za||(ke.DescribeParameterEncryptionResultSet1=za={}));var Za;ke.DescribeParameterEncryptionResultSet2=Za;(function(n){n[n.ParameterOrdinal=0]="ParameterOrdinal",n[n.ParameterName=1]="ParameterName",n[n.ColumnEncryptionAlgorithm=2]="ColumnEncryptionAlgorithm",n[n.ColumnEncrytionType=3]="ColumnEncrytionType",n[n.ColumnEncryptionKeyOrdinal=4]="ColumnEncryptionKeyOrdinal",n[n.NormalizationRuleVersion=5]="NormalizationRuleVersion"})(Za||(ke.DescribeParameterEncryptionResultSet2=Za={}));var $a;ke.SQLServerStatementColumnEncryptionSetting=$a;(function(n){n[n.UseConnectionSetting=0]="UseConnectionSetting",n[n.Enabled=1]="Enabled",n[n.ResultSetOnly=2]="ResultSetOnly",n[n.Disabled=3]="Disabled"})($a||(ke.SQLServerStatementColumnEncryptionSetting=$a={}))});var vi=S((Ei,ah)=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.default=void 0;var ww=require("events"),Sw=gn(),Ow=sh(),mi=class extends ww.EventEmitter{on(t,r){return super.on(t,r)}emit(t,...r){return super.emit(t,...r)}constructor(t,r,u){super(),this.sqlTextOrProcedure=void 0,this.parameters=void 0,this.parametersByName=void 0,this.preparing=void 0,this.canceled=void 0,this.paused=void 0,this.userCallback=void 0,this.handle=void 0,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.rows=void 0,this.rst=void 0,this.rowCount=void 0,this.callback=void 0,this.shouldHonorAE=void 0,this.statementColumnEncryptionSetting=void 0,this.cryptoMetadataLoaded=void 0,this.sqlTextOrProcedure=t,this.parameters=[],this.parametersByName={},this.preparing=!1,this.handle=void 0,this.canceled=!1,this.paused=!1,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.userCallback=r,this.statementColumnEncryptionSetting=u&&u.statementColumnEncryptionSetting||Ow.SQLServerStatementColumnEncryptionSetting.UseConnectionSetting,this.cryptoMetadataLoaded=!1,this.callback=function(f,l,h){this.preparing?(this.preparing=!1,f?this.emit("error",f):this.emit("prepared")):(this.userCallback(f,l,h),this.emit("requestCompleted"))}}addParameter(t,r,u,f){let{output:l=!1,length:h,precision:E,scale:v}=f??{},O={type:r,name:t,value:u,output:l,length:h,precision:E,scale:v};this.parameters.push(O),this.parametersByName[t]=O}addOutputParameter(t,r,u,f){this.addParameter(t,r,u,{...f,output:!0})}makeParamsParameter(t){let r="";for(let u=0,f=t.length;u<f;u++){let l=t[u];r.length>0&&(r+=", "),r+="@"+l.name+" ",r+=l.type.declaration(l),l.output&&(r+=" OUTPUT")}return r}validateParameters(t){for(let r=0,u=this.parameters.length;r<u;r++){let f=this.parameters[r];try{f.value=f.type.validate(f.value,t)}catch(l){throw new Sw.RequestError("Validation failed for parameter '"+f.name+"'. "+l.message,"EPARAM")}}}pause(){this.paused||(this.emit("pause"),this.paused=!0)}resume(){!this.paused||(this.paused=!1,this.emit("resume"))}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}setTimeout(t){this.timeout=t}},Nw=mi;Ei.default=Nw;ah.exports=mi});var gi=S(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.writeToTrackingBuffer=bw;var Iw={QUERY_NOTIFICATIONS:1,TXN_DESCRIPTOR:2,TRACE_ACTIVITY:3},Aw=4+8,Dw=4+2+Aw;function bw(n,t,r){n.writeUInt32LE(0),n.writeUInt32LE(Dw),n.writeUInt16LE(Iw.TXN_DESCRIPTOR),n.writeBuffer(t),n.writeUInt32LE(r);let u=n.data;return u.writeUInt32LE(u.length,0),n}});var ch=S((Ti,lh)=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.default=void 0;var uh=Lw(Ye()),Rw=gi(),fh;function Lw(n){return n&&n.__esModule?n:{default:n}}var Cw={BY_REF_VALUE:1,DEFAULT_VALUE:2};fh=Symbol.iterator;var yi=class{constructor(t,r,u,f,l){this.procedure=void 0,this.parameters=void 0,this.options=void 0,this.txnDescriptor=void 0,this.collation=void 0,this.procedure=t,this.parameters=r,this.options=f,this.txnDescriptor=u,this.collation=l}[fh](){return this.generateData()}*generateData(){let t=new uh.default(500);this.options.tdsVersion>="7_2"&&(0,Rw.writeToTrackingBuffer)(t,this.txnDescriptor,1),typeof this.procedure=="string"?t.writeUsVarchar(this.procedure):(t.writeUShort(65535),t.writeUShort(this.procedure));let r=0;t.writeUInt16LE(r),yield t.data;let u=this.parameters.length;for(let f=0;f<u;f++)yield*this.generateParameterData(this.parameters[f])}toString(t=""){return t+("RPC Request - "+this.procedure)}*generateParameterData(t){let r=new uh.default(3+Buffer.byteLength(t.name,"ucs-2")+1);r.writeBVarchar("@"+t.name);let u=0;t.output&&(u|=Cw.BY_REF_VALUE),r.writeUInt8(u),yield r.data;let f={value:t.value},l=t.type;(l.id&48)===32&&(t.length?f.length=t.length:l.resolveLength&&(f.length=l.resolveLength(t))),t.precision?f.precision=t.precision:l.resolvePrecision&&(f.precision=l.resolvePrecision(t)),t.scale?f.scale=t.scale:l.resolveScale&&(f.scale=l.resolveScale(t)),this.collation&&(f.collation=this.collation),yield l.generateTypeInfo(f,this.options),yield l.generateParameterLength(f,this.options),yield*l.generateParameterData(f,this.options)}},Mw=yi;Ti.default=Mw;lh.exports=yi});var ph=S((Si,dh)=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.default=void 0;var Pw=xw(Ye()),Fw=gi(),hh;function xw(n){return n&&n.__esModule?n:{default:n}}hh=Symbol.iterator;var wi=class{constructor(t,r,u){this.sqlText=void 0,this.txnDescriptor=void 0,this.options=void 0,this.sqlText=t,this.txnDescriptor=r,this.options=u}*[hh](){if(this.options.tdsVersion>="7_2"){let t=new Pw.default(18,"ucs2"),r=1;(0,Fw.writeToTrackingBuffer)(t,this.txnDescriptor,r),yield t.data}yield Buffer.from(this.sqlText,"ucs2")}toString(t=""){return t+("SQL Batch - "+this.sqlText)}},Uw=wi;Si.default=Uw;dh.exports=wi});var mh=S((JM,_h)=>{"use strict";var Bw=require("stream").Duplex,Oi=Symbol("Callback"),Ht=Symbol("Other"),Ni=class extends Bw{constructor(t){super(t),this[Oi]=null,this[Ht]=null}_read(){let t=this[Oi];t&&(this[Oi]=null,t())}_write(t,r,u){this[Ht][Oi]=u,this[Ht].push(t)}_final(t){this[Ht].on("end",t),this[Ht].push(null)}},Xa=class{constructor(t){this.socket1=new Ni(t),this.socket2=new Ni(t),this.socket1[Ht]=this.socket2,this.socket2[Ht]=this.socket1}};_h.exports=Xa});var Di=S((Ai,Eh)=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.default=void 0;var Yw=require("stream"),Ii=class extends Yw.PassThrough{constructor({type:t,resetConnection:r=!1}){super(),this.type=void 0,this.resetConnection=void 0,this.ignore=void 0,this.type=t,this.resetConnection=r,this.ignore=!1}},qw=Ii;Ai.default=qw;Eh.exports=Ii});var Ja=S((QM,vh)=>{vh.exports=require("stream")});var Oh=S((eP,Sh)=>{"use strict";function gh(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);t&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,u)}return r}function yh(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gh(Object(r),!0).forEach(function(u){kw(n,u,r[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):gh(Object(r)).forEach(function(u){Object.defineProperty(n,u,Object.getOwnPropertyDescriptor(r,u))})}return n}function kw(n,t,r){return t=wh(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function Vw(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Th(n,t){for(var r=0;r<t.length;r++){var u=t[r];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,wh(u.key),u)}}function Hw(n,t,r){return t&&Th(n.prototype,t),r&&Th(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function wh(n){var t=Ww(n,"string");return typeof t=="symbol"?t:String(t)}function Ww(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var u=r.call(n,t||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Gw=require("buffer"),bi=Gw.Buffer,Kw=require("util"),Qa=Kw.inspect,zw=Qa&&Qa.custom||"inspect";function Zw(n,t,r){bi.prototype.copy.call(n,t,r)}Sh.exports=function(){function n(){Vw(this,n),this.head=null,this.tail=null,this.length=0}return Hw(n,[{key:"push",value:function(r){var u={data:r,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(r){var u={data:r,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var u=this.head,f=""+u.data;u=u.next;)f+=r+u.data;return f}},{key:"concat",value:function(r){if(this.length===0)return bi.alloc(0);for(var u=bi.allocUnsafe(r>>>0),f=this.head,l=0;f;)Zw(f.data,u,l),l+=f.data.length,f=f.next;return u}},{key:"consume",value:function(r,u){var f;return r<this.head.data.length?(f=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?f=this.shift():f=u?this._getString(r):this._getBuffer(r),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var u=this.head,f=1,l=u.data;for(r-=l.length;u=u.next;){var h=u.data,E=r>h.length?h.length:r;if(E===h.length?l+=h:l+=h.slice(0,r),r-=E,r===0){E===h.length?(++f,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=h.slice(E));break}++f}return this.length-=f,l}},{key:"_getBuffer",value:function(r){var u=bi.allocUnsafe(r),f=this.head,l=1;for(f.data.copy(u),r-=f.data.length;f=f.next;){var h=f.data,E=r>h.length?h.length:r;if(h.copy(u,u.length-r,0,E),r-=E,r===0){E===h.length?(++l,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=h.slice(E));break}++l}return this.length-=l,u}},{key:zw,value:function(r,u){return Qa(this,yh(yh({},u),{},{depth:0,customInspect:!1}))}}]),n}()});var tu=S((tP,Ih)=>{"use strict";function $w(n,t){var r=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(t?t(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(eu,this,n)):process.nextTick(eu,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(l){!t&&l?r._writableState?r._writableState.errorEmitted?process.nextTick(Ri,r):(r._writableState.errorEmitted=!0,process.nextTick(Nh,r,l)):process.nextTick(Nh,r,l):t?(process.nextTick(Ri,r),t(l)):process.nextTick(Ri,r)}),this)}function Nh(n,t){eu(n,t),Ri(n)}function Ri(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function jw(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function eu(n,t){n.emit("error",t)}function Xw(n,t){var r=n._readableState,u=n._writableState;r&&r.autoDestroy||u&&u.autoDestroy?n.destroy(t):n.emit("error",t)}Ih.exports={destroy:$w,undestroy:jw,errorOrDestroy:Xw}});var Lt=S((nP,bh)=>{"use strict";var Dh={};function Je(n,t,r){r||(r=Error);function u(l,h,E){return typeof t=="string"?t:t(l,h,E)}class f extends r{constructor(h,E,v){super(u(h,E,v))}}f.prototype.name=r.name,f.prototype.code=n,Dh[n]=f}function Ah(n,t){if(Array.isArray(n)){let r=n.length;return n=n.map(u=>String(u)),r>2?`one of ${t} ${n.slice(0,r-1).join(", ")}, or `+n[r-1]:r===2?`one of ${t} ${n[0]} or ${n[1]}`:`of ${t} ${n[0]}`}else return`of ${t} ${String(n)}`}function Jw(n,t,r){return n.substr(!r||r<0?0:+r,t.length)===t}function Qw(n,t,r){return(r===void 0||r>n.length)&&(r=n.length),n.substring(r-t.length,r)===t}function eS(n,t,r){return typeof r!="number"&&(r=0),r+t.length>n.length?!1:n.indexOf(t,r)!==-1}Je("ERR_INVALID_OPT_VALUE",function(n,t){return'The value "'+t+'" is invalid for option "'+n+'"'},TypeError);Je("ERR_INVALID_ARG_TYPE",function(n,t,r){let u;typeof t=="string"&&Jw(t,"not ")?(u="must not be",t=t.replace(/^not /,"")):u="must be";let f;if(Qw(n," argument"))f=`The ${n} ${u} ${Ah(t,"type")}`;else{let l=eS(n,".")?"property":"argument";f=`The "${n}" ${l} ${u} ${Ah(t,"type")}`}return f+=`. Received type ${typeof r}`,f},TypeError);Je("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Je("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"});Je("ERR_STREAM_PREMATURE_CLOSE","Premature close");Je("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"});Je("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Je("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Je("ERR_STREAM_WRITE_AFTER_END","write after end");Je("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Je("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError);Je("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");bh.exports.codes=Dh});var nu=S((rP,Rh)=>{"use strict";var tS=Lt().codes.ERR_INVALID_OPT_VALUE;function nS(n,t,r){return n.highWaterMark!=null?n.highWaterMark:t?n[r]:null}function rS(n,t,r,u){var f=nS(t,u,r);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var l=u?r:"highWaterMark";throw new tS(l,f)}return Math.floor(f)}return n.objectMode?16:16*1024}Rh.exports={getHighWaterMark:rS}});var Lh=S((iP,ru)=>{typeof Object.create=="function"?ru.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ru.exports=function(t,r){if(r){t.super_=r;var u=function(){};u.prototype=r.prototype,t.prototype=new u,t.prototype.constructor=t}}});var Wt=S((oP,ou)=>{try{if(iu=require("util"),typeof iu.inherits!="function")throw"";ou.exports=iu.inherits}catch{ou.exports=Lh()}var iu});var Mh=S((sP,Ch)=>{Ch.exports=require("util").deprecate});var uu=S((aP,Yh)=>{"use strict";Yh.exports=we;function Fh(n){var t=this;this.next=null,this.entry=null,this.finish=function(){RS(t,n)}}var yn;we.WritableState=er;var iS={deprecate:Mh()},xh=Ja(),Ci=require("buffer").Buffer,oS=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function sS(n){return Ci.from(n)}function aS(n){return Ci.isBuffer(n)||n instanceof oS}var au=tu(),uS=nu(),fS=uS.getHighWaterMark,Ct=Lt().codes,lS=Ct.ERR_INVALID_ARG_TYPE,cS=Ct.ERR_METHOD_NOT_IMPLEMENTED,hS=Ct.ERR_MULTIPLE_CALLBACK,dS=Ct.ERR_STREAM_CANNOT_PIPE,pS=Ct.ERR_STREAM_DESTROYED,_S=Ct.ERR_STREAM_NULL_VALUES,mS=Ct.ERR_STREAM_WRITE_AFTER_END,ES=Ct.ERR_UNKNOWN_ENCODING,Tn=au.errorOrDestroy;Wt()(we,xh);function vS(){}function er(n,t,r){yn=yn||Gt(),n=n||{},typeof r!="boolean"&&(r=t instanceof yn),this.objectMode=!!n.objectMode,r&&(this.objectMode=this.objectMode||!!n.writableObjectMode),this.highWaterMark=fS(this,n,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=n.decodeStrings===!1;this.decodeStrings=!u,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(f){NS(t,f)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=n.emitClose!==!1,this.autoDestroy=!!n.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Fh(this)}er.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(er.prototype,"buffer",{get:iS.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Li;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Li=Function.prototype[Symbol.hasInstance],Object.defineProperty(we,Symbol.hasInstance,{value:function(t){return Li.call(this,t)?!0:this!==we?!1:t&&t._writableState instanceof er}})):Li=function(t){return t instanceof this};function we(n){yn=yn||Gt();var t=this instanceof yn;if(!t&&!Li.call(we,this))return new we(n);this._writableState=new er(n,this,t),this.writable=!0,n&&(typeof n.write=="function"&&(this._write=n.write),typeof n.writev=="function"&&(this._writev=n.writev),typeof n.destroy=="function"&&(this._destroy=n.destroy),typeof n.final=="function"&&(this._final=n.final)),xh.call(this)}we.prototype.pipe=function(){Tn(this,new dS)};function gS(n,t){var r=new mS;Tn(n,r),process.nextTick(t,r)}function yS(n,t,r,u){var f;return r===null?f=new _S:typeof r!="string"&&!t.objectMode&&(f=new lS("chunk",["string","Buffer"],r)),f?(Tn(n,f),process.nextTick(u,f),!1):!0}we.prototype.write=function(n,t,r){var u=this._writableState,f=!1,l=!u.objectMode&&aS(n);return l&&!Ci.isBuffer(n)&&(n=sS(n)),typeof t=="function"&&(r=t,t=null),l?t="buffer":t||(t=u.defaultEncoding),typeof r!="function"&&(r=vS),u.ending?gS(this,r):(l||yS(this,u,n,r))&&(u.pendingcb++,f=wS(this,u,l,n,t,r)),f};we.prototype.cork=function(){this._writableState.corked++};we.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,!n.writing&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&Uh(this,n))};we.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new ES(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(we.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function TS(n,t,r){return!n.objectMode&&n.decodeStrings!==!1&&typeof t=="string"&&(t=Ci.from(t,r)),t}Object.defineProperty(we.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function wS(n,t,r,u,f,l){if(!r){var h=TS(t,u,f);u!==h&&(r=!0,f="buffer",u=h)}var E=t.objectMode?1:u.length;t.length+=E;var v=t.length<t.highWaterMark;if(v||(t.needDrain=!0),t.writing||t.corked){var O=t.lastBufferedRequest;t.lastBufferedRequest={chunk:u,encoding:f,isBuf:r,callback:l,next:null},O?O.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else su(n,t,!1,E,u,f,l);return v}function su(n,t,r,u,f,l,h){t.writelen=u,t.writecb=h,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new pS("write")):r?n._writev(f,t.onwrite):n._write(f,l,t.onwrite),t.sync=!1}function SS(n,t,r,u,f){--t.pendingcb,r?(process.nextTick(f,u),process.nextTick(Qn,n,t),n._writableState.errorEmitted=!0,Tn(n,u)):(f(u),n._writableState.errorEmitted=!0,Tn(n,u),Qn(n,t))}function OS(n){n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0}function NS(n,t){var r=n._writableState,u=r.sync,f=r.writecb;if(typeof f!="function")throw new hS;if(OS(r),t)SS(n,r,u,t,f);else{var l=Bh(r)||n.destroyed;!l&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Uh(n,r),u?process.nextTick(Ph,n,r,l,f):Ph(n,r,l,f)}}function Ph(n,t,r,u){r||IS(n,t),t.pendingcb--,u(),Qn(n,t)}function IS(n,t){t.length===0&&t.needDrain&&(t.needDrain=!1,n.emit("drain"))}function Uh(n,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(n._writev&&r&&r.next){var u=t.bufferedRequestCount,f=new Array(u),l=t.corkedRequestsFree;l.entry=r;for(var h=0,E=!0;r;)f[h]=r,r.isBuf||(E=!1),r=r.next,h+=1;f.allBuffers=E,su(n,t,!0,t.length,f,"",l.finish),t.pendingcb++,t.lastBufferedRequest=null,l.next?(t.corkedRequestsFree=l.next,l.next=null):t.corkedRequestsFree=new Fh(t),t.bufferedRequestCount=0}else{for(;r;){var v=r.chunk,O=r.encoding,A=r.callback,b=t.objectMode?1:v.length;if(su(n,t,!1,b,v,O,A),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}we.prototype._write=function(n,t,r){r(new cS("_write()"))};we.prototype._writev=null;we.prototype.end=function(n,t,r){var u=this._writableState;return typeof n=="function"?(r=n,n=null,t=null):typeof t=="function"&&(r=t,t=null),n!=null&&this.write(n,t),u.corked&&(u.corked=1,this.uncork()),u.ending||bS(this,u,r),this};Object.defineProperty(we.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Bh(n){return n.ending&&n.length===0&&n.bufferedRequest===null&&!n.finished&&!n.writing}function AS(n,t){n._final(function(r){t.pendingcb--,r&&Tn(n,r),t.prefinished=!0,n.emit("prefinish"),Qn(n,t)})}function DS(n,t){!t.prefinished&&!t.finalCalled&&(typeof n._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(AS,n,t)):(t.prefinished=!0,n.emit("prefinish")))}function Qn(n,t){var r=Bh(t);if(r&&(DS(n,t),t.pendingcb===0&&(t.finished=!0,n.emit("finish"),t.autoDestroy))){var u=n._readableState;(!u||u.autoDestroy&&u.endEmitted)&&n.destroy()}return r}function bS(n,t,r){t.ending=!0,Qn(n,t),r&&(t.finished?process.nextTick(r):n.once("finish",r)),t.ended=!0,n.writable=!1}function RS(n,t,r){var u=n.entry;for(n.entry=null;u;){var f=u.callback;t.pendingcb--,f(r),u=u.next}t.corkedRequestsFree.next=n}Object.defineProperty(we.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});we.prototype.destroy=au.destroy;we.prototype._undestroy=au.undestroy;we.prototype._destroy=function(n,t){t(n)}});var Gt=S((uP,kh)=>{"use strict";var LS=Object.keys||function(n){var t=[];for(var r in n)t.push(r);return t};kh.exports=_t;var qh=cu(),lu=uu();Wt()(_t,qh);for(fu=LS(lu.prototype),Mi=0;Mi<fu.length;Mi++)Pi=fu[Mi],_t.prototype[Pi]||(_t.prototype[Pi]=lu.prototype[Pi]);var fu,Pi,Mi;function _t(n){if(!(this instanceof _t))return new _t(n);qh.call(this,n),lu.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",CS)))}Object.defineProperty(_t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(_t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(_t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function CS(){this._writableState.ended||process.nextTick(MS,this)}function MS(n){n.end()}Object.defineProperty(_t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Wh=S((hu,Hh)=>{var Fi=require("buffer"),mt=Fi.Buffer;function Vh(n,t){for(var r in n)t[r]=n[r]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?Hh.exports=Fi:(Vh(Fi,hu),hu.Buffer=Kt);function Kt(n,t,r){return mt(n,t,r)}Kt.prototype=Object.create(mt.prototype);Vh(mt,Kt);Kt.from=function(n,t,r){if(typeof n=="number")throw new TypeError("Argument must not be a number");return mt(n,t,r)};Kt.alloc=function(n,t,r){if(typeof n!="number")throw new TypeError("Argument must be a number");var u=mt(n);return t!==void 0?typeof r=="string"?u.fill(t,r):u.fill(t):u.fill(0),u};Kt.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return mt(n)};Kt.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return Fi.SlowBuffer(n)}});var _u=S(Kh=>{"use strict";var pu=Wh().Buffer,Gh=pu.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function PS(n){if(!n)return"utf8";for(var t;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(t)return;n=(""+n).toLowerCase(),t=!0}}function FS(n){var t=PS(n);if(typeof t!="string"&&(pu.isEncoding===Gh||!Gh(n)))throw new Error("Unknown encoding: "+n);return t||n}Kh.StringDecoder=tr;function tr(n){this.encoding=FS(n);var t;switch(this.encoding){case"utf16le":this.text=kS,this.end=VS,t=4;break;case"utf8":this.fillLast=BS,t=4;break;case"base64":this.text=HS,this.end=WS,t=3;break;default:this.write=GS,this.end=KS;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=pu.allocUnsafe(t)}tr.prototype.write=function(n){if(n.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(n),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<n.length?t?t+this.text(n,r):this.text(n,r):t||""};tr.prototype.end=qS;tr.prototype.text=YS;tr.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function du(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function xS(n,t,r){var u=t.length-1;if(u<r)return 0;var f=du(t[u]);return f>=0?(f>0&&(n.lastNeed=f-1),f):--u<r||f===-2?0:(f=du(t[u]),f>=0?(f>0&&(n.lastNeed=f-2),f):--u<r||f===-2?0:(f=du(t[u]),f>=0?(f>0&&(f===2?f=0:n.lastNeed=f-3),f):0))}function US(n,t,r){if((t[0]&192)!==128)return n.lastNeed=0,"\uFFFD";if(n.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return n.lastNeed=1,"\uFFFD";if(n.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return n.lastNeed=2,"\uFFFD"}}function BS(n){var t=this.lastTotal-this.lastNeed,r=US(this,n,t);if(r!==void 0)return r;if(this.lastNeed<=n.length)return n.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,t,0,n.length),this.lastNeed-=n.length}function YS(n,t){var r=xS(this,n,t);if(!this.lastNeed)return n.toString("utf8",t);this.lastTotal=r;var u=n.length-(r-this.lastNeed);return n.copy(this.lastChar,0,u),n.toString("utf8",t,u)}function qS(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+"\uFFFD":t}function kS(n,t){if((n.length-t)%2===0){var r=n.toString("utf16le",t);if(r){var u=r.charCodeAt(r.length-1);if(u>=55296&&u<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",t,n.length-1)}function VS(n){var t=n&&n.length?this.write(n):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function HS(n,t){var r=(n.length-t)%3;return r===0?n.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",t,n.length-r))}function WS(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function GS(n){return n.toString(this.encoding)}function KS(n){return n&&n.length?this.write(n):""}});var xi=S((lP,$h)=>{"use strict";var zh=Lt().codes.ERR_STREAM_PREMATURE_CLOSE;function zS(n){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];n.apply(this,u)}}}function ZS(){}function $S(n){return n.setHeader&&typeof n.abort=="function"}function Zh(n,t,r){if(typeof t=="function")return Zh(n,null,t);t||(t={}),r=zS(r||ZS);var u=t.readable||t.readable!==!1&&n.readable,f=t.writable||t.writable!==!1&&n.writable,l=function(){n.writable||E()},h=n._writableState&&n._writableState.finished,E=function(){f=!1,h=!0,u||r.call(n)},v=n._readableState&&n._readableState.endEmitted,O=function(){u=!1,v=!0,f||r.call(n)},A=function(F){r.call(n,F)},b=function(){var F;if(u&&!v)return(!n._readableState||!n._readableState.ended)&&(F=new zh),r.call(n,F);if(f&&!h)return(!n._writableState||!n._writableState.ended)&&(F=new zh),r.call(n,F)},C=function(){n.req.on("finish",E)};return $S(n)?(n.on("complete",E),n.on("abort",b),n.req?C():n.on("request",C)):f&&!n._writableState&&(n.on("end",l),n.on("close",l)),n.on("end",O),n.on("finish",E),t.error!==!1&&n.on("error",A),n.on("close",b),function(){n.removeListener("complete",E),n.removeListener("abort",b),n.removeListener("request",C),n.req&&n.req.removeListener("finish",E),n.removeListener("end",l),n.removeListener("close",l),n.removeListener("finish",E),n.removeListener("end",O),n.removeListener("error",A),n.removeListener("close",b)}}$h.exports=Zh});var Xh=S((cP,jh)=>{"use strict";var Ui;function Mt(n,t,r){return t=jS(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function jS(n){var t=XS(n,"string");return typeof t=="symbol"?t:String(t)}function XS(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var u=r.call(n,t||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var JS=xi(),Pt=Symbol("lastResolve"),zt=Symbol("lastReject"),nr=Symbol("error"),Bi=Symbol("ended"),Zt=Symbol("lastPromise"),mu=Symbol("handlePromise"),$t=Symbol("stream");function Ft(n,t){return{value:n,done:t}}function QS(n){var t=n[Pt];if(t!==null){var r=n[$t].read();r!==null&&(n[Zt]=null,n[Pt]=null,n[zt]=null,t(Ft(r,!1)))}}function eO(n){process.nextTick(QS,n)}function tO(n,t){return function(r,u){n.then(function(){if(t[Bi]){r(Ft(void 0,!0));return}t[mu](r,u)},u)}}var nO=Object.getPrototypeOf(function(){}),rO=Object.setPrototypeOf((Ui={get stream(){return this[$t]},next:function(){var t=this,r=this[nr];if(r!==null)return Promise.reject(r);if(this[Bi])return Promise.resolve(Ft(void 0,!0));if(this[$t].destroyed)return new Promise(function(h,E){process.nextTick(function(){t[nr]?E(t[nr]):h(Ft(void 0,!0))})});var u=this[Zt],f;if(u)f=new Promise(tO(u,this));else{var l=this[$t].read();if(l!==null)return Promise.resolve(Ft(l,!1));f=new Promise(this[mu])}return this[Zt]=f,f}},Mt(Ui,Symbol.asyncIterator,function(){return this}),Mt(Ui,"return",function(){var t=this;return new Promise(function(r,u){t[$t].destroy(null,function(f){if(f){u(f);return}r(Ft(void 0,!0))})})}),Ui),nO),iO=function(t){var r,u=Object.create(rO,(r={},Mt(r,$t,{value:t,writable:!0}),Mt(r,Pt,{value:null,writable:!0}),Mt(r,zt,{value:null,writable:!0}),Mt(r,nr,{value:null,writable:!0}),Mt(r,Bi,{value:t._readableState.endEmitted,writable:!0}),Mt(r,mu,{value:function(l,h){var E=u[$t].read();E?(u[Zt]=null,u[Pt]=null,u[zt]=null,l(Ft(E,!1))):(u[Pt]=l,u[zt]=h)},writable:!0}),r));return u[Zt]=null,JS(t,function(f){if(f&&f.code!=="ERR_STREAM_PREMATURE_CLOSE"){var l=u[zt];l!==null&&(u[Zt]=null,u[Pt]=null,u[zt]=null,l(f)),u[nr]=f;return}var h=u[Pt];h!==null&&(u[Zt]=null,u[Pt]=null,u[zt]=null,h(Ft(void 0,!0))),u[Bi]=!0}),t.on("readable",eO.bind(null,u)),u};jh.exports=iO});var td=S((hP,ed)=>{"use strict";function Jh(n,t,r,u,f,l,h){try{var E=n[l](h),v=E.value}catch(O){r(O);return}E.done?t(v):Promise.resolve(v).then(u,f)}function oO(n){return function(){var t=this,r=arguments;return new Promise(function(u,f){var l=n.apply(t,r);function h(v){Jh(l,u,f,h,E,"next",v)}function E(v){Jh(l,u,f,h,E,"throw",v)}h(void 0)})}}function Qh(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);t&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),r.push.apply(r,u)}return r}function sO(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qh(Object(r),!0).forEach(function(u){aO(n,u,r[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Qh(Object(r)).forEach(function(u){Object.defineProperty(n,u,Object.getOwnPropertyDescriptor(r,u))})}return n}function aO(n,t,r){return t=uO(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function uO(n){var t=fO(n,"string");return typeof t=="symbol"?t:String(t)}function fO(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var u=r.call(n,t||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var lO=Lt().codes.ERR_INVALID_ARG_TYPE;function cO(n,t,r){var u;if(t&&typeof t.next=="function")u=t;else if(t&&t[Symbol.asyncIterator])u=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])u=t[Symbol.iterator]();else throw new lO("iterable",["Iterable"],t);var f=new n(sO({objectMode:!0},r)),l=!1;f._read=function(){l||(l=!0,h())};function h(){return E.apply(this,arguments)}function E(){return E=oO(function*(){try{var v=yield u.next(),O=v.value,A=v.done;A?f.push(null):f.push(yield O)?h():l=!1}catch(b){f.destroy(b)}}),E.apply(this,arguments)}return f}ed.exports=cO});var cu=S((pP,cd)=>{"use strict";cd.exports=ue;var wn;ue.ReadableState=od;var dP=require("events").EventEmitter,id=function(t,r){return t.listeners(r).length},ir=Ja(),Yi=require("buffer").Buffer,hO=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function dO(n){return Yi.from(n)}function pO(n){return Yi.isBuffer(n)||n instanceof hO}var Eu=require("util"),ee;Eu&&Eu.debuglog?ee=Eu.debuglog("stream"):ee=function(){};var _O=Oh(),Ou=tu(),mO=nu(),EO=mO.getHighWaterMark,qi=Lt().codes,vO=qi.ERR_INVALID_ARG_TYPE,gO=qi.ERR_STREAM_PUSH_AFTER_EOF,yO=qi.ERR_METHOD_NOT_IMPLEMENTED,TO=qi.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Sn,vu,gu;Wt()(ue,ir);var rr=Ou.errorOrDestroy,yu=["error","close","destroy","pause","resume"];function wO(n,t,r){if(typeof n.prependListener=="function")return n.prependListener(t,r);!n._events||!n._events[t]?n.on(t,r):Array.isArray(n._events[t])?n._events[t].unshift(r):n._events[t]=[r,n._events[t]]}function od(n,t,r){wn=wn||Gt(),n=n||{},typeof r!="boolean"&&(r=t instanceof wn),this.objectMode=!!n.objectMode,r&&(this.objectMode=this.objectMode||!!n.readableObjectMode),this.highWaterMark=EO(this,n,"readableHighWaterMark",r),this.buffer=new _O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=n.emitClose!==!1,this.autoDestroy=!!n.autoDestroy,this.destroyed=!1,this.defaultEncoding=n.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,n.encoding&&(Sn||(Sn=_u().StringDecoder),this.decoder=new Sn(n.encoding),this.encoding=n.encoding)}function ue(n){if(wn=wn||Gt(),!(this instanceof ue))return new ue(n);var t=this instanceof wn;this._readableState=new od(n,this,t),this.readable=!0,n&&(typeof n.read=="function"&&(this._read=n.read),typeof n.destroy=="function"&&(this._destroy=n.destroy)),ir.call(this)}Object.defineProperty(ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});ue.prototype.destroy=Ou.destroy;ue.prototype._undestroy=Ou.undestroy;ue.prototype._destroy=function(n,t){t(n)};ue.prototype.push=function(n,t){var r=this._readableState,u;return r.objectMode?u=!0:typeof n=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(n=Yi.from(n,t),t=""),u=!0),sd(this,n,t,!1,u)};ue.prototype.unshift=function(n){return sd(this,n,null,!0,!1)};function sd(n,t,r,u,f){ee("readableAddChunk",t);var l=n._readableState;if(t===null)l.reading=!1,NO(n,l);else{var h;if(f||(h=SO(l,t)),h)rr(n,h);else if(l.objectMode||t&&t.length>0)if(typeof t!="string"&&!l.objectMode&&Object.getPrototypeOf(t)!==Yi.prototype&&(t=dO(t)),u)l.endEmitted?rr(n,new TO):Tu(n,l,t,!0);else if(l.ended)rr(n,new gO);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||t.length!==0?Tu(n,l,t,!1):Su(n,l)):Tu(n,l,t,!1)}else u||(l.reading=!1,Su(n,l))}return!l.ended&&(l.length<l.highWaterMark||l.length===0)}function Tu(n,t,r,u){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,n.emit("data",r)):(t.length+=t.objectMode?1:r.length,u?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&ki(n)),Su(n,t)}function SO(n,t){var r;return!pO(t)&&typeof t!="string"&&t!==void 0&&!n.objectMode&&(r=new vO("chunk",["string","Buffer","Uint8Array"],t)),r}ue.prototype.isPaused=function(){return this._readableState.flowing===!1};ue.prototype.setEncoding=function(n){Sn||(Sn=_u().StringDecoder);var t=new Sn(n);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,u="";r!==null;)u+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),u!==""&&this._readableState.buffer.push(u),this._readableState.length=u.length,this};var nd=1073741824;function OO(n){return n>=nd?n=nd:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function rd(n,t){return n<=0||t.length===0&&t.ended?0:t.objectMode?1:n!==n?t.flowing&&t.length?t.buffer.head.data.length:t.length:(n>t.highWaterMark&&(t.highWaterMark=OO(n)),n<=t.length?n:t.ended?t.length:(t.needReadable=!0,0))}ue.prototype.read=function(n){ee("read",n),n=parseInt(n,10);var t=this._readableState,r=n;if(n!==0&&(t.emittedReadable=!1),n===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return ee("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?wu(this):ki(this),null;if(n=rd(n,t),n===0&&t.ended)return t.length===0&&wu(this),null;var u=t.needReadable;ee("need readable",u),(t.length===0||t.length-n<t.highWaterMark)&&(u=!0,ee("length less than watermark",u)),t.ended||t.reading?(u=!1,ee("reading or ended",u)):u&&(ee("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(n=rd(r,t)));var f;return n>0?f=fd(n,t):f=null,f===null?(t.needReadable=t.length<=t.highWaterMark,n=0):(t.length-=n,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==n&&t.ended&&wu(this)),f!==null&&this.emit("data",f),f};function NO(n,t){if(ee("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?ki(n):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,ad(n)))}}function ki(n){var t=n._readableState;ee("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(ee("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(ad,n))}function ad(n){var t=n._readableState;ee("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(n.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Nu(n)}function Su(n,t){t.readingMore||(t.readingMore=!0,process.nextTick(IO,n,t))}function IO(n,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(ee("maybeReadMore read 0"),n.read(0),r===t.length)break}t.readingMore=!1}ue.prototype._read=function(n){rr(this,new yO("_read()"))};ue.prototype.pipe=function(n,t){var r=this,u=this._readableState;switch(u.pipesCount){case 0:u.pipes=n;break;case 1:u.pipes=[u.pipes,n];break;default:u.pipes.push(n);break}u.pipesCount+=1,ee("pipe count=%d opts=%j",u.pipesCount,t);var f=(!t||t.end!==!1)&&n!==process.stdout&&n!==process.stderr,l=f?E:y;u.endEmitted?process.nextTick(l):r.once("end",l),n.on("unpipe",h);function h(U,w){ee("onunpipe"),U===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,A())}function E(){ee("onend"),n.end()}var v=AO(r);n.on("drain",v);var O=!1;function A(){ee("cleanup"),n.removeListener("close",q),n.removeListener("finish",F),n.removeListener("drain",v),n.removeListener("error",C),n.removeListener("unpipe",h),r.removeListener("end",E),r.removeListener("end",y),r.removeListener("data",b),O=!0,u.awaitDrain&&(!n._writableState||n._writableState.needDrain)&&v()}r.on("data",b);function b(U){ee("ondata");var w=n.write(U);ee("dest.write",w),w===!1&&((u.pipesCount===1&&u.pipes===n||u.pipesCount>1&&ld(u.pipes,n)!==-1)&&!O&&(ee("false write response, pause",u.awaitDrain),u.awaitDrain++),r.pause())}function C(U){ee("onerror",U),y(),n.removeListener("error",C),id(n,"error")===0&&rr(n,U)}wO(n,"error",C);function q(){n.removeListener("finish",F),y()}n.once("close",q);function F(){ee("onfinish"),n.removeListener("close",q),y()}n.once("finish",F);function y(){ee("unpipe"),r.unpipe(n)}return n.emit("pipe",r),u.flowing||(ee("pipe resume"),r.resume()),n};function AO(n){return function(){var r=n._readableState;ee("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&id(n,"data")&&(r.flowing=!0,Nu(n))}}ue.prototype.unpipe=function(n){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return n&&n!==t.pipes?this:(n||(n=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,n&&n.emit("unpipe",this,r),this);if(!n){var u=t.pipes,f=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var l=0;l<f;l++)u[l].emit("unpipe",this,{hasUnpiped:!1});return this}var h=ld(t.pipes,n);return h===-1?this:(t.pipes.splice(h,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),n.emit("unpipe",this,r),this)};ue.prototype.on=function(n,t){var r=ir.prototype.on.call(this,n,t),u=this._readableState;return n==="data"?(u.readableListening=this.listenerCount("readable")>0,u.flowing!==!1&&this.resume()):n==="readable"&&!u.endEmitted&&!u.readableListening&&(u.readableListening=u.needReadable=!0,u.flowing=!1,u.emittedReadable=!1,ee("on readable",u.length,u.reading),u.length?ki(this):u.reading||process.nextTick(DO,this)),r};ue.prototype.addListener=ue.prototype.on;ue.prototype.removeListener=function(n,t){var r=ir.prototype.removeListener.call(this,n,t);return n==="readable"&&process.nextTick(ud,this),r};ue.prototype.removeAllListeners=function(n){var t=ir.prototype.removeAllListeners.apply(this,arguments);return(n==="readable"||n===void 0)&&process.nextTick(ud,this),t};function ud(n){var t=n._readableState;t.readableListening=n.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:n.listenerCount("data")>0&&n.resume()}function DO(n){ee("readable nexttick read 0"),n.read(0)}ue.prototype.resume=function(){var n=this._readableState;return n.flowing||(ee("resume"),n.flowing=!n.readableListening,bO(this,n)),n.paused=!1,this};function bO(n,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(RO,n,t))}function RO(n,t){ee("resume",t.reading),t.reading||n.read(0),t.resumeScheduled=!1,n.emit("resume"),Nu(n),t.flowing&&!t.reading&&n.read(0)}ue.prototype.pause=function(){return ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Nu(n){var t=n._readableState;for(ee("flow",t.flowing);t.flowing&&n.read()!==null;);}ue.prototype.wrap=function(n){var t=this,r=this._readableState,u=!1;n.on("end",function(){if(ee("wrapped end"),r.decoder&&!r.ended){var h=r.decoder.end();h&&h.length&&t.push(h)}t.push(null)}),n.on("data",function(h){if(ee("wrapped data"),r.decoder&&(h=r.decoder.write(h)),!(r.objectMode&&h==null)&&!(!r.objectMode&&(!h||!h.length))){var E=t.push(h);E||(u=!0,n.pause())}});for(var f in n)this[f]===void 0&&typeof n[f]=="function"&&(this[f]=function(E){return function(){return n[E].apply(n,arguments)}}(f));for(var l=0;l<yu.length;l++)n.on(yu[l],this.emit.bind(this,yu[l]));return this._read=function(h){ee("wrapped _read",h),u&&(u=!1,n.resume())},this};typeof Symbol=="function"&&(ue.prototype[Symbol.asyncIterator]=function(){return vu===void 0&&(vu=Xh()),vu(this)});Object.defineProperty(ue.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ue.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ue.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});ue._fromList=fd;Object.defineProperty(ue.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fd(n,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!n||n>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(n,t.decoder),r}function wu(n){var t=n._readableState;ee("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(LO,t,n))}function LO(n,t){if(ee("endReadableNT",n.endEmitted,n.length),!n.endEmitted&&n.length===0&&(n.endEmitted=!0,t.readable=!1,t.emit("end"),n.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(ue.from=function(n,t){return gu===void 0&&(gu=td()),gu(ue,n,t)});function ld(n,t){for(var r=0,u=n.length;r<u;r++)if(n[r]===t)return r;return-1}});var Iu=S((_P,dd)=>{"use strict";dd.exports=At;var Vi=Lt().codes,CO=Vi.ERR_METHOD_NOT_IMPLEMENTED,MO=Vi.ERR_MULTIPLE_CALLBACK,PO=Vi.ERR_TRANSFORM_ALREADY_TRANSFORMING,FO=Vi.ERR_TRANSFORM_WITH_LENGTH_0,Hi=Gt();Wt()(At,Hi);function xO(n,t){var r=this._transformState;r.transforming=!1;var u=r.writecb;if(u===null)return this.emit("error",new MO);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),u(n);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function At(n){if(!(this instanceof At))return new At(n);Hi.call(this,n),this._transformState={afterTransform:xO.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",UO)}function UO(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){hd(n,t,r)}):hd(this,null,null)}At.prototype.push=function(n,t){return this._transformState.needTransform=!1,Hi.prototype.push.call(this,n,t)};At.prototype._transform=function(n,t,r){r(new CO("_transform()"))};At.prototype._write=function(n,t,r){var u=this._transformState;if(u.writecb=r,u.writechunk=n,u.writeencoding=t,!u.transforming){var f=this._readableState;(u.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}};At.prototype._read=function(n){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};At.prototype._destroy=function(n,t){Hi.prototype._destroy.call(this,n,function(r){t(r)})};function hd(n,t,r){if(t)return n.emit("error",t);if(r!=null&&n.push(r),n._writableState.length)throw new FO;if(n._transformState.transforming)throw new PO;return n.push(null)}});var md=S((mP,_d)=>{"use strict";_d.exports=or;var pd=Iu();Wt()(or,pd);function or(n){if(!(this instanceof or))return new or(n);pd.call(this,n)}or.prototype._transform=function(n,t,r){r(null,n)}});var Td=S((EP,yd)=>{"use strict";var Au;function BO(n){var t=!1;return function(){t||(t=!0,n.apply(void 0,arguments))}}var gd=Lt().codes,YO=gd.ERR_MISSING_ARGS,qO=gd.ERR_STREAM_DESTROYED;function Ed(n){if(n)throw n}function kO(n){return n.setHeader&&typeof n.abort=="function"}function VO(n,t,r,u){u=BO(u);var f=!1;n.on("close",function(){f=!0}),Au===void 0&&(Au=xi()),Au(n,{readable:t,writable:r},function(h){if(h)return u(h);f=!0,u()});var l=!1;return function(h){if(!f&&!l){if(l=!0,kO(n))return n.abort();if(typeof n.destroy=="function")return n.destroy();u(h||new qO("pipe"))}}}function vd(n){n()}function HO(n,t){return n.pipe(t)}function WO(n){return!n.length||typeof n[n.length-1]!="function"?Ed:n.pop()}function GO(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];var u=WO(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new YO("streams");var f,l=t.map(function(h,E){var v=E<t.length-1,O=E>0;return VO(h,v,O,function(A){f||(f=A),A&&l.forEach(vd),!v&&(l.forEach(vd),u(f))})});return t.reduce(HO)}yd.exports=GO});var wd=S((Qe,ar)=>{var sr=require("stream");process.env.READABLE_STREAM==="disable"&&sr?(ar.exports=sr.Readable,Object.assign(ar.exports,sr),ar.exports.Stream=sr):(Qe=ar.exports=cu(),Qe.Stream=sr||Qe,Qe.Readable=Qe,Qe.Writable=uu(),Qe.Duplex=Gt(),Qe.Transform=Iu(),Qe.PassThrough=md(),Qe.finished=xi(),Qe.pipeline=Td())});var Nd=S((vP,Od)=>{"use strict";var{Buffer:st}=require("buffer"),Sd=Symbol.for("BufferList");function Ee(n){if(!(this instanceof Ee))return new Ee(n);Ee._init.call(this,n)}Ee._init=function(t){Object.defineProperty(this,Sd,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};Ee.prototype._new=function(t){return new Ee(t)};Ee.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let u=0;u<this._bufs.length;u++){let f=r+this._bufs[u].length;if(t<f||u===this._bufs.length-1)return[u,t-r];r=f}};Ee.prototype._reverseOffset=function(n){let t=n[0],r=n[1];for(let u=0;u<t;u++)r+=this._bufs[u].length;return r};Ee.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};Ee.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};Ee.prototype.copy=function(t,r,u,f){if((typeof u!="number"||u<0)&&(u=0),(typeof f!="number"||f>this.length)&&(f=this.length),u>=this.length||f<=0)return t||st.alloc(0);let l=!!t,h=this._offset(u),E=f-u,v=E,O=l&&r||0,A=h[1];if(u===0&&f===this.length){if(!l)return this._bufs.length===1?this._bufs[0]:st.concat(this._bufs,this.length);for(let b=0;b<this._bufs.length;b++)this._bufs[b].copy(t,O),O+=this._bufs[b].length;return t}if(v<=this._bufs[h[0]].length-A)return l?this._bufs[h[0]].copy(t,r,A,A+v):this._bufs[h[0]].slice(A,A+v);l||(t=st.allocUnsafe(E));for(let b=h[0];b<this._bufs.length;b++){let C=this._bufs[b].length-A;if(v>C)this._bufs[b].copy(t,O,A),O+=C;else{this._bufs[b].copy(t,O,A,A+v),O+=C;break}v-=C,A&&(A=0)}return t.length>O?t.slice(0,O):t};Ee.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let u=this._offset(t),f=this._offset(r),l=this._bufs.slice(u[0],f[0]+1);return f[1]===0?l.pop():l[l.length-1]=l[l.length-1].slice(0,f[1]),u[1]!==0&&(l[0]=l[0].slice(u[1])),this._new(l)};Ee.prototype.toString=function(t,r,u){return this.slice(r,u).toString(t)};Ee.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};Ee.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};Ee.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(st.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(st.from(t));return this};Ee.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};Ee.prototype.indexOf=function(n,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=st.from([n]):typeof n=="string"?n=st.from(n,r):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=st.from(n.buffer,n.byteOffset,n.byteLength):st.isBuffer(n)||(n=st.from(n)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),n.length===0)return t>this.length?this.length:t;let u=this._offset(t),f=u[0],l=u[1];for(;f<this._bufs.length;f++){let h=this._bufs[f];for(;l<h.length;)if(h.length-l>=n.length){let v=h.indexOf(n,l);if(v!==-1)return this._reverseOffset([f,v]);l=h.length-n.length+1}else{let v=this._reverseOffset([f,l]);if(this._match(v,n))return v;l++}l=0}return-1};Ee.prototype._match=function(n,t){if(this.length-n<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(n+r)!==t[r])return!1;return!0};(function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in n)(function(r){n[r]===null?Ee.prototype[r]=function(u,f){return this.slice(u,u+f)[r](0,f)}:Ee.prototype[r]=function(u=0){return this.slice(u,u+n[r])[r](0)}})(t)})();Ee.prototype._isBufferList=function(t){return t instanceof Ee||Ee.isBufferList(t)};Ee.isBufferList=function(t){return t!=null&&t[Sd]};Od.exports=Ee});var bu=S((gP,Wi)=>{"use strict";var Du=wd().Duplex,KO=Wt(),ur=Nd();function Ce(n){if(!(this instanceof Ce))return new Ce(n);if(typeof n=="function"){this._callback=n;let t=function(u){this._callback&&(this._callback(u),this._callback=null)}.bind(this);this.on("pipe",function(u){u.on("error",t)}),this.on("unpipe",function(u){u.removeListener("error",t)}),n=null}ur._init.call(this,n),Du.call(this)}KO(Ce,Du);Object.assign(Ce.prototype,ur.prototype);Ce.prototype._new=function(t){return new Ce(t)};Ce.prototype._write=function(t,r,u){this._appendBuffer(t),typeof u=="function"&&u()};Ce.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};Ce.prototype.end=function(t){Du.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Ce.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};Ce.prototype._isBufferList=function(t){return t instanceof Ce||t instanceof ur||Ce.isBufferList(t)};Ce.isBufferList=ur.isBufferList;Wi.exports=Ce;Wi.exports.BufferListStream=Ce;Wi.exports.BufferList=ur});var Dd=S((Ki,Ad)=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.default=void 0;var zO=Id(bu()),ZO=require("stream"),$O=Id(Di()),Ru=jn(),jO=gn();function Id(n){return n&&n.__esModule?n:{default:n}}var Gi=class extends ZO.Transform{constructor(t){super({readableObjectMode:!0}),this.debug=void 0,this.bl=void 0,this.currentMessage=void 0,this.debug=t,this.currentMessage=void 0,this.bl=new zO.default}pause(){return super.pause(),this.currentMessage&&this.currentMessage.pause(),this}resume(){return super.resume(),this.currentMessage&&this.currentMessage.resume(),this}processBufferedData(t){for(;this.bl.length>=Ru.HEADER_LENGTH;){let r=this.bl.readUInt16BE(2);if(r<Ru.HEADER_LENGTH)return t(new jO.ConnectionError("Unable to process incoming packet"));if(this.bl.length>=r){let u=this.bl.slice(0,r);this.bl.consume(r);let f=new Ru.Packet(u);this.debug.packet("Received",f),this.debug.data(f);let l=this.currentMessage;if(l===void 0&&(this.currentMessage=l=new $O.default({type:f.type(),resetConnection:!1}),this.push(l)),f.isLast()){l.once("end",()=>{this.currentMessage=void 0,this.processBufferedData(t)}),l.end(f.data());return}else if(!l.write(f.data())){l.once("drain",()=>{this.processBufferedData(t)});return}}else break}t()}_transform(t,r,u){this.bl.append(t),this.processBufferedData(u)}},XO=Gi;Ki.default=XO;Ad.exports=Gi});var Rd=S((Zi,bd)=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.default=void 0;var JO=eN(bu()),QO=require("stream"),Lu=jn();function eN(n){return n&&n.__esModule?n:{default:n}}var zi=class extends QO.Duplex{constructor(t,{packetSize:r}){super({writableObjectMode:!0}),this.packetSize=void 0,this.debug=void 0,this.bl=void 0,this.currentMessage=void 0,this.packetSize=r,this.debug=t,this.bl=new JO.default,this.on("finish",()=>{this.push(null)})}_write(t,r,u){let f=this.packetSize-Lu.HEADER_LENGTH,l=0;this.currentMessage=t,this.currentMessage.on("data",h=>{if(!t.ignore)for(this.bl.append(h);this.bl.length>f;){let E=this.bl.slice(0,f);this.bl.consume(f);let v=new Lu.Packet(t.type);v.packetId(l+=1),v.resetConnection(t.resetConnection),v.addData(E),this.debug.packet("Sent",v),this.debug.data(v),this.push(v.buffer)===!1&&t.pause()}}),this.currentMessage.on("end",()=>{let h=this.bl.slice();this.bl.consume(h.length);let E=new Lu.Packet(t.type);E.packetId(l+=1),E.resetConnection(t.resetConnection),E.last(!0),E.ignore(t.ignore),E.addData(h),this.debug.packet("Sent",E),this.debug.data(E),this.push(E.buffer),this.currentMessage=void 0,u()})}_read(t){this.currentMessage&&this.currentMessage.resume()}},tN=zi;Zi.default=tN;bd.exports=zi});var Fd=S((Xi,Pd)=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.default=void 0;var nN=ji(mh()),Ld=aN(require("tls")),rN=require("events"),Cd=ji(Di()),iN=jn(),oN=ji(Dd()),sN=ji(Rd());function Md(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Md=function(u){return u?r:t})(n)}function aN(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Md(t);if(r&&r.has(n))return r.get(n);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=n[l]}return u.default=n,r&&r.set(n,u),u}function ji(n){return n&&n.__esModule?n:{default:n}}var $i=class extends rN.EventEmitter{constructor(t,r,u){super(),this.socket=void 0,this.debug=void 0,this.tlsNegotiationComplete=void 0,this.incomingMessageStream=void 0,this.outgoingMessageStream=void 0,this.securePair=void 0,this.incomingMessageIterator=void 0,this.socket=t,this.debug=u,this.tlsNegotiationComplete=!1,this.incomingMessageStream=new oN.default(this.debug),this.incomingMessageIterator=this.incomingMessageStream[Symbol.asyncIterator](),this.outgoingMessageStream=new sN.default(this.debug,{packetSize:r}),this.socket.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(this.socket)}packetSize(...t){if(t.length>0){let r=t[0];this.debug.log("Packet size changed from "+this.outgoingMessageStream.packetSize+" to "+r),this.outgoingMessageStream.packetSize=r}return this.securePair&&this.securePair.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.packetSize}startTls(t,r,u){(!t.maxVersion||!["TLSv1.2","TLSv1.1","TLSv1"].includes(t.maxVersion))&&(t.maxVersion="TLSv1.2");let f=Ld.createSecureContext(t);return new Promise((l,h)=>{let E=new nN.default,v=this.securePair={cleartext:Ld.connect({socket:E.socket1,servername:r,secureContext:f,rejectUnauthorized:!u}),encrypted:E.socket2},O=()=>{v.encrypted.removeListener("readable",b),v.cleartext.removeListener("error",A),v.cleartext.removeListener("secureConnect",O),v.cleartext.once("error",q=>{this.socket.destroy(q)});let C=v.cleartext.getCipher();C&&this.debug.log("TLS negotiated ("+C.name+", "+C.version+")"),this.emit("secure",v.cleartext),v.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.unpipe(this.socket),this.socket.unpipe(this.incomingMessageStream),this.socket.pipe(v.encrypted),v.encrypted.pipe(this.socket),v.cleartext.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(v.cleartext),this.tlsNegotiationComplete=!0,l()},A=C=>{v.encrypted.removeListener("readable",b),v.cleartext.removeListener("error",A),v.cleartext.removeListener("secureConnect",O),v.cleartext.destroy(),v.encrypted.destroy(),h(C)},b=()=>{let C=new Cd.default({type:iN.TYPE.PRELOGIN,resetConnection:!1}),q;for(;q=v.encrypted.read();)C.write(q);this.outgoingMessageStream.write(C),C.end(),this.readMessage().then(async F=>{v.encrypted.once("readable",b);for await(let y of F)v.encrypted.write(y)}).catch(A)};v.cleartext.once("error",A),v.cleartext.once("secureConnect",O),v.encrypted.once("readable",b)})}sendMessage(t,r,u){let f=new Cd.default({type:t,resetConnection:u});return f.end(r),this.outgoingMessageStream.write(f),f}async readMessage(){let t=await this.incomingMessageIterator.next();if(t.done)throw new Error("unexpected end of message stream");return t.value}},uN=$i;Xi.default=uN;Pd.exports=$i});var Mu=S(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.codepageBySortId=Et.codepageByLanguageId=Et.Flags=Et.Collation=void 0;var xd={[1025]:"CP1256",[1028]:"CP950",[1029]:"CP1250",[1030]:"CP1252",[1032]:"CP1253",[1033]:"CP1252",[1034]:"CP1252",[1035]:"CP1252",[1036]:"CP1252",[1037]:"CP1255",[1038]:"CP1250",[1039]:"CP1252",[1041]:"CP932",[1042]:"CP949",[1044]:"CP1252",[1045]:"CP1250",[1047]:"CP1252",[1048]:"CP1250",[1049]:"CP1251",[1050]:"CP1250",[1051]:"CP1250",[1052]:"CP1250",[1054]:"CP874",[1055]:"CP1254",[1056]:"CP1256",[1058]:"CP1251",[1060]:"CP1250",[1061]:"CP1257",[1062]:"CP1257",[1063]:"CP1257",[1065]:"CP1256",[1066]:"CP1258",[1068]:"CP1254",[1070]:"CP1252",[1071]:"CP1251",[1083]:"CP1252",[1087]:"CP1251",[1090]:"CP1250",[1091]:"CP1254",[1092]:"CP1251",[1106]:"CP1252",[1122]:"CP1252",[1133]:"CP1251",[1146]:"CP1252",[1148]:"CP1252",[1150]:"CP1252",[1152]:"CP1256",[1155]:"CP1252",[1157]:"CP1251",[1164]:"CP1256",[2052]:"CP936",[2074]:"CP1250",[2092]:"CP1251",[2107]:"CP1252",[2143]:"CP1252",[3076]:"CP950",[3082]:"CP1252",[3098]:"CP1251",[5124]:"CP950",[5146]:"CP1250",[8218]:"CP1251",[1031]:"CP1252",[1079]:"CP1252"};Et.codepageByLanguageId=xd;var Ud={[30]:"CP437",[31]:"CP437",[32]:"CP437",[33]:"CP437",[34]:"CP437",[40]:"CP850",[41]:"CP850",[42]:"CP850",[43]:"CP850",[44]:"CP850",[49]:"CP850",[51]:"CP1252",[52]:"CP1252",[53]:"CP1252",[54]:"CP1252",[55]:"CP850",[56]:"CP850",[57]:"CP850",[58]:"CP850",[59]:"CP850",[60]:"CP850",[61]:"CP850",[80]:"CP1250",[81]:"CP1250",[82]:"CP1250",[83]:"CP1250",[84]:"CP1250",[85]:"CP1250",[86]:"CP1250",[87]:"CP1250",[88]:"CP1250",[89]:"CP1250",[90]:"CP1250",[91]:"CP1250",[92]:"CP1250",[93]:"CP1250",[94]:"CP1250",[95]:"CP1250",[96]:"CP1250",[104]:"CP1251",[105]:"CP1251",[106]:"CP1251",[107]:"CP1251",[108]:"CP1251",[112]:"CP1253",[113]:"CP1253",[114]:"CP1253",[120]:"CP1253",[121]:"CP1253",[122]:"CP1253",[124]:"CP1253",[128]:"CP1254",[129]:"CP1254",[130]:"CP1254",[136]:"CP1255",[137]:"CP1255",[138]:"CP1255",[144]:"CP1256",[145]:"CP1256",[146]:"CP1256",[152]:"CP1257",[153]:"CP1257",[154]:"CP1257",[155]:"CP1257",[156]:"CP1257",[157]:"CP1257",[158]:"CP1257",[159]:"CP1257",[160]:"CP1257",[183]:"CP1252",[184]:"CP1252",[185]:"CP1252",[186]:"CP1252"};Et.codepageBySortId=Ud;var Bd={IGNORE_CASE:1<<0,IGNORE_ACCENT:1<<1,IGNORE_KANA:1<<2,IGNORE_WIDTH:1<<3,BINARY:1<<4,BINARY2:1<<5,UTF8:1<<6};Et.Flags=Bd;var Cu=class{static fromBuffer(t,r=0){let u=(t[r+2]&15)<<16;u|=t[r+1]<<8,u|=t[r+0];let f=(t[r+3]&15)<<4;f|=(t[r+2]&240)>>>4;let l=(t[r+3]&240)>>>4,h=t[r+4];return new this(u,f,l,h)}constructor(t,r,u,f){if(this.lcid=void 0,this.flags=void 0,this.version=void 0,this.sortId=void 0,this.codepage=void 0,this.buffer=void 0,this.buffer=void 0,this.lcid=t,this.flags=r,this.version=u,this.sortId=f,this.flags&Bd.UTF8)this.codepage="utf-8";else if(this.sortId)this.codepage=Ud[this.sortId];else{let l=this.lcid&65535;this.codepage=xd[l]}}toBuffer(){return this.buffer?this.buffer:(this.buffer=Buffer.alloc(5),this.buffer[0]=this.lcid&255,this.buffer[1]=this.lcid>>>8&255,this.buffer[2]=this.lcid>>>16&15|(this.flags&15)<<4,this.buffer[3]=(this.flags&240)>>>4|(this.version&15)<<4,this.buffer[4]=this.sortId&255,this.buffer)}};Et.Collation=Cu});var kd=S((Ji,qd)=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.default=void 0;var Yd={id:31,type:"NULL",name:"Null",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},fN=Yd;Ji.default=fN;qd.exports=Yd});var On=S((Qi,Hd)=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.default=void 0;var Vd={id:38,type:"INTN",name:"IntN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},lN=Vd;Qi.default=lN;Hd.exports=Vd});var Kd=S((eo,Gd)=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.default=void 0;var cN=hN(On());function hN(n){return n&&n.__esModule?n:{default:n}}var dN=Buffer.from([1]),pN=Buffer.from([0]),Wd={id:48,type:"INT1",name:"TinyInt",declaration:function(){return"tinyint"},generateTypeInfo(){return Buffer.from([cN.default.id,1])},generateParameterLength(n,t){return n.value==null?pN:dN},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(1);r.writeUInt8(Number(n.value),0),yield r},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<0||n>255)throw new TypeError("Value must be between 0 and 255, inclusive.");return n|0}},_N=Wd;eo.default=_N;Gd.exports=Wd});var Pu=S((to,Zd)=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.default=void 0;var zd={id:104,type:"BITN",name:"BitN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},*generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},mN=zd;to.default=mN;Zd.exports=zd});var Xd=S((no,jd)=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.default=void 0;var EN=vN(Pu());function vN(n){return n&&n.__esModule?n:{default:n}}var gN=Buffer.from([1]),yN=Buffer.from([0]),$d={id:50,type:"BIT",name:"Bit",declaration:function(){return"bit"},generateTypeInfo(){return Buffer.from([EN.default.id,1])},generateParameterLength(n,t){return n.value==null?yN:gN},*generateParameterData(n,t){n.value!=null&&(yield n.value?Buffer.from([1]):Buffer.from([0]))},validate:function(n){return n==null?null:!!n}},TN=$d;no.default=TN;jd.exports=$d});var ep=S((ro,Qd)=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.default=void 0;var wN=SN(On());function SN(n){return n&&n.__esModule?n:{default:n}}var ON=Buffer.from([2]),NN=Buffer.from([0]),Jd={id:52,type:"INT2",name:"SmallInt",declaration:function(){return"smallint"},generateTypeInfo(){return Buffer.from([wN.default.id,2])},generateParameterLength(n,t){return n.value==null?NN:ON},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(2);r.writeInt16LE(Number(n.value),0),yield r},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<-32768||n>32767)throw new TypeError("Value must be between -32768 and 32767, inclusive.");return n|0}},IN=Jd;ro.default=IN;Qd.exports=Jd});var rp=S((io,np)=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.default=void 0;var AN=DN(On());function DN(n){return n&&n.__esModule?n:{default:n}}var bN=Buffer.from([0]),RN=Buffer.from([4]),tp={id:56,type:"INT4",name:"Int",declaration:function(){return"int"},generateTypeInfo(){return Buffer.from([AN.default.id,4])},generateParameterLength(n,t){return n.value==null?bN:RN},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(4);r.writeInt32LE(Number(n.value),0),yield r},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<-2147483648||n>2147483647)throw new TypeError("Value must be between -2147483648 and 2147483647, inclusive.");return n|0}},LN=tp;io.default=LN;np.exports=tp});var so=S((oo,op)=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.default=void 0;var ip={id:111,type:"DATETIMN",name:"DateTimeN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},CN=ip;oo.default=CN;op.exports=ip});var fp=S((ao,up)=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.default=void 0;var MN=PN(so());function PN(n){return n&&n.__esModule?n:{default:n}}var sp=new Date(1900,0,1),FN=new Date(Date.UTC(1900,0,1)),xN=Buffer.from([4]),UN=Buffer.from([0]),ap={id:58,type:"DATETIM4",name:"SmallDateTime",declaration:function(){return"smalldatetime"},generateTypeInfo(){return Buffer.from([MN.default.id,4])},generateParameterLength(n,t){return n.value==null?UN:xN},generateParameterData:function*(n,t){if(n.value==null)return;let r=Buffer.alloc(4),u,f,l;t.useUTC?(u=Math.floor((n.value.getTime()-FN.getTime())/(1e3*60*60*24)),l=n.value.getUTCHours()*60+n.value.getUTCMinutes()):(f=-(n.value.getTimezoneOffset()-sp.getTimezoneOffset())*60*1e3,u=Math.floor((n.value.getTime()-sp.getTime()+f)/(1e3*60*60*24)),l=n.value.getHours()*60+n.value.getMinutes()),r.writeUInt16LE(u,0),r.writeUInt16LE(l,2),yield r},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},BN=ap;ao.default=BN;up.exports=ap});var fo=S((uo,cp)=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.default=void 0;var lp={id:109,type:"FLTN",name:"FloatN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},YN=lp;uo.default=YN;cp.exports=lp});var pp=S((lo,dp)=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.default=void 0;var qN=kN(fo());function kN(n){return n&&n.__esModule?n:{default:n}}var VN=Buffer.from([0]),HN=Buffer.from([4]),hp={id:59,type:"FLT4",name:"Real",declaration:function(){return"real"},generateTypeInfo(){return Buffer.from([qN.default.id,4])},generateParameterLength(n,t){return n.value==null?VN:HN},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(4);r.writeFloatLE(parseFloat(n.value),0),yield r},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},WN=hp;lo.default=WN;dp.exports=hp});var ho=S((co,mp)=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.default=void 0;var _p={id:110,type:"MONEYN",name:"MoneyN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},GN=_p;co.default=GN;mp.exports=_p});var gp=S((po,vp)=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.default=void 0;var KN=zN(ho());function zN(n){return n&&n.__esModule?n:{default:n}}var ZN=(1<<16)*(1<<16),$N=1/ZN,jN=Buffer.from([0]),XN=Buffer.from([8]),Ep={id:60,type:"MONEY",name:"Money",declaration:function(){return"money"},generateTypeInfo:function(){return Buffer.from([KN.default.id,8])},generateParameterLength(n,t){return n.value==null?jN:XN},*generateParameterData(n,t){if(n.value==null)return;let r=n.value*1e4,u=Buffer.alloc(8);u.writeInt32LE(Math.floor(r*$N),0),u.writeInt32LE(r&-1,4),yield u},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},JN=Ep;po.default=JN;vp.exports=Ep});var fr=S((_o,yp)=>{(function(n,t){typeof _o=="object"&&typeof yp<"u"?t(_o):typeof define=="function"&&define.amd?define(["exports"],t):(n=typeof globalThis<"u"?globalThis:n||self,t(n.JSJoda={}))})(_o,function(n){"use strict";function t(p,a,s){s===void 0&&(s=Error);function i(e){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,a&&a.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return i.prototype=Object.create(s.prototype),i.prototype.name=p,i.prototype.constructor=i,i}var r=t("DateTimeException",O),u=t("DateTimeParseException",A),f=t("UnsupportedTemporalTypeException",null,r),l=t("ArithmeticException"),h=t("IllegalArgumentException"),E=t("IllegalStateException"),v=t("NullPointerException");function O(p,a){a===void 0&&(a=null);var s=p||this.name;a!==null&&a instanceof Error&&(s+=`
-------
Caused by: `+a.stack+`
-------
`),this.message=s}function A(p,a,s,i){a===void 0&&(a=""),s===void 0&&(s=0),i===void 0&&(i=null);var e=p||this.name;e+=": "+a+", at index: "+s,i!==null&&i instanceof Error&&(e+=`
-------
Caused by: `+i.stack+`
-------
`),this.message=e,this.parsedString=function(){return a},this.errorIndex=function(){return s}}function b(p,a){p.prototype=Object.create(a.prototype),p.prototype.constructor=p,C(p,a)}function C(p,a){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,e){return i.__proto__=e,i},C(p,a)}function q(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function F(p,a,s){if(!p)throw s?new s(a):new Error(a)}function y(p,a){if(p==null)throw new v(a+" must not be null");return p}function U(p,a,s){if(!(p instanceof a))throw new h(s+" must be an instance of "+(a.name?a.name:a)+(p&&p.constructor&&p.constructor.name?", but is "+p.constructor.name:""));return p}function w(p){throw new TypeError('abstract method "'+p+'" is not implemented')}var M=Object.freeze({__proto__:null,assert:F,requireNonNull:y,requireInstance:U,abstractMethodFail:w});var I=9007199254740991,L=-9007199254740991,_=function(){function p(){}return p.intDiv=function(s,i){var e=s/i;return e=p.roundDown(e),p.safeZero(e)},p.intMod=function(s,i){var e=s-p.intDiv(s,i)*i;return e=p.roundDown(e),p.safeZero(e)},p.roundDown=function(s){return s<0?Math.ceil(s):Math.floor(s)},p.floorDiv=function(s,i){var e=Math.floor(s/i);return p.safeZero(e)},p.floorMod=function(s,i){var e=s-p.floorDiv(s,i)*i;return p.safeZero(e)},p.safeAdd=function(s,i){if(p.verifyInt(s),p.verifyInt(i),s===0)return p.safeZero(i);if(i===0)return p.safeZero(s);var e=p.safeToInt(s+i);if(e===s||e===i)throw new l("Invalid addition beyond MAX_SAFE_INTEGER!");return e},p.safeSubtract=function(s,i){return p.verifyInt(s),p.verifyInt(i),s===0&&i===0?0:s===0?p.safeZero(-1*i):i===0?p.safeZero(s):p.safeToInt(s-i)},p.safeMultiply=function(s,i){if(p.verifyInt(s),p.verifyInt(i),s===1)return p.safeZero(i);if(i===1)return p.safeZero(s);if(s===0||i===0)return 0;var e=p.safeToInt(s*i);if(e/i!==s||s===L&&i===-1||i===L&&s===-1)throw new l("Multiplication overflows: "+s+" * "+i);return e},p.parseInt=function(a){function s(i){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(function(a){var s=parseInt(a);return p.safeToInt(s)}),p.safeToInt=function(s){return p.verifyInt(s),p.safeZero(s)},p.verifyInt=function(s){if(s==null)throw new l("Invalid value: '"+s+"', using null or undefined as argument");if(isNaN(s))throw new l("Invalid int value, using NaN as argument");if(s%1!==0)throw new l("Invalid value: '"+s+"' is a float");if(s>I||s<L)throw new l("Calculation overflows an int: "+s)},p.safeZero=function(s){return s===0?0:+s},p.compareNumbers=function(s,i){return s<i?-1:s>i?1:0},p.smi=function(s){return s>>>1&1073741824|s&3221225471},p.hash=function(s){if(s!==s||s===1/0)return 0;for(var i=s;s>4294967295;)s/=4294967295,i^=s;return p.smi(i)},p.hashCode=function(){for(var s=17,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];for(var c=0,m=e;c<m.length;c++){var g=m[c];s=(s<<5)-s+p.hash(g)}return p.hash(s)},p}();_.MAX_SAFE_INTEGER=I,_.MIN_SAFE_INTEGER=L;var J=function(){function p(s){this._name=s}var a=p.prototype;return a.equals=function(i){return this===i},a.toString=function(){return this._name},a.toJSON=function(){return this.toString()},p}();var K=function(){function p(){}var a=p.prototype;return a.get=function(i){w("get")},a.units=function(){w("units")},a.addTo=function(i){w("addTo")},a.subtractFrom=function(i){w("subtractFrom")},p}();typeof Symbol<"u"&&Symbol.toPrimitive&&(K.prototype[Symbol.toPrimitive]=function(p){if(p!=="number")return this.toString();throw new TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var $=function(){function p(){}var a=p.prototype;return a.duration=function(){w("duration")},a.isDurationEstimated=function(){w("isDurationEstimated")},a.isDateBased=function(){w("isDateBased")},a.isTimeBased=function(){w("isTimeBased")},a.isSupportedBy=function(i){w("isSupportedBy")},a.addTo=function(i,e){w("addTo")},a.between=function(i,e){w("between")},p}(),B=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._seconds=_.safeToInt(i),o._nanos=_.safeToInt(e),o}a.ofDays=function(e){return a._create(_.safeMultiply(e,D.SECONDS_PER_DAY),0)},a.ofHours=function(e){return a._create(_.safeMultiply(e,D.SECONDS_PER_HOUR),0)},a.ofMinutes=function(e){return a._create(_.safeMultiply(e,D.SECONDS_PER_MINUTE),0)},a.ofSeconds=function(e,o){o===void 0&&(o=0);var c=_.safeAdd(e,_.floorDiv(o,D.NANOS_PER_SECOND)),m=_.floorMod(o,D.NANOS_PER_SECOND);return a._create(c,m)},a.ofMillis=function(e){var o=_.intDiv(e,1e3),c=_.intMod(e,1e3);return c<0&&(c+=1e3,o--),a._create(o,c*1e6)},a.ofNanos=function(e){var o=_.intDiv(e,D.NANOS_PER_SECOND),c=_.intMod(e,D.NANOS_PER_SECOND);return c<0&&(c+=D.NANOS_PER_SECOND,o--),this._create(o,c)},a.of=function(e,o){return a.ZERO.plus(e,o)},a.from=function(e){y(e,"amount"),U(e,K);var o=a.ZERO;return e.units().forEach(function(c){o=o.plus(e.get(c),c)}),o},a.between=function(e,o){y(e,"startInclusive"),y(o,"endExclusive");var c=e.until(o,T.SECONDS),m=0;if(e.isSupported(d.NANO_OF_SECOND)&&o.isSupported(d.NANO_OF_SECOND))try{var g=e.getLong(d.NANO_OF_SECOND);if(m=o.getLong(d.NANO_OF_SECOND)-g,c>0&&m<0)m+=D.NANOS_PER_SECOND;else if(c<0&&m>0)m-=D.NANOS_PER_SECOND;else if(c===0&&m!==0){var N=o.with(d.NANO_OF_SECOND,g);c=e.until(N,T.SECONDS)}}catch{}return this.ofSeconds(c,m)},a.parse=function(e){y(e,"text");var o=new RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i"),c=o.exec(e);if(c!==null&&c[3]!=="T"){var m=c[1]==="-",g=c[2],N=c[4],R=c[5],x=c[6],Y=c[7];if(g!=null||N!=null||R!=null||x!=null){var H=a._parseNumber(e,g,D.SECONDS_PER_DAY,"days"),W=a._parseNumber(e,N,D.SECONDS_PER_HOUR,"hours"),le=a._parseNumber(e,R,D.SECONDS_PER_MINUTE,"minutes"),ye=a._parseNumber(e,x,1,"seconds"),ve=x!=null&&x.charAt(0)==="-",ge=a._parseFraction(e,Y,ve?-1:1);try{return a._create(m,H,W,le,ye,ge)}catch(Ue){throw new u("Text cannot be parsed to a Duration: overflow",e,0,Ue)}}}throw new u("Text cannot be parsed to a Duration",e,0)},a._parseNumber=function(e,o,c,m){if(o==null)return 0;try{return o[0]==="+"&&(o=o.substring(1)),_.safeMultiply(parseFloat(o),c)}catch(g){throw new u("Text cannot be parsed to a Duration: "+m,e,0,g)}},a._parseFraction=function(e,o,c){return o==null||o.length===0?0:(o=(o+"000000000").substring(0,9),parseFloat(o)*c)},a._create=function(){return arguments.length<=2?a._createSecondsNanos(arguments[0],arguments[1]):a._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},a._createNegateDaysHoursMinutesSecondsNanos=function(e,o,c,m,g,N){var R=_.safeAdd(o,_.safeAdd(c,_.safeAdd(m,g)));return e?a.ofSeconds(R,N).negated():a.ofSeconds(R,N)},a._createSecondsNanos=function(e,o){return e===void 0&&(e=0),o===void 0&&(o=0),e===0&&o===0?a.ZERO:new a(e,o)};var s=a.prototype;return s.get=function(e){if(e===T.SECONDS)return this._seconds;if(e===T.NANOS)return this._nanos;throw new f("Unsupported unit: "+e)},s.units=function(){return[T.SECONDS,T.NANOS]},s.isZero=function(){return this._seconds===0&&this._nanos===0},s.isNegative=function(){return this._seconds<0},s.seconds=function(){return this._seconds},s.nano=function(){return this._nanos},s.withSeconds=function(e){return a._create(e,this._nanos)},s.withNanos=function(e){return d.NANO_OF_SECOND.checkValidIntValue(e),a._create(this._seconds,e)},s.plusDuration=function(e){return y(e,"duration"),this.plus(e.seconds(),e.nano())},s.plus=function(e,o){return arguments.length===1?this.plusDuration(e):arguments.length===2&&o instanceof $?this.plusAmountUnit(e,o):this.plusSecondsNanos(e,o)},s.plusAmountUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),o===T.DAYS)return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_DAY),0);if(o.isDurationEstimated())throw new f("Unit must not have an estimated duration");if(e===0)return this;if(o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusSecondsNanos(_.intDiv(e,1e6*1e3)*1e3,_.intMod(e,1e6*1e3)*1e3);case T.MILLIS:return this.plusMillis(e);case T.SECONDS:return this.plusSeconds(e)}return this.plusSecondsNanos(_.safeMultiply(o.duration().seconds(),e),0)}var c=o.duration().multipliedBy(e);return this.plusSecondsNanos(c.seconds(),c.nano())},s.plusDays=function(e){return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_DAY),0)},s.plusHours=function(e){return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_HOUR),0)},s.plusMinutes=function(e){return this.plusSecondsNanos(_.safeMultiply(e,D.SECONDS_PER_MINUTE),0)},s.plusSeconds=function(e){return this.plusSecondsNanos(e,0)},s.plusMillis=function(e){return this.plusSecondsNanos(_.intDiv(e,1e3),_.intMod(e,1e3)*1e6)},s.plusNanos=function(e){return this.plusSecondsNanos(0,e)},s.plusSecondsNanos=function(e,o){if(y(e,"secondsToAdd"),y(o,"nanosToAdd"),e===0&&o===0)return this;var c=_.safeAdd(this._seconds,e);c=_.safeAdd(c,_.intDiv(o,D.NANOS_PER_SECOND)),o=_.intMod(o,D.NANOS_PER_SECOND);var m=_.safeAdd(this._nanos,o);return a.ofSeconds(c,m)},s.minus=function(e,o){return arguments.length===1?this.minusDuration(e):this.minusAmountUnit(e,o)},s.minusDuration=function(e){y(e,"duration");var o=e.seconds(),c=e.nano();return o===L?this.plus(I,-c):this.plus(-o,-c)},s.minusAmountUnit=function(e,o){return y(e,"amountToSubtract"),y(o,"unit"),e===L?this.plusAmountUnit(I,o):this.plusAmountUnit(-e,o)},s.minusDays=function(e){return e===L?this.plusDays(I):this.plusDays(-e)},s.minusHours=function(e){return e===L?this.plusHours(I):this.plusHours(-e)},s.minusMinutes=function(e){return e===L?this.plusMinutes(I):this.plusMinutes(-e)},s.minusSeconds=function(e){return e===L?this.plusSeconds(I):this.plusSeconds(-e)},s.minusMillis=function(e){return e===L?this.plusMillis(I):this.plusMillis(-e)},s.minusNanos=function(e){return e===L?this.plusNanos(I):this.plusNanos(-e)},s.multipliedBy=function(e){if(e===0)return a.ZERO;if(e===1)return this;var o=_.safeMultiply(this._seconds,e),c=_.safeMultiply(this._nanos,e);return o=o+_.intDiv(c,D.NANOS_PER_SECOND),c=_.intMod(c,D.NANOS_PER_SECOND),a.ofSeconds(o,c)},s.dividedBy=function(e){if(e===0)throw new l("Cannot divide by zero");if(e===1)return this;var o=_.intDiv(this._seconds,e),c=_.roundDown((this._seconds/e-o)*D.NANOS_PER_SECOND),m=_.intDiv(this._nanos,e);return m=c+m,a.ofSeconds(o,m)},s.negated=function(){return this.multipliedBy(-1)},s.abs=function(){return this.isNegative()?this.negated():this},s.addTo=function(e){return y(e,"temporal"),this._seconds!==0&&(e=e.plus(this._seconds,T.SECONDS)),this._nanos!==0&&(e=e.plus(this._nanos,T.NANOS)),e},s.subtractFrom=function(e){return y(e,"temporal"),this._seconds!==0&&(e=e.minus(this._seconds,T.SECONDS)),this._nanos!==0&&(e=e.minus(this._nanos,T.NANOS)),e},s.toDays=function(){return _.intDiv(this._seconds,D.SECONDS_PER_DAY)},s.toHours=function(){return _.intDiv(this._seconds,D.SECONDS_PER_HOUR)},s.toMinutes=function(){return _.intDiv(this._seconds,D.SECONDS_PER_MINUTE)},s.toMillis=function(){var e=Math.round(_.safeMultiply(this._seconds,1e3));return e=_.safeAdd(e,_.intDiv(this._nanos,1e6)),e},s.toNanos=function(){var e=_.safeMultiply(this._seconds,D.NANOS_PER_SECOND);return e=_.safeAdd(e,this._nanos),e},s.compareTo=function(e){y(e,"otherDuration"),U(e,a,"otherDuration");var o=_.compareNumbers(this._seconds,e.seconds());return o!==0?o:this._nanos-e.nano()},s.equals=function(e){return this===e?!0:e instanceof a?this.seconds()===e.seconds()&&this.nano()===e.nano():!1},s.toString=function(){if(this===a.ZERO)return"PT0S";var e=_.intDiv(this._seconds,D.SECONDS_PER_HOUR),o=_.intDiv(_.intMod(this._seconds,D.SECONDS_PER_HOUR),D.SECONDS_PER_MINUTE),c=_.intMod(this._seconds,D.SECONDS_PER_MINUTE),m="PT";if(e!==0&&(m+=e+"H"),o!==0&&(m+=o+"M"),c===0&&this._nanos===0&&m.length>2)return m;if(c<0&&this._nanos>0?c===-1?m+="-0":m+=c+1:m+=c,this._nanos>0){m+=".";var g;for(c<0?g=""+(2*D.NANOS_PER_SECOND-this._nanos):g=""+(D.NANOS_PER_SECOND+this._nanos),g=g.slice(1,g.length),m+=g;m.charAt(m.length-1)==="0";)m=m.slice(0,m.length-1)}return m+="S",m},s.toJSON=function(){return this.toString()},a}(K);function xr(){B.ZERO=new B(0,0)}var be=function(){};function Yn(){be.MIN_VALUE=-999999,be.MAX_VALUE=999999}var T=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._name=i,o._duration=e,o}var s=a.prototype;return s.duration=function(){return this._duration},s.isDurationEstimated=function(){return this.isDateBased()||this===a.FOREVER},s.isDateBased=function(){return this.compareTo(a.DAYS)>=0&&this!==a.FOREVER},s.isTimeBased=function(){return this.compareTo(a.DAYS)<0},s.isSupportedBy=function(e){if(this===a.FOREVER)return!1;try{return e.plus(1,this),!0}catch{try{return e.plus(-1,this),!0}catch{return!1}}},s.addTo=function(e,o){return e.plus(o,this)},s.between=function(e,o){return e.until(o,this)},s.toString=function(){return this._name},s.compareTo=function(e){return this.duration().compareTo(e.duration())},a}($);function nn(){T.NANOS=new T("Nanos",B.ofNanos(1)),T.MICROS=new T("Micros",B.ofNanos(1e3)),T.MILLIS=new T("Millis",B.ofNanos(1e6)),T.SECONDS=new T("Seconds",B.ofSeconds(1)),T.MINUTES=new T("Minutes",B.ofSeconds(60)),T.HOURS=new T("Hours",B.ofSeconds(3600)),T.HALF_DAYS=new T("HalfDays",B.ofSeconds(43200)),T.DAYS=new T("Days",B.ofSeconds(86400)),T.WEEKS=new T("Weeks",B.ofSeconds(7*86400)),T.MONTHS=new T("Months",B.ofSeconds(31556952/12)),T.YEARS=new T("Years",B.ofSeconds(31556952)),T.DECADES=new T("Decades",B.ofSeconds(31556952*10)),T.CENTURIES=new T("Centuries",B.ofSeconds(31556952*100)),T.MILLENNIA=new T("Millennia",B.ofSeconds(31556952*1e3)),T.ERAS=new T("Eras",B.ofSeconds(31556952*(be.MAX_VALUE+1))),T.FOREVER=new T("Forever",B.ofSeconds(_.MAX_SAFE_INTEGER,999999999))}var We=function(){function p(){}var a=p.prototype;return a.isDateBased=function(){w("isDateBased")},a.isTimeBased=function(){w("isTimeBased")},a.baseUnit=function(){w("baseUnit")},a.rangeUnit=function(){w("rangeUnit")},a.range=function(){w("range")},a.rangeRefinedBy=function(i){w("rangeRefinedBy")},a.getFrom=function(i){w("getFrom")},a.adjustInto=function(i,e){w("adjustInto")},a.isSupportedBy=function(i){w("isSupportedBy")},a.displayName=function(){w("displayName")},a.equals=function(i){w("equals")},a.name=function(){w("name")},p}();var z=function(){function p(s,i,e,o){F(!(s>i),"Smallest minimum value '"+s+"' must be less than largest minimum value '"+i+"'",h),F(!(e>o),"Smallest maximum value '"+e+"' must be less than largest maximum value '"+o+"'",h),F(!(i>o),"Minimum value '"+i+"' must be less than maximum value '"+o+"'",h),this._minSmallest=s,this._minLargest=i,this._maxLargest=o,this._maxSmallest=e}var a=p.prototype;return a.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},a.minimum=function(){return this._minSmallest},a.largestMinimum=function(){return this._minLargest},a.maximum=function(){return this._maxLargest},a.smallestMaximum=function(){return this._maxSmallest},a.isValidValue=function(i){return this.minimum()<=i&&i<=this.maximum()},a.checkValidValue=function(i,e){var o;return this.isValidValue(i)?i:(e!=null?o="Invalid value for "+e+" (valid values "+this.toString()+"): "+i:o="Invalid value (valid values "+this.toString()+"): "+i,F(!1,o,r))},a.checkValidIntValue=function(i,e){if(this.isValidIntValue(i)===!1)throw new r("Invalid int value for "+e+": "+i);return i},a.isValidIntValue=function(i){return this.isIntValue()&&this.isValidValue(i)},a.isIntValue=function(){return this.minimum()>=_.MIN_SAFE_INTEGER&&this.maximum()<=_.MAX_SAFE_INTEGER},a.equals=function(i){return i===this?!0:i instanceof p?this._minSmallest===i._minSmallest&&this._minLargest===i._minLargest&&this._maxSmallest===i._maxSmallest&&this._maxLargest===i._maxLargest:!1},a.hashCode=function(){return _.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},a.toString=function(){var i=this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"");return i+=" - ",i+=this.smallestMaximum()+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():""),i},p.of=function(){return arguments.length===2?new p(arguments[0],arguments[0],arguments[1],arguments[1]):arguments.length===3?new p(arguments[0],arguments[0],arguments[1],arguments[2]):arguments.length===4?new p(arguments[0],arguments[1],arguments[2],arguments[3]):F(!1,"Invalid number of arguments "+arguments.length,h)},p}(),d=function(p){b(a,p),a.byName=function(e){for(var o in a)if(a[o]&&a[o]instanceof a&&a[o].name()===e)return a[o]};function a(i,e,o,c){var m;return m=p.call(this)||this,m._name=i,m._baseUnit=e,m._rangeUnit=o,m._range=c,m}var s=a.prototype;return s.name=function(){return this._name},s.baseUnit=function(){return this._baseUnit},s.rangeUnit=function(){return this._rangeUnit},s.range=function(){return this._range},s.displayName=function(){return this.toString()},s.checkValidValue=function(e){return this.range().checkValidValue(e,this)},s.checkValidIntValue=function(e){return this.range().checkValidIntValue(e,this)},s.isDateBased=function(){var e=this===a.DAY_OF_WEEK||this===a.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===a.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===a.DAY_OF_MONTH||this===a.DAY_OF_YEAR||this===a.EPOCH_DAY||this===a.ALIGNED_WEEK_OF_MONTH||this===a.ALIGNED_WEEK_OF_YEAR||this===a.MONTH_OF_YEAR||this===a.PROLEPTIC_MONTH||this===a.YEAR_OF_ERA||this===a.YEAR||this===a.ERA;return e},s.isTimeBased=function(){var e=this===a.NANO_OF_SECOND||this===a.NANO_OF_DAY||this===a.MICRO_OF_SECOND||this===a.MICRO_OF_DAY||this===a.MILLI_OF_SECOND||this===a.MILLI_OF_DAY||this===a.SECOND_OF_MINUTE||this===a.SECOND_OF_DAY||this===a.MINUTE_OF_HOUR||this===a.MINUTE_OF_DAY||this===a.HOUR_OF_AMPM||this===a.CLOCK_HOUR_OF_AMPM||this===a.HOUR_OF_DAY||this===a.CLOCK_HOUR_OF_DAY||this===a.AMPM_OF_DAY;return e},s.rangeRefinedBy=function(e){return e.range(this)},s.getFrom=function(e){return e.getLong(this)},s.toString=function(){return this.name()},s.equals=function(e){return this===e},s.adjustInto=function(e,o){return e.with(this,o)},s.isSupportedBy=function(e){return e.isSupported(this)},a}(We);function By(){d.NANO_OF_SECOND=new d("NanoOfSecond",T.NANOS,T.SECONDS,z.of(0,999999999)),d.NANO_OF_DAY=new d("NanoOfDay",T.NANOS,T.DAYS,z.of(0,86400*1e9-1)),d.MICRO_OF_SECOND=new d("MicroOfSecond",T.MICROS,T.SECONDS,z.of(0,999999)),d.MICRO_OF_DAY=new d("MicroOfDay",T.MICROS,T.DAYS,z.of(0,86400*1e6-1)),d.MILLI_OF_SECOND=new d("MilliOfSecond",T.MILLIS,T.SECONDS,z.of(0,999)),d.MILLI_OF_DAY=new d("MilliOfDay",T.MILLIS,T.DAYS,z.of(0,86400*1e3-1)),d.SECOND_OF_MINUTE=new d("SecondOfMinute",T.SECONDS,T.MINUTES,z.of(0,59)),d.SECOND_OF_DAY=new d("SecondOfDay",T.SECONDS,T.DAYS,z.of(0,86400-1)),d.MINUTE_OF_HOUR=new d("MinuteOfHour",T.MINUTES,T.HOURS,z.of(0,59)),d.MINUTE_OF_DAY=new d("MinuteOfDay",T.MINUTES,T.DAYS,z.of(0,24*60-1)),d.HOUR_OF_AMPM=new d("HourOfAmPm",T.HOURS,T.HALF_DAYS,z.of(0,11)),d.CLOCK_HOUR_OF_AMPM=new d("ClockHourOfAmPm",T.HOURS,T.HALF_DAYS,z.of(1,12)),d.HOUR_OF_DAY=new d("HourOfDay",T.HOURS,T.DAYS,z.of(0,23)),d.CLOCK_HOUR_OF_DAY=new d("ClockHourOfDay",T.HOURS,T.DAYS,z.of(1,24)),d.AMPM_OF_DAY=new d("AmPmOfDay",T.HALF_DAYS,T.DAYS,z.of(0,1)),d.DAY_OF_WEEK=new d("DayOfWeek",T.DAYS,T.WEEKS,z.of(1,7)),d.ALIGNED_DAY_OF_WEEK_IN_MONTH=new d("AlignedDayOfWeekInMonth",T.DAYS,T.WEEKS,z.of(1,7)),d.ALIGNED_DAY_OF_WEEK_IN_YEAR=new d("AlignedDayOfWeekInYear",T.DAYS,T.WEEKS,z.of(1,7)),d.DAY_OF_MONTH=new d("DayOfMonth",T.DAYS,T.MONTHS,z.of(1,28,31),"day"),d.DAY_OF_YEAR=new d("DayOfYear",T.DAYS,T.YEARS,z.of(1,365,366)),d.EPOCH_DAY=new d("EpochDay",T.DAYS,T.FOREVER,z.of(-365961662,364522971)),d.ALIGNED_WEEK_OF_MONTH=new d("AlignedWeekOfMonth",T.WEEKS,T.MONTHS,z.of(1,4,5)),d.ALIGNED_WEEK_OF_YEAR=new d("AlignedWeekOfYear",T.WEEKS,T.YEARS,z.of(1,53)),d.MONTH_OF_YEAR=new d("MonthOfYear",T.MONTHS,T.YEARS,z.of(1,12),"month"),d.PROLEPTIC_MONTH=new d("ProlepticMonth",T.MONTHS,T.FOREVER,z.of(be.MIN_VALUE*12,be.MAX_VALUE*12+11)),d.YEAR_OF_ERA=new d("YearOfEra",T.YEARS,T.FOREVER,z.of(1,be.MAX_VALUE,be.MAX_VALUE+1)),d.YEAR=new d("Year",T.YEARS,T.FOREVER,z.of(be.MIN_VALUE,be.MAX_VALUE),"year"),d.ERA=new d("Era",T.ERAS,T.FOREVER,z.of(0,1)),d.INSTANT_SECONDS=new d("InstantSeconds",T.SECONDS,T.FOREVER,z.of(L,I)),d.OFFSET_SECONDS=new d("OffsetSeconds",T.SECONDS,T.FOREVER,z.of(-18*3600,18*3600))}var P=function(){function p(){}return p.zoneId=function(){return p.ZONE_ID},p.chronology=function(){return p.CHRONO},p.precision=function(){return p.PRECISION},p.zone=function(){return p.ZONE},p.offset=function(){return p.OFFSET},p.localDate=function(){return p.LOCAL_DATE},p.localTime=function(){return p.LOCAL_TIME},p}();var Ot=function(){function p(){}var a=p.prototype;return a.query=function(i){return i===P.zoneId()||i===P.chronology()||i===P.precision()?null:i.queryFrom(this)},a.get=function(i){return this.range(i).checkValidIntValue(this.getLong(i),i)},a.getLong=function(i){w("getLong")},a.range=function(i){if(i instanceof d){if(this.isSupported(i))return i.range();throw new f("Unsupported field: "+i)}return i.rangeRefinedBy(this)},a.isSupported=function(i){w("isSupported")},p}(),rn=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.queryFrom=function(e){w("queryFrom")},a}(J);function Se(p,a){var s=function(i){b(e,i);function e(){return i.apply(this,arguments)||this}return e}(rn);return s.prototype.queryFrom=a,new s(p)}var he=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._ordinal=i,o._name=e,o}var s=a.prototype;return s.ordinal=function(){return this._ordinal},s.name=function(){return this._name},a.values=function(){return on.slice()},a.valueOf=function(e){var o=0;for(o;o<on.length&&on[o].name()!==e;o++);return a.of(o+1)},a.of=function(e){if(e<1||e>7)throw new r("Invalid value for DayOfWeek: "+e);return on[e-1]},a.from=function(e){if(F(e!=null,"temporal",v),e instanceof a)return e;try{return a.of(e.get(d.DAY_OF_WEEK))}catch(o){throw o instanceof r?new r("Unable to obtain DayOfWeek from TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""),o):o}},s.value=function(){return this._ordinal+1},s.displayName=function(e,o){throw new h("Pattern using (localized) text not implemented yet!")},s.isSupported=function(e){return e instanceof d?e===d.DAY_OF_WEEK:e!=null&&e.isSupportedBy(this)},s.range=function(e){if(e===d.DAY_OF_WEEK)return e.range();if(e instanceof d)throw new f("Unsupported field: "+e);return e.rangeRefinedBy(this)},s.get=function(e){return e===d.DAY_OF_WEEK?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(e===d.DAY_OF_WEEK)return this.value();if(e instanceof d)throw new f("Unsupported field: "+e);return e.getFrom(this)},s.plus=function(e){var o=_.floorMod(e,7);return on[_.floorMod(this._ordinal+(o+7),7)]},s.minus=function(e){return this.plus(-1*_.floorMod(e,7))},s.query=function(e){return e===P.precision()?T.DAYS:e===P.localDate()||e===P.localTime()||e===P.chronology()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:(F(e!=null,"query",v),e.queryFrom(this))},s.adjustInto=function(e){return y(e,"temporal"),e.with(d.DAY_OF_WEEK,this.value())},s.equals=function(e){return this===e},s.toString=function(){return this._name},s.compareTo=function(e){return y(e,"other"),U(e,a,"other"),this._ordinal-e._ordinal},s.toJSON=function(){return this.toString()},a}(Ot),on;function Yy(){he.MONDAY=new he(0,"MONDAY"),he.TUESDAY=new he(1,"TUESDAY"),he.WEDNESDAY=new he(2,"WEDNESDAY"),he.THURSDAY=new he(3,"THURSDAY"),he.FRIDAY=new he(4,"FRIDAY"),he.SATURDAY=new he(5,"SATURDAY"),he.SUNDAY=new he(6,"SUNDAY"),he.FROM=Se("DayOfWeek.FROM",function(p){return he.from(p)}),on=[he.MONDAY,he.TUESDAY,he.WEDNESDAY,he.THURSDAY,he.FRIDAY,he.SATURDAY,he.SUNDAY]}var G=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._value=_.safeToInt(i),o._name=e,o}var s=a.prototype;return s.value=function(){return this._value},s.ordinal=function(){return this._value-1},s.name=function(){return this._name},s.displayName=function(e,o){throw new h("Pattern using (localized) text not implemented yet!")},s.isSupported=function(e){return e===null?!1:e instanceof d?e===d.MONTH_OF_YEAR:e!=null&&e.isSupportedBy(this)},s.get=function(e){return e===d.MONTH_OF_YEAR?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(e===d.MONTH_OF_YEAR)return this.value();if(e instanceof d)throw new f("Unsupported field: "+e);return e.getFrom(this)},s.plus=function(e){var o=_.intMod(e,12)+12,c=_.intMod(this.value()+o,12);return c=c===0?12:c,a.of(c)},s.minus=function(e){return this.plus(-1*_.intMod(e,12))},s.length=function(e){switch(this){case a.FEBRUARY:return e?29:28;case a.APRIL:case a.JUNE:case a.SEPTEMBER:case a.NOVEMBER:return 30;default:return 31}},s.minLength=function(){switch(this){case a.FEBRUARY:return 28;case a.APRIL:case a.JUNE:case a.SEPTEMBER:case a.NOVEMBER:return 30;default:return 31}},s.maxLength=function(){switch(this){case a.FEBRUARY:return 29;case a.APRIL:case a.JUNE:case a.SEPTEMBER:case a.NOVEMBER:return 30;default:return 31}},s.firstDayOfYear=function(e){var o=e?1:0;switch(this){case a.JANUARY:return 1;case a.FEBRUARY:return 32;case a.MARCH:return 60+o;case a.APRIL:return 91+o;case a.MAY:return 121+o;case a.JUNE:return 152+o;case a.JULY:return 182+o;case a.AUGUST:return 213+o;case a.SEPTEMBER:return 244+o;case a.OCTOBER:return 274+o;case a.NOVEMBER:return 305+o;case a.DECEMBER:default:return 335+o}},s.firstMonthOfQuarter=function(){switch(this){case a.JANUARY:case a.FEBRUARY:case a.MARCH:return a.JANUARY;case a.APRIL:case a.MAY:case a.JUNE:return a.APRIL;case a.JULY:case a.AUGUST:case a.SEPTEMBER:return a.JULY;case a.OCTOBER:case a.NOVEMBER:case a.DECEMBER:default:return a.OCTOBER}},s.query=function(e){return F(e!=null,"query() parameter must not be null",r),e===P.chronology()?se.INSTANCE:e===P.precision()?T.MONTHS:p.prototype.query.call(this,e)},s.toString=function(){switch(this){case a.JANUARY:return"JANUARY";case a.FEBRUARY:return"FEBRUARY";case a.MARCH:return"MARCH";case a.APRIL:return"APRIL";case a.MAY:return"MAY";case a.JUNE:return"JUNE";case a.JULY:return"JULY";case a.AUGUST:return"AUGUST";case a.SEPTEMBER:return"SEPTEMBER";case a.OCTOBER:return"OCTOBER";case a.NOVEMBER:return"NOVEMBER";case a.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},s.toJSON=function(){return this.toString()},s.adjustInto=function(e){return e.with(d.MONTH_OF_YEAR,this.value())},s.compareTo=function(e){return y(e,"other"),U(e,a,"other"),this._value-e._value},s.equals=function(e){return this===e},a.valueOf=function(e){var o=0;for(o;o<qn.length&&qn[o].name()!==e;o++);return a.of(o+1)},a.values=function(){return qn.slice()},a.of=function(e){return(e<1||e>12)&&F(!1,"Invalid value for MonthOfYear: "+e,r),qn[e-1]},a.from=function(e){if(e instanceof a)return e;try{return a.of(e.get(d.MONTH_OF_YEAR))}catch(o){throw new r("Unable to obtain Month from TemporalAccessor: "+e+" of type "+(e&&e.constructor!=null?e.constructor.name:""),o)}},a}(Ot),qn;function qy(){G.JANUARY=new G(1,"JANUARY"),G.FEBRUARY=new G(2,"FEBRUARY"),G.MARCH=new G(3,"MARCH"),G.APRIL=new G(4,"APRIL"),G.MAY=new G(5,"MAY"),G.JUNE=new G(6,"JUNE"),G.JULY=new G(7,"JULY"),G.AUGUST=new G(8,"AUGUST"),G.SEPTEMBER=new G(9,"SEPTEMBER"),G.OCTOBER=new G(10,"OCTOBER"),G.NOVEMBER=new G(11,"NOVEMBER"),G.DECEMBER=new G(12,"DECEMBER"),qn=[G.JANUARY,G.FEBRUARY,G.MARCH,G.APRIL,G.MAY,G.JUNE,G.JULY,G.AUGUST,G.SEPTEMBER,G.OCTOBER,G.NOVEMBER,G.DECEMBER]}var ky=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,lt=function(p){b(a,p);function a(i,e,o){var c;c=p.call(this)||this;var m=_.safeToInt(i),g=_.safeToInt(e),N=_.safeToInt(o);return m===0&&g===0&&N===0?(a.ZERO||(c._years=m,c._months=g,c._days=N,a.ZERO=q(c)),a.ZERO||q(c)):(c._years=m,c._months=g,c._days=N,c)}a.ofYears=function(e){return a.create(e,0,0)},a.ofMonths=function(e){return a.create(0,e,0)},a.ofWeeks=function(e){return a.create(0,0,_.safeMultiply(e,7))},a.ofDays=function(e){return a.create(0,0,e)},a.of=function(e,o,c){return a.create(e,o,c)},a.from=function(e){if(e instanceof a)return e;y(e,"amount");for(var o=0,c=0,m=0,g=e.units(),N=0;N<g.length;N++){var R=g[N],x=e.get(R);if(R===T.YEARS)o=_.safeToInt(x);else if(R===T.MONTHS)c=_.safeToInt(x);else if(R===T.DAYS)m=_.safeToInt(x);else throw new r("Unit must be Years, Months or Days, but was "+R)}return a.create(o,c,m)},a.between=function(e,o){return y(e,"startDate"),y(o,"endDate"),U(e,k,"startDate"),U(o,k,"endDate"),e.until(o)},a.parse=function(e){y(e,"text");try{return a._parse(e)}catch(o){throw o instanceof l?new u("Text cannot be parsed to a Period",e,0,o):o}},a._parse=function(e){var o=ky.exec(e);if(o!=null){var c=o[1]==="-"?-1:1,m=o[2],g=o[3],N=o[4],R=o[5];if(m!=null||g!=null||N!=null||R!=null){var x=a._parseNumber(e,m,c),Y=a._parseNumber(e,g,c),H=a._parseNumber(e,N,c),W=a._parseNumber(e,R,c);return W=_.safeAdd(W,_.safeMultiply(H,7)),a.create(x,Y,W)}}throw new u("Text cannot be parsed to a Period",e,0)},a._parseNumber=function(e,o,c){if(o==null)return 0;var m=_.parseInt(o);return _.safeMultiply(m,c)},a.create=function(e,o,c){return new a(e,o,c)};var s=a.prototype;return s.units=function(){return[T.YEARS,T.MONTHS,T.DAYS]},s.chronology=function(){return se.INSTANCE},s.get=function(e){if(e===T.YEARS)return this._years;if(e===T.MONTHS)return this._months;if(e===T.DAYS)return this._days;throw new f("Unsupported unit: "+e)},s.isZero=function(){return this===a.ZERO},s.isNegative=function(){return this._years<0||this._months<0||this._days<0},s.years=function(){return this._years},s.months=function(){return this._months},s.days=function(){return this._days},s.withYears=function(e){return e===this._years?this:a.create(e,this._months,this._days)},s.withMonths=function(e){return e===this._months?this:a.create(this._years,e,this._days)},s.withDays=function(e){return e===this._days?this:a.create(this._years,this._months,e)},s.plus=function(e){var o=a.from(e);return a.create(_.safeAdd(this._years,o._years),_.safeAdd(this._months,o._months),_.safeAdd(this._days,o._days))},s.plusYears=function(e){return e===0?this:a.create(_.safeToInt(_.safeAdd(this._years,e)),this._months,this._days)},s.plusMonths=function(e){return e===0?this:a.create(this._years,_.safeToInt(_.safeAdd(this._months,e)),this._days)},s.plusDays=function(e){return e===0?this:a.create(this._years,this._months,_.safeToInt(_.safeAdd(this._days,e)))},s.minus=function(e){var o=a.from(e);return a.create(_.safeSubtract(this._years,o._years),_.safeSubtract(this._months,o._months),_.safeSubtract(this._days,o._days))},s.minusYears=function(e){return this.plusYears(-1*e)},s.minusMonths=function(e){return this.plusMonths(-1*e)},s.minusDays=function(e){return this.plusDays(-1*e)},s.multipliedBy=function(e){return this===a.ZERO||e===1?this:a.create(_.safeMultiply(this._years,e),_.safeMultiply(this._months,e),_.safeMultiply(this._days,e))},s.negated=function(){return this.multipliedBy(-1)},s.normalized=function(){var e=this.toTotalMonths(),o=_.intDiv(e,12),c=_.intMod(e,12);return o===this._years&&c===this._months?this:a.create(_.safeToInt(o),c,this._days)},s.toTotalMonths=function(){return this._years*12+this._months},s.addTo=function(e){return y(e,"temporal"),this._years!==0?this._months!==0?e=e.plus(this.toTotalMonths(),T.MONTHS):e=e.plus(this._years,T.YEARS):this._months!==0&&(e=e.plus(this._months,T.MONTHS)),this._days!==0&&(e=e.plus(this._days,T.DAYS)),e},s.subtractFrom=function(e){return y(e,"temporal"),this._years!==0?this._months!==0?e=e.minus(this.toTotalMonths(),T.MONTHS):e=e.minus(this._years,T.YEARS):this._months!==0&&(e=e.minus(this._months,T.MONTHS)),this._days!==0&&(e=e.minus(this._days,T.DAYS)),e},s.equals=function(e){if(this===e)return!0;if(e instanceof a){var o=e;return this._years===o._years&&this._months===o._months&&this._days===o._days}return!1},s.hashCode=function(){return _.hashCode(this._years,this._months,this._days)},s.toString=function(){if(this===a.ZERO)return"P0D";var e="P";return this._years!==0&&(e+=this._years+"Y"),this._months!==0&&(e+=this._months+"M"),this._days!==0&&(e+=this._days+"D"),e},s.toJSON=function(){return this.toString()},a}(K);function Vy(){lt.ofDays(0)}var qs=function(){function p(s){this._index=s,this._errorIndex=-1}var a=p.prototype;return a.getIndex=function(){return this._index},a.setIndex=function(i){this._index=i},a.getErrorIndex=function(){return this._errorIndex},a.setErrorIndex=function(i){this._errorIndex=i},p}();var rc=function(){function p(){this._map={}}var a=p.prototype;return a.putAll=function(i){for(var e in i._map)this._map[e]=i._map[e];return this},a.containsKey=function(i){return this._map.hasOwnProperty(i.name())&&this.get(i)!==void 0},a.get=function(i){return this._map[i.name()]},a.put=function(i,e){return this.set(i,e)},a.set=function(i,e){return this._map[i.name()]=e,this},a.retainAll=function(i){for(var e={},o=0;o<i.length;o++){var c=i[o].name();e[c]=this._map[c]}return this._map=e,this},a.remove=function(i){var e=i.name(),o=this._map[e];return this._map[e]=void 0,o},a.keySet=function(){return this._map},a.clear=function(){this._map={}},p}(),j=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}return a}(J);j.STRICT=new j("STRICT"),j.SMART=new j("SMART"),j.LENIENT=new j("LENIENT");var xe=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.isSupported=function(e){w("isSupported")},s.minus=function(e,o){return arguments.length<2?this._minusAmount(e):this._minusUnit(e,o)},s._minusAmount=function(e){return y(e,"amount"),U(e,K,"amount"),e.subtractFrom(this)},s._minusUnit=function(e,o){return y(e,"amountToSubtract"),y(o,"unit"),U(o,$,"unit"),this._plusUnit(-e,o)},s.plus=function(e,o){return arguments.length<2?this._plusAmount(e):this._plusUnit(e,o)},s._plusAmount=function(e){return y(e,"amount"),U(e,K,"amount"),e.addTo(this)},s._plusUnit=function(e,o){w("_plusUnit")},s.until=function(e,o){w("until")},s.with=function(e,o){return arguments.length<2?this._withAdjuster(e):this._withField(e,o)},s._withAdjuster=function(e){return y(e,"adjuster"),F(typeof e.adjustInto=="function","adjuster must be a TemporalAdjuster",h),e.adjustInto(this)},s._withField=function(e,o){w("_withField")},a}(Ot);typeof Symbol<"u"&&Symbol.toPrimitive&&(xe.prototype[Symbol.toPrimitive]=function(p){if(p!=="number")return this.toString();throw new TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var sn=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.isSupported=function(e){return e instanceof d||e instanceof T?e.isDateBased():e!=null&&e.isSupportedBy(this)},s.query=function(e){return e===P.chronology()?this.chronology():e===P.precision()?T.DAYS:e===P.localDate()?k.ofEpochDay(this.toEpochDay()):e===P.localTime()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.adjustInto=function(e){return e.with(d.EPOCH_DAY,this.toEpochDay())},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),e.format(this)},a}(xe);var ct=function(){function p(){}return p.startsWith=function(s,i){return s.indexOf(i)===0},p.hashCode=function(s){var i=s.length;if(i===0)return 0;for(var e=0,o=0;o<i;o++){var c=s.charCodeAt(o);e=(e<<5)-e+c,e|=0}return _.smi(e)},p}();var oe=function(){function p(){}p.systemDefault=function(){throw new r("not supported operation")},p.getAvailableZoneIds=function(){throw new r("not supported operation")},p.of=function(i){throw new r("not supported operation"+i)},p.ofOffset=function(i,e){throw new r("not supported operation"+i+e)},p.from=function(i){throw new r("not supported operation"+i)};var a=p.prototype;return a.id=function(){w("ZoneId.id")},a.rules=function(){w("ZoneId.rules")},a.normalized=function(){var i=this.rules();return i.isFixedOffset()?i.offset(de.EPOCH):this},a.equals=function(i){return this===i?!0:i instanceof p?this.id()===i.id():!1},a.hashCode=function(){return ct.hashCode(this.id())},a.toString=function(){return this.id()},a.toJSON=function(){return this.toString()},p}(),kn=function(){function p(){}p.of=function(i){return y(i,"offset"),new Hy(i)};var a=p.prototype;return a.isFixedOffset=function(){w("ZoneRules.isFixedOffset")},a.offset=function(i){return i instanceof de?this.offsetOfInstant(i):this.offsetOfLocalDateTime(i)},a.offsetOfInstant=function(i){w("ZoneRules.offsetInstant")},a.offsetOfEpochMilli=function(i){w("ZoneRules.offsetOfEpochMilli")},a.offsetOfLocalDateTime=function(i){w("ZoneRules.offsetLocalDateTime")},a.validOffsets=function(i){w("ZoneRules.validOffsets")},a.transition=function(i){w("ZoneRules.transition")},a.standardOffset=function(i){w("ZoneRules.standardOffset")},a.daylightSavings=function(i){w("ZoneRules.daylightSavings")},a.isDaylightSavings=function(i){w("ZoneRules.isDaylightSavings")},a.isValidOffset=function(i,e){w("ZoneRules.isValidOffset")},a.nextTransition=function(i){w("ZoneRules.nextTransition")},a.previousTransition=function(i){w("ZoneRules.previousTransition")},a.transitions=function(){w("ZoneRules.transitions")},a.transitionRules=function(){w("ZoneRules.transitionRules")},a.toString=function(){w("ZoneRules.toString")},a.toJSON=function(){return this.toString()},p}(),Hy=function(p){b(a,p);function a(i){var e;return e=p.call(this)||this,e._offset=i,e}var s=a.prototype;return s.isFixedOffset=function(){return!0},s.offsetOfInstant=function(){return this._offset},s.offsetOfEpochMilli=function(){return this._offset},s.offsetOfLocalDateTime=function(){return this._offset},s.validOffsets=function(){return[this._offset]},s.transition=function(){return null},s.standardOffset=function(){return this._offset},s.daylightSavings=function(){return B.ZERO},s.isDaylightSavings=function(){return!1},s.isValidOffset=function(e,o){return this._offset.equals(o)},s.nextTransition=function(){return null},s.previousTransition=function(){return null},s.transitions=function(){return[]},s.transitionRules=function(){return[]},s.equals=function(e){return this===e?!0:e instanceof a?this._offset.equals(e._offset):!1},s.toString=function(){return"FixedRules:"+this._offset.toString()},a}(kn),ic={},oc={},Z=function(p){b(a,p);function a(i){var e;return e=p.call(this)||this,a._validateTotalSeconds(i),e._totalSeconds=_.safeToInt(i),e._rules=kn.of(q(e)),e._id=a._buildId(i),e}var s=a.prototype;return s.totalSeconds=function(){return this._totalSeconds},s.id=function(){return this._id},a._buildId=function(e){if(e===0)return"Z";var o=Math.abs(e),c=_.intDiv(o,D.SECONDS_PER_HOUR),m=_.intMod(_.intDiv(o,D.SECONDS_PER_MINUTE),D.MINUTES_PER_HOUR),g=(e<0?"-":"+")+(c<10?"0":"")+c+(m<10?":0":":")+m,N=_.intMod(o,D.SECONDS_PER_MINUTE);return N!==0&&(g+=(N<10?":0":":")+N),g},a._validateTotalSeconds=function(e){if(Math.abs(e)>a.MAX_SECONDS)throw new r("Zone offset not in valid range: -18:00 to +18:00")},a._validate=function(e,o,c){if(e<-18||e>18)throw new r("Zone offset hours not in valid range: value "+e+" is not in the range -18 to 18");if(e>0){if(o<0||c<0)throw new r("Zone offset minutes and seconds must be positive because hours is positive")}else if(e<0){if(o>0||c>0)throw new r("Zone offset minutes and seconds must be negative because hours is negative")}else if(o>0&&c<0||o<0&&c>0)throw new r("Zone offset minutes and seconds must have the same sign");if(Math.abs(o)>59)throw new r("Zone offset minutes not in valid range: abs(value) "+Math.abs(o)+" is not in the range 0 to 59");if(Math.abs(c)>59)throw new r("Zone offset seconds not in valid range: abs(value) "+Math.abs(c)+" is not in the range 0 to 59");if(Math.abs(e)===18&&(Math.abs(o)>0||Math.abs(c)>0))throw new r("Zone offset not in valid range: -18:00 to +18:00")},a.of=function(e){y(e,"offsetId");var o=oc[e];if(o!=null)return o;var c,m,g;switch(e.length){case 2:e=e[0]+"0"+e[1];case 3:c=a._parseNumber(e,1,!1),m=0,g=0;break;case 5:c=a._parseNumber(e,1,!1),m=a._parseNumber(e,3,!1),g=0;break;case 6:c=a._parseNumber(e,1,!1),m=a._parseNumber(e,4,!0),g=0;break;case 7:c=a._parseNumber(e,1,!1),m=a._parseNumber(e,3,!1),g=a._parseNumber(e,5,!1);break;case 9:c=a._parseNumber(e,1,!1),m=a._parseNumber(e,4,!0),g=a._parseNumber(e,7,!0);break;default:throw new r("Invalid ID for ZoneOffset, invalid format: "+e)}var N=e[0];if(N!=="+"&&N!=="-")throw new r("Invalid ID for ZoneOffset, plus/minus not found when expected: "+e);return N==="-"?a.ofHoursMinutesSeconds(-c,-m,-g):a.ofHoursMinutesSeconds(c,m,g)},a._parseNumber=function(e,o,c){if(c&&e[o-1]!==":")throw new r("Invalid ID for ZoneOffset, colon not found when expected: "+e);var m=e[o],g=e[o+1];if(m<"0"||m>"9"||g<"0"||g>"9")throw new r("Invalid ID for ZoneOffset, non numeric characters found: "+e);return(m.charCodeAt(0)-48)*10+(g.charCodeAt(0)-48)},a.ofHours=function(e){return a.ofHoursMinutesSeconds(e,0,0)},a.ofHoursMinutes=function(e,o){return a.ofHoursMinutesSeconds(e,o,0)},a.ofHoursMinutesSeconds=function(e,o,c){a._validate(e,o,c);var m=e*D.SECONDS_PER_HOUR+o*D.SECONDS_PER_MINUTE+c;return a.ofTotalSeconds(m)},a.ofTotalMinutes=function(e){var o=e*D.SECONDS_PER_MINUTE;return a.ofTotalSeconds(o)},a.ofTotalSeconds=function(e){if(e%(15*D.SECONDS_PER_MINUTE)===0){var o=e,c=ic[o];return c==null&&(c=new a(e),ic[o]=c,oc[c.id()]=c),c}else return new a(e)},s.rules=function(){return this._rules},s.get=function(e){return this.getLong(e)},s.getLong=function(e){if(e===d.OFFSET_SECONDS)return this._totalSeconds;if(e instanceof d)throw new r("Unsupported field: "+e);return e.getFrom(this)},s.query=function(e){return y(e,"query"),e===P.offset()||e===P.zone()?this:e===P.localDate()||e===P.localTime()||e===P.precision()||e===P.chronology()||e===P.zoneId()?null:e.queryFrom(this)},s.adjustInto=function(e){return e.with(d.OFFSET_SECONDS,this._totalSeconds)},s.compareTo=function(e){return y(e,"other"),e._totalSeconds-this._totalSeconds},s.equals=function(e){return this===e?!0:e instanceof a?this._totalSeconds===e._totalSeconds:!1},s.hashCode=function(){return this._totalSeconds},s.toString=function(){return this._id},a}(oe);function Wy(){Z.MAX_SECONDS=18*D.SECONDS_PER_HOUR,Z.UTC=Z.ofTotalSeconds(0),Z.MIN=Z.ofTotalSeconds(-Z.MAX_SECONDS),Z.MAX=Z.ofTotalSeconds(Z.MAX_SECONDS)}var Ur=function(p){b(a,p),a.create=function(e,o){var c=new a;return c._addFieldValue(e,o),c};function a(){var i;return i=p.call(this)||this,i.fieldValues=new rc,i.chrono=null,i.zone=null,i.date=null,i.time=null,i.leapSecond=!1,i.excessDays=null,i}var s=a.prototype;return s.getFieldValue0=function(e){return this.fieldValues.get(e)},s._addFieldValue=function(e,o){y(e,"field");var c=this.getFieldValue0(e);if(c!=null&&c!==o)throw new r("Conflict found: "+e+" "+c+" differs from "+e+" "+o+": "+this);return this._putFieldValue0(e,o)},s._putFieldValue0=function(e,o){return this.fieldValues.put(e,o),this},s.resolve=function(e,o){return o!=null&&this.fieldValues.retainAll(o),this._mergeDate(e),this._mergeTime(e),this._resolveTimeInferZeroes(e),this.excessDays!=null&&this.excessDays.isZero()===!1&&this.date!=null&&this.time!=null&&(this.date=this.date.plus(this.excessDays),this.excessDays=lt.ZERO),this._resolveInstant(),this},s._mergeDate=function(e){this._checkDate(se.INSTANCE.resolveDate(this.fieldValues,e))},s._checkDate=function(e){if(e!=null){this._addObject(e);for(var o in this.fieldValues.keySet()){var c=d.byName(o);if(c&&this.fieldValues.get(c)!==void 0&&c.isDateBased()){var m=void 0;try{m=e.getLong(c)}catch(N){if(N instanceof r)continue;throw N}var g=this.fieldValues.get(c);if(m!==g)throw new r("Conflict found: Field "+c+" "+m+" differs from "+c+" "+g+" derived from "+e)}}}},s._mergeTime=function(e){if(this.fieldValues.containsKey(d.CLOCK_HOUR_OF_DAY)){var o=this.fieldValues.remove(d.CLOCK_HOUR_OF_DAY);e!==j.LENIENT&&(e===j.SMART&&o===0||d.CLOCK_HOUR_OF_DAY.checkValidValue(o)),this._addFieldValue(d.HOUR_OF_DAY,o===24?0:o)}if(this.fieldValues.containsKey(d.CLOCK_HOUR_OF_AMPM)){var c=this.fieldValues.remove(d.CLOCK_HOUR_OF_AMPM);e!==j.LENIENT&&(e===j.SMART&&c===0||d.CLOCK_HOUR_OF_AMPM.checkValidValue(c)),this._addFieldValue(d.HOUR_OF_AMPM,c===12?0:c)}if(e!==j.LENIENT&&(this.fieldValues.containsKey(d.AMPM_OF_DAY)&&d.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(d.AMPM_OF_DAY)),this.fieldValues.containsKey(d.HOUR_OF_AMPM)&&d.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(d.HOUR_OF_AMPM))),this.fieldValues.containsKey(d.AMPM_OF_DAY)&&this.fieldValues.containsKey(d.HOUR_OF_AMPM)){var m=this.fieldValues.remove(d.AMPM_OF_DAY),g=this.fieldValues.remove(d.HOUR_OF_AMPM);this._addFieldValue(d.HOUR_OF_DAY,m*12+g)}if(this.fieldValues.containsKey(d.NANO_OF_DAY)){var N=this.fieldValues.remove(d.NANO_OF_DAY);e!==j.LENIENT&&d.NANO_OF_DAY.checkValidValue(N),this._addFieldValue(d.SECOND_OF_DAY,_.intDiv(N,1e9)),this._addFieldValue(d.NANO_OF_SECOND,_.intMod(N,1e9))}if(this.fieldValues.containsKey(d.MICRO_OF_DAY)){var R=this.fieldValues.remove(d.MICRO_OF_DAY);e!==j.LENIENT&&d.MICRO_OF_DAY.checkValidValue(R),this._addFieldValue(d.SECOND_OF_DAY,_.intDiv(R,1e6)),this._addFieldValue(d.MICRO_OF_SECOND,_.intMod(R,1e6))}if(this.fieldValues.containsKey(d.MILLI_OF_DAY)){var x=this.fieldValues.remove(d.MILLI_OF_DAY);e!==j.LENIENT&&d.MILLI_OF_DAY.checkValidValue(x),this._addFieldValue(d.SECOND_OF_DAY,_.intDiv(x,1e3)),this._addFieldValue(d.MILLI_OF_SECOND,_.intMod(x,1e3))}if(this.fieldValues.containsKey(d.SECOND_OF_DAY)){var Y=this.fieldValues.remove(d.SECOND_OF_DAY);e!==j.LENIENT&&d.SECOND_OF_DAY.checkValidValue(Y),this._addFieldValue(d.HOUR_OF_DAY,_.intDiv(Y,3600)),this._addFieldValue(d.MINUTE_OF_HOUR,_.intMod(_.intDiv(Y,60),60)),this._addFieldValue(d.SECOND_OF_MINUTE,_.intMod(Y,60))}if(this.fieldValues.containsKey(d.MINUTE_OF_DAY)){var H=this.fieldValues.remove(d.MINUTE_OF_DAY);e!==j.LENIENT&&d.MINUTE_OF_DAY.checkValidValue(H),this._addFieldValue(d.HOUR_OF_DAY,_.intDiv(H,60)),this._addFieldValue(d.MINUTE_OF_HOUR,_.intMod(H,60))}if(e!==j.LENIENT&&(this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&d.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(d.MILLI_OF_SECOND)),this.fieldValues.containsKey(d.MICRO_OF_SECOND)&&d.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(d.MICRO_OF_SECOND))),this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&this.fieldValues.containsKey(d.MICRO_OF_SECOND)){var W=this.fieldValues.remove(d.MILLI_OF_SECOND),le=this.fieldValues.get(d.MICRO_OF_SECOND);this._putFieldValue0(d.MICRO_OF_SECOND,W*1e3+_.intMod(le,1e3))}if(this.fieldValues.containsKey(d.MICRO_OF_SECOND)&&this.fieldValues.containsKey(d.NANO_OF_SECOND)){var ye=this.fieldValues.get(d.NANO_OF_SECOND);this._putFieldValue0(d.MICRO_OF_SECOND,_.intDiv(ye,1e3)),this.fieldValues.remove(d.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(d.MILLI_OF_SECOND)&&this.fieldValues.containsKey(d.NANO_OF_SECOND)){var ve=this.fieldValues.get(d.NANO_OF_SECOND);this._putFieldValue0(d.MILLI_OF_SECOND,_.intDiv(ve,1e6)),this.fieldValues.remove(d.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(d.MICRO_OF_SECOND)){var ge=this.fieldValues.remove(d.MICRO_OF_SECOND);this._putFieldValue0(d.NANO_OF_SECOND,ge*1e3)}else if(this.fieldValues.containsKey(d.MILLI_OF_SECOND)){var Ue=this.fieldValues.remove(d.MILLI_OF_SECOND);this._putFieldValue0(d.NANO_OF_SECOND,Ue*1e6)}},s._resolveTimeInferZeroes=function(e){var o=this.fieldValues.get(d.HOUR_OF_DAY),c=this.fieldValues.get(d.MINUTE_OF_HOUR),m=this.fieldValues.get(d.SECOND_OF_MINUTE),g=this.fieldValues.get(d.NANO_OF_SECOND);if(o!=null&&!(c==null&&(m!=null||g!=null))&&!(c!=null&&m==null&&g!=null)){if(e!==j.LENIENT){if(o!=null){e===j.SMART&&o===24&&(c==null||c===0)&&(m==null||m===0)&&(g==null||g===0)&&(o=0,this.excessDays=lt.ofDays(1));var N=d.HOUR_OF_DAY.checkValidIntValue(o);if(c!=null){var R=d.MINUTE_OF_HOUR.checkValidIntValue(c);if(m!=null){var x=d.SECOND_OF_MINUTE.checkValidIntValue(m);if(g!=null){var Y=d.NANO_OF_SECOND.checkValidIntValue(g);this._addObject(D.of(N,R,x,Y))}else this._addObject(D.of(N,R,x))}else g==null&&this._addObject(D.of(N,R))}else m==null&&g==null&&this._addObject(D.of(N,0))}}else if(o!=null){var H=o;if(c!=null)if(m!=null){g==null&&(g=0);var W=_.safeMultiply(H,36e11);W=_.safeAdd(W,_.safeMultiply(c,6e10)),W=_.safeAdd(W,_.safeMultiply(m,1e9)),W=_.safeAdd(W,g);var le=_.floorDiv(W,864e11),ye=_.floorMod(W,864e11);this._addObject(D.ofNanoOfDay(ye)),this.excessDays=lt.ofDays(le)}else{var ve=_.safeMultiply(H,3600);ve=_.safeAdd(ve,_.safeMultiply(c,60));var ge=_.floorDiv(ve,86400),Ue=_.floorMod(ve,86400);this._addObject(D.ofSecondOfDay(Ue)),this.excessDays=lt.ofDays(ge)}else{var ot=_.safeToInt(_.floorDiv(H,24));H=_.floorMod(H,24),this._addObject(D.of(H,0)),this.excessDays=lt.ofDays(ot)}}this.fieldValues.remove(d.HOUR_OF_DAY),this.fieldValues.remove(d.MINUTE_OF_HOUR),this.fieldValues.remove(d.SECOND_OF_MINUTE),this.fieldValues.remove(d.NANO_OF_SECOND)}},s._addObject=function(e){e instanceof sn?this.date=e:e instanceof D&&(this.time=e)},s._resolveInstant=function(){if(this.date!=null&&this.time!=null){var e=this.fieldValues.get(d.OFFSET_SECONDS);if(e!=null){var o=Z.ofTotalSeconds(e),c=this.date.atTime(this.time).atZone(o).getLong(d.INSTANT_SECONDS);this.fieldValues.put(d.INSTANT_SECONDS,c)}else if(this.zone!=null){var m=this.date.atTime(this.time).atZone(this.zone).getLong(d.INSTANT_SECONDS);this.fieldValues.put(d.INSTANT_SECONDS,m)}}},s.build=function(e){return e.queryFrom(this)},s.isSupported=function(e){return e==null?!1:this.fieldValues.containsKey(e)&&this.fieldValues.get(e)!==void 0||this.date!=null&&this.date.isSupported(e)||this.time!=null&&this.time.isSupported(e)},s.getLong=function(e){y(e,"field");var o=this.getFieldValue0(e);if(o==null){if(this.date!=null&&this.date.isSupported(e))return this.date.getLong(e);if(this.time!=null&&this.time.isSupported(e))return this.time.getLong(e);throw new r("Field not found: "+e)}return o},s.query=function(e){return e===P.zoneId()?this.zone:e===P.chronology()?this.chrono:e===P.localDate()?this.date!=null?k.from(this.date):null:e===P.localTime()?this.time:e===P.zone()||e===P.offset()?e.queryFrom(this):e===P.precision()?null:e.queryFrom(this)},a}(Ot),sc=function(){function p(){if(arguments.length===1)if(arguments[0]instanceof p){this._constructorSelf.apply(this,arguments);return}else this._constructorFormatter.apply(this,arguments);else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new ac(this)]}var a=p.prototype;return a._constructorParam=function(i,e,o){this._locale=i,this._symbols=e,this._overrideChronology=o},a._constructorFormatter=function(i){this._locale=i.locale(),this._symbols=i.decimalStyle(),this._overrideChronology=i.chronology()},a._constructorSelf=function(i){this._locale=i._locale,this._symbols=i._symbols,this._overrideChronology=i._overrideChronology,this._overrideZone=i._overrideZone,this._caseSensitive=i._caseSensitive,this._strict=i._strict,this._parsed=[new ac(this)]},a.copy=function(){return new p(this)},a.symbols=function(){return this._symbols},a.isStrict=function(){return this._strict},a.setStrict=function(i){this._strict=i},a.locale=function(){return this._locale},a.setLocale=function(i){this._locale=i},a.startOptional=function(){this._parsed.push(this.currentParsed().copy())},a.endOptional=function(i){i?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},a.isCaseSensitive=function(){return this._caseSensitive},a.setCaseSensitive=function(i){this._caseSensitive=i},a.subSequenceEquals=function(i,e,o,c,m){if(e+m>i.length||c+m>o.length)return!1;this.isCaseSensitive()||(i=i.toLowerCase(),o=o.toLowerCase());for(var g=0;g<m;g++){var N=i[e+g],R=o[c+g];if(N!==R)return!1}return!0},a.charEquals=function(i,e){return this.isCaseSensitive()?i===e:this.charEqualsIgnoreCase(i,e)},a.charEqualsIgnoreCase=function(i,e){return i===e||i.toLowerCase()===e.toLowerCase()},a.setParsedField=function(i,e,o,c){var m=this.currentParsed().fieldValues,g=m.get(i);return m.set(i,e),g!=null&&g!==e?~o:c},a.setParsedZone=function(i){y(i,"zone"),this.currentParsed().zone=i},a.getParsed=function(i){return this.currentParsed().fieldValues.get(i)},a.toParsed=function(){return this.currentParsed()},a.currentParsed=function(){return this._parsed[this._parsed.length-1]},a.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},a.getEffectiveChronology=function(){var i=this.currentParsed().chrono;return i==null&&(i=this._overrideChronology,i==null&&(i=se.INSTANCE)),i},p}(),ac=function(p){b(a,p);function a(i){var e;return e=p.call(this)||this,e.chrono=null,e.zone=null,e.fieldValues=new rc,e.leapSecond=!1,e.dateTimeParseContext=i,e}var s=a.prototype;return s.copy=function(){var e=new a;return e.chrono=this.chrono,e.zone=this.zone,e.fieldValues.putAll(this.fieldValues),e.leapSecond=this.leapSecond,e.dateTimeParseContext=this.dateTimeParseContext,e},s.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},s.isSupported=function(e){return this.fieldValues.containsKey(e)},s.get=function(e){var o=this.fieldValues.get(e);return F(o!=null),o},s.query=function(e){return e===P.chronology()?this.chrono:e===P.zoneId()||e===P.zone()?this.zone:p.prototype.query.call(this,e)},s.toBuilder=function(){var e=new Ur;return e.fieldValues.putAll(this.fieldValues),e.chrono=this.dateTimeParseContext.getEffectiveChronology(),this.zone!=null?e.zone=this.zone:e.zone=this.overrideZone,e.leapSecond=this.leapSecond,e.excessDays=this.excessDays,e},a}(xe);var uc=function(){function p(s,i,e){arguments.length===2&&arguments[1]instanceof X?(this._temporal=p.adjust(s,i),this._locale=i.locale(),this._symbols=i.decimalStyle()):(this._temporal=s,this._locale=i,this._symbols=e),this._optional=0}p.adjust=function(i,e){return i};var a=p.prototype;return a.symbols=function(){return this._symbols},a.startOptional=function(){this._optional++},a.endOptional=function(){this._optional--},a.getValueQuery=function(i){var e=this._temporal.query(i);if(e==null&&this._optional===0)throw new r("Unable to extract value: "+this._temporal);return e},a.getValue=function(i){try{return this._temporal.getLong(i)}catch(e){if(e instanceof r&&this._optional>0)return null;throw e}},a.temporal=function(){return this._temporal},a.locale=function(){return this._locale},a.setDateTime=function(i){this._temporal=i},a.setLocale=function(i){this._locale=i},p}(),ze={},Gy=[0,90,181,273,0,91,182,274],ht=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.isDateBased=function(){return!0},s.isTimeBased=function(){return!1},s._isIso=function(){return!0},a._getWeekRangeByLocalDate=function(e){var o=a._getWeekBasedYear(e);return z.of(1,a._getWeekRangeByYear(o))},a._getWeekRangeByYear=function(e){var o=k.of(e,1,1);return o.dayOfWeek()===he.THURSDAY||o.dayOfWeek()===he.WEDNESDAY&&o.isLeapYear()?53:52},a._getWeek=function(e){var o=e.dayOfWeek().ordinal(),c=e.dayOfYear()-1,m=c+(3-o),g=_.intDiv(m,7),N=m-g*7,R=N-3;if(R<-3&&(R+=7),c<R)return a._getWeekRangeByLocalDate(e.withDayOfYear(180).minusYears(1)).maximum();var x=_.intDiv(c-R,7)+1;return x===53&&(R===-3||R===-2&&e.isLeapYear())===!1&&(x=1),x},a._getWeekBasedYear=function(e){var o=e.year(),c=e.dayOfYear();if(c<=3){var m=e.dayOfWeek().ordinal();c-m<-2&&o--}else if(c>=363){var g=e.dayOfWeek().ordinal();c=c-363-(e.isLeapYear()?1:0),c-g>=0&&o++}return o},s.displayName=function(){return this.toString()},s.resolve=function(){return null},s.name=function(){return this.toString()},a}(We),Ky=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.toString=function(){return"DayOfQuarter"},s.baseUnit=function(){return T.DAYS},s.rangeUnit=function(){return un},s.range=function(){return z.of(1,90,92)},s.isSupportedBy=function(e){return e.isSupported(d.DAY_OF_YEAR)&&e.isSupported(d.MONTH_OF_YEAR)&&e.isSupported(d.YEAR)&&this._isIso(e)},s.rangeRefinedBy=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: DayOfQuarter");var o=e.getLong(kt);if(o===1){var c=e.getLong(d.YEAR);return se.isLeapYear(c)?z.of(1,91):z.of(1,90)}else{if(o===2)return z.of(1,91);if(o===3||o===4)return z.of(1,92)}return this.range()},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: DayOfQuarter");var o=e.get(d.DAY_OF_YEAR),c=e.get(d.MONTH_OF_YEAR),m=e.getLong(d.YEAR);return o-Gy[_.intDiv(c-1,3)+(se.isLeapYear(m)?4:0)]},s.adjustInto=function(e,o){var c=this.getFrom(e);return this.range().checkValidValue(o,this),e.with(d.DAY_OF_YEAR,e.getLong(d.DAY_OF_YEAR)+(o-c))},s.resolve=function(e,o,c){var m=e.get(d.YEAR),g=e.get(kt);if(m==null||g==null)return null;var N=d.YEAR.checkValidIntValue(m),R=e.get(ks),x;if(c===j.LENIENT){var Y=g;x=k.of(N,1,1),x=x.plusMonths(_.safeMultiply(_.safeSubtract(Y,1),3)),x=x.plusDays(_.safeSubtract(R,1))}else{var H=kt.range().checkValidIntValue(g,kt);if(c===j.STRICT){var W=92;H===1?W=se.isLeapYear(N)?91:90:H===2&&(W=91),z.of(1,W).checkValidValue(R,this)}else this.range().checkValidValue(R,this);x=k.of(N,(H-1)*3+1,1).plusDays(R-1)}return e.remove(this),e.remove(d.YEAR),e.remove(kt),x},a}(ht),zy=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.toString=function(){return"QuarterOfYear"},s.baseUnit=function(){return un},s.rangeUnit=function(){return T.YEARS},s.range=function(){return z.of(1,4)},s.isSupportedBy=function(e){return e.isSupported(d.MONTH_OF_YEAR)&&this._isIso(e)},s.rangeRefinedBy=function(e){return this.range()},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: QuarterOfYear");var o=e.getLong(d.MONTH_OF_YEAR);return _.intDiv(o+2,3)},s.adjustInto=function(e,o){var c=this.getFrom(e);return this.range().checkValidValue(o,this),e.with(d.MONTH_OF_YEAR,e.getLong(d.MONTH_OF_YEAR)+(o-c)*3)},a}(ht),Zy=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.toString=function(){return"WeekOfWeekBasedYear"},s.baseUnit=function(){return T.WEEKS},s.rangeUnit=function(){return an},s.range=function(){return z.of(1,52,53)},s.isSupportedBy=function(e){return e.isSupported(d.EPOCH_DAY)&&this._isIso(e)},s.rangeRefinedBy=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: WeekOfWeekBasedYear");return ht._getWeekRangeByLocalDate(k.from(e))},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: WeekOfWeekBasedYear");return ht._getWeek(k.from(e))},s.adjustInto=function(e,o){return this.range().checkValidValue(o,this),e.plus(_.safeSubtract(o,this.getFrom(e)),T.WEEKS)},s.resolve=function(e,o,c){var m=e.get(nt),g=e.get(d.DAY_OF_WEEK);if(m==null||g==null)return null;var N=nt.range().checkValidIntValue(m,nt),R=e.get(Vs),x;if(c===j.LENIENT){var Y=g,H=0;Y>7?(H=_.intDiv(Y-1,7),Y=_.intMod(Y-1,7)+1):Y<1&&(H=_.intDiv(Y,7)-1,Y=_.intMod(Y,7)+7),x=k.of(N,1,4).plusWeeks(R-1).plusWeeks(H).with(d.DAY_OF_WEEK,Y)}else{var W=d.DAY_OF_WEEK.checkValidIntValue(g);if(c===j.STRICT){var le=k.of(N,1,4),ye=ht._getWeekRangeByLocalDate(le);ye.checkValidValue(R,this)}else this.range().checkValidValue(R,this);x=k.of(N,1,4).plusWeeks(R-1).with(d.DAY_OF_WEEK,W)}return e.remove(this),e.remove(nt),e.remove(d.DAY_OF_WEEK),x},s.displayName=function(){return"Week"},a}(ht),$y=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.toString=function(){return"WeekBasedYear"},s.baseUnit=function(){return an},s.rangeUnit=function(){return T.FOREVER},s.range=function(){return d.YEAR.range()},s.isSupportedBy=function(e){return e.isSupported(d.EPOCH_DAY)&&this._isIso(e)},s.rangeRefinedBy=function(e){return d.YEAR.range()},s.getFrom=function(e){if(e.isSupported(this)===!1)throw new f("Unsupported field: WeekBasedYear");return ht._getWeekBasedYear(k.from(e))},s.adjustInto=function(e,o){if(this.isSupportedBy(e)===!1)throw new f("Unsupported field: WeekBasedYear");var c=this.range().checkValidIntValue(o,nt),m=k.from(e),g=m.get(d.DAY_OF_WEEK),N=ht._getWeek(m);N===53&&ht._getWeekRangeByYear(c)===52&&(N=52);var R=k.of(c,1,4),x=g-R.get(d.DAY_OF_WEEK)+(N-1)*7;return R=R.plusDays(x),e.with(R)},a}(ht),fc=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._name=i,o._duration=e,o}var s=a.prototype;return s.duration=function(){return this._duration},s.isDurationEstimated=function(){return!0},s.isDateBased=function(){return!0},s.isTimeBased=function(){return!1},s.isSupportedBy=function(e){return e.isSupported(d.EPOCH_DAY)},s.addTo=function(e,o){switch(this){case an:{var c=_.safeAdd(e.get(nt),o);return e.with(nt,c)}case un:return e.plus(_.intDiv(o,256),T.YEARS).plus(_.intMod(o,256)*3,T.MONTHS);default:throw new E("Unreachable")}},s.between=function(e,o){switch(this){case an:return _.safeSubtract(o.getLong(nt),e.getLong(nt));case un:return _.intDiv(e.until(o,T.MONTHS),3);default:throw new E("Unreachable")}},s.toString=function(){return this._name},a}($),ks=null,kt=null,Vs=null,nt=null,an=null,un=null;function jy(){ks=new Ky,kt=new zy,Vs=new Zy,nt=new $y,an=new fc("WeekBasedYears",B.ofSeconds(31556952)),un=new fc("QuarterYears",B.ofSeconds(31556952/4)),ze.DAY_OF_QUARTER=ks,ze.QUARTER_OF_YEAR=kt,ze.WEEK_OF_WEEK_BASED_YEAR=Vs,ze.WEEK_BASED_YEAR=nt,ze.WEEK_BASED_YEARS=an,ze.QUARTER_YEARS=un,k.prototype.isoWeekOfWeekyear=function(){return this.get(ze.WEEK_OF_WEEK_BASED_YEAR)},k.prototype.isoWeekyear=function(){return this.get(ze.WEEK_BASED_YEAR)}}var Vn=function(){function p(s,i,e,o){this._zeroDigit=s,this._zeroDigitCharCode=s.charCodeAt(0),this._positiveSign=i,this._negativeSign=e,this._decimalSeparator=o}var a=p.prototype;return a.positiveSign=function(){return this._positiveSign},a.withPositiveSign=function(i){return i===this._positiveSign?this:new p(this._zeroDigit,i,this._negativeSign,this._decimalSeparator)},a.negativeSign=function(){return this._negativeSign},a.withNegativeSign=function(i){return i===this._negativeSign?this:new p(this._zeroDigit,this._positiveSign,i,this._decimalSeparator)},a.zeroDigit=function(){return this._zeroDigit},a.withZeroDigit=function(i){return i===this._zeroDigit?this:new p(i,this._positiveSign,this._negativeSign,this._decimalSeparator)},a.decimalSeparator=function(){return this._decimalSeparator},a.withDecimalSeparator=function(i){return i===this._decimalSeparator?this:new p(this._zeroDigit,this._positiveSign,this._negativeSign,i)},a.convertToDigit=function(i){var e=i.charCodeAt(0)-this._zeroDigitCharCode;return e>=0&&e<=9?e:-1},a.convertNumberToI18N=function(i){if(this._zeroDigit==="0")return i;for(var e=this._zeroDigitCharCode-"0".charCodeAt(0),o="",c=0;c<i.length;c++)o+=String.fromCharCode(i.charCodeAt(c)+e);return o},a.equals=function(i){return this===i?!0:i instanceof p?this._zeroDigit===i._zeroDigit&&this._positiveSign===i._positiveSign&&this._negativeSign===i._negativeSign&&this._decimalSeparator===i._decimalSeparator:!1},a.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},a.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},p.of=function(){throw new Error("not yet supported")},p.availableLocales=function(){throw new Error("not yet supported")},p}();Vn.STANDARD=new Vn("0","+","-",".");var ne=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.parse=function(e,o,c){switch(this){case a.NORMAL:return!e||!o;case a.ALWAYS:case a.EXCEEDS_PAD:return!0;default:return!o&&!c}},a}(J);ne.NORMAL=new ne("NORMAL"),ne.NEVER=new ne("NEVER"),ne.ALWAYS=new ne("ALWAYS"),ne.EXCEEDS_PAD=new ne("EXCEEDS_PAD"),ne.NOT_NEGATIVE=new ne("NOT_NEGATIVE");var ie=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.isStandalone=function(){switch(this){case a.FULL_STANDALONE:case a.SHORT_STANDALONE:case a.NARROW_STANDALONE:return!0;default:return!1}},s.asStandalone=function(){switch(this){case a.FULL:return a.FULL_STANDALONE;case a.SHORT:return a.SHORT_STANDALONE;case a.NARROW:return a.NARROW_STANDALONE;default:return this}},s.asNormal=function(){switch(this){case a.FULL_STANDALONE:return a.FULL;case a.SHORT_STANDALONE:return a.SHORT;case a.NARROW_STANDALONE:return a.NARROW;default:return this}},a}(J);ie.FULL=new ie("FULL"),ie.FULL_STANDALONE=new ie("FULL_STANDALONE"),ie.SHORT=new ie("SHORT"),ie.SHORT_STANDALONE=new ie("SHORT_STANDALONE"),ie.NARROW=new ie("NARROW"),ie.NARROW_STANDALONE=new ie("NARROW_STANDALONE");var lc=function(){function p(s){if(s.length>1)throw new h('invalid literal, too long: "'+s+'"');this._literal=s}var a=p.prototype;return a.print=function(i,e){return e.append(this._literal),!0},a.parse=function(i,e,o){var c=e.length;if(o===c)return~o;var m=e.charAt(o);return i.charEquals(this._literal,m)===!1?~o:o+this._literal.length},a.toString=function(){return this._literal==="'"?"''":"'"+this._literal+"'"},p}();var Hs=function(){function p(s,i){this._printerParsers=s,this._optional=i}var a=p.prototype;return a.withOptional=function(i){return i===this._optional?this:new p(this._printerParsers,i)},a.print=function(i,e){var o=e.length();this._optional&&i.startOptional();try{for(var c=0;c<this._printerParsers.length;c++){var m=this._printerParsers[c];if(m.print(i,e)===!1)return e.setLength(o),!0}}finally{this._optional&&i.endOptional()}return!0},a.parse=function(i,e,o){if(this._optional){i.startOptional();for(var c=o,m=0;m<this._printerParsers.length;m++){var g=this._printerParsers[m];if(c=g.parse(i,e,c),c<0)return i.endOptional(!1),o}return i.endOptional(!0),c}else{for(var N=0;N<this._printerParsers.length;N++){var R=this._printerParsers[N];if(o=R.parse(i,e,o),o<0)break}return o}},a.toString=function(){var i="";if(this._printerParsers!=null){i+=this._optional?"[":"(";for(var e=0;e<this._printerParsers.length;e++){var o=this._printerParsers[e];i+=o.toString()}i+=this._optional?"]":")"}return i},p}();var cc=function(){function p(s,i,e,o){if(y(s,"field"),s.range().isFixed()===!1)throw new h("Field must have a fixed set of values: "+s);if(i<0||i>9)throw new h("Minimum width must be from 0 to 9 inclusive but was "+i);if(e<1||e>9)throw new h("Maximum width must be from 1 to 9 inclusive but was "+e);if(e<i)throw new h("Maximum width must exceed or equal the minimum width but "+e+" < "+i);this.field=s,this.minWidth=i,this.maxWidth=e,this.decimalPoint=o}var a=p.prototype;return a.print=function(i,e){var o=i.getValue(this.field);if(o===null)return!1;var c=i.symbols();if(o===0){if(this.minWidth>0){this.decimalPoint&&e.append(c.decimalSeparator());for(var m=0;m<this.minWidth;m++)e.append(c.zeroDigit())}}else{var g=this.convertToFraction(o,c.zeroDigit()),N=Math.min(Math.max(g.length,this.minWidth),this.maxWidth);if(g=g.substr(0,N),g*1>0)for(;g.length>this.minWidth&&g[g.length-1]==="0";)g=g.substr(0,g.length-1);var R=g;R=c.convertNumberToI18N(R),this.decimalPoint&&e.append(c.decimalSeparator()),e.append(R)}return!0},a.parse=function(i,e,o){var c=i.isStrict()?this.minWidth:0,m=i.isStrict()?this.maxWidth:9,g=e.length;if(o===g)return c>0?~o:o;if(this.decimalPoint){if(e[o]!==i.symbols().decimalSeparator())return c>0?~o:o;o++}var N=o+c;if(N>g)return~o;for(var R=Math.min(o+m,g),x=0,Y=o;Y<R;){var H=e.charAt(Y++),W=i.symbols().convertToDigit(H);if(W<0){if(Y<N)return~o;Y--;break}x=x*10+W}var le=Y-o,ye=Math.pow(10,le),ve=this.convertFromFraction(x,ye);return i.setParsedField(this.field,ve,o,Y)},a.convertToFraction=function(i,e){var o=this.field.range();o.checkValidValue(i,this.field);for(var c=o.minimum(),m=o.maximum()-c+1,g=i-c,N=_.intDiv(g*1e9,m),R=""+N;R.length<9;)R=e+R;return R},a.convertFromFraction=function(i,e){var o=this.field.range(),c=o.minimum(),m=o.maximum()-c+1,g=_.intDiv(i*m,e);return g},a.toString=function(){var i=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+i+")"},p}(),Ws=15,fn=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],ln=function(){function p(s,i,e,o,c){c===void 0&&(c=0),this._field=s,this._minWidth=i,this._maxWidth=e,this._signStyle=o,this._subsequentWidth=c}var a=p.prototype;return a.field=function(){return this._field},a.minWidth=function(){return this._minWidth},a.maxWidth=function(){return this._maxWidth},a.signStyle=function(){return this._signStyle},a.withFixedWidth=function(){return this._subsequentWidth===-1?this:new p(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},a.withSubsequentWidth=function(i){return new p(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+i)},a._isFixedWidth=function(){return this._subsequentWidth===-1||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===ne.NOT_NEGATIVE},a.print=function(i,e){var o=i.getValue(this._field);if(o==null)return!1;var c=this._getValue(i,o),m=i.symbols(),g=""+Math.abs(c);if(g.length>this._maxWidth)throw new r("Field "+this._field+" cannot be printed as the value "+c+" exceeds the maximum print width of "+this._maxWidth);if(g=m.convertNumberToI18N(g),c>=0)switch(this._signStyle){case ne.EXCEEDS_PAD:this._minWidth<Ws&&c>=fn[this._minWidth]&&e.append(m.positiveSign());break;case ne.ALWAYS:e.append(m.positiveSign());break}else switch(this._signStyle){case ne.NORMAL:case ne.EXCEEDS_PAD:case ne.ALWAYS:e.append(m.negativeSign());break;case ne.NOT_NEGATIVE:throw new r("Field "+this._field+" cannot be printed as the value "+c+" cannot be negative according to the SignStyle")}for(var N=0;N<this._minWidth-g.length;N++)e.append(m.zeroDigit());return e.append(g),!0},a.parse=function(i,e,o){var c=e.length;if(o===c)return~o;F(o>=0&&o<c);var m=e.charAt(o),g=!1,N=!1;if(m===i.symbols().positiveSign()){if(this._signStyle.parse(!0,i.isStrict(),this._minWidth===this._maxWidth)===!1)return~o;N=!0,o++}else if(m===i.symbols().negativeSign()){if(this._signStyle.parse(!1,i.isStrict(),this._minWidth===this._maxWidth)===!1)return~o;g=!0,o++}else if(this._signStyle===ne.ALWAYS&&i.isStrict())return~o;var R=i.isStrict()||this._isFixedWidth()?this._minWidth:1,x=o+R;if(x>c)return~o;for(var Y=(i.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),H=0,W=o,le=0;le<2;le++){for(var ye=Math.min(W+Y,c);W<ye;){var ve=e.charAt(W++),ge=i.symbols().convertToDigit(ve);if(ge<0){if(W--,W<x)return~o;break}if(W-o>Ws)throw new l("number text exceeds length");H=H*10+ge}if(this._subsequentWidth>0&&le===0){var Ue=W-o;Y=Math.max(R,Ue-this._subsequentWidth),W=o,H=0}else break}if(g){if(H===0&&i.isStrict())return~(o-1);H!==0&&(H=-H)}else if(this._signStyle===ne.EXCEEDS_PAD&&i.isStrict()){var ot=W-o;if(N){if(ot<=this._minWidth)return~(o-1)}else if(ot>this._minWidth)return~o}return this._setValue(i,H,o,W)},a._getValue=function(i,e){return e},a._setValue=function(i,e,o,c){return i.setParsedField(this._field,e,o,c)},a.toString=function(){return this._minWidth===1&&this._maxWidth===Ws&&this._signStyle===ne.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===ne.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},p}(),Hn=function(p){b(a,p);function a(i,e,o,c,m){var g;if(g=p.call(this,i,e,o,ne.NOT_NEGATIVE)||this,e<1||e>10)throw new h("The width must be from 1 to 10 inclusive but was "+e);if(o<1||o>10)throw new h("The maxWidth must be from 1 to 10 inclusive but was "+o);if(o<e)throw new h("The maxWidth must be greater than the width");if(m===null){if(i.range().isValidValue(c)===!1)throw new h("The base value must be within the range of the field");if(c+fn[e]>_.MAX_SAFE_INTEGER)throw new r("Unable to add printer-parser as the range exceeds the capacity of an int")}return g._baseValue=c,g._baseDate=m,g}var s=a.prototype;return s._getValue=function(e,o){var c=Math.abs(o),m=this._baseValue;if(this._baseDate!==null){e.temporal();var g=se.INSTANCE;m=g.date(this._baseDate).get(this._field)}return o>=m&&o<m+fn[this._minWidth]?c%fn[this._minWidth]:c%fn[this._maxWidth]},s._setValue=function(e,o,c,m){var g=this._baseValue;if(this._baseDate!=null){var N=e.getEffectiveChronology();g=N.date(this._baseDate).get(this._field)}var R=m-c;if(R===this._minWidth&&o>=0){var x=fn[this._minWidth],Y=g%x,H=g-Y;g>0?o=H+o:o=H-o,o<g&&(o+=x)}return e.setParsedField(this._field,o,c,m)},s.withFixedWidth=function(){return this._subsequentWidth===-1?this:new a(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},s.withSubsequentWidth=function(e){return new a(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+e)},s.isFixedWidth=function(e){return e.isStrict()===!1?!1:p.prototype.isFixedWidth.call(this,e)},s.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(this._baseDate!=null?this._baseDate:this._baseValue)+")"},a}(ln);var Br=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],dt=function(){function p(s,i){y(s,"noOffsetText"),y(i,"pattern"),this.noOffsetText=s,this.type=this._checkPattern(i)}var a=p.prototype;return a._checkPattern=function(i){for(var e=0;e<Br.length;e++)if(Br[e]===i)return e;throw new h("Invalid zone offset pattern: "+i)},a.print=function(i,e){var o=i.getValue(d.OFFSET_SECONDS);if(o==null)return!1;var c=_.safeToInt(o);if(c===0)e.append(this.noOffsetText);else{var m=Math.abs(_.intMod(_.intDiv(c,3600),100)),g=Math.abs(_.intMod(_.intDiv(c,60),60)),N=Math.abs(_.intMod(c,60)),R=e.length(),x=m;e.append(c<0?"-":"+").appendChar(_.intDiv(m,10)+"0").appendChar(_.intMod(m,10)+"0"),(this.type>=3||this.type>=1&&g>0)&&(e.append(this.type%2===0?":":"").appendChar(_.intDiv(g,10)+"0").appendChar(g%10+"0"),x+=g,(this.type>=7||this.type>=5&&N>0)&&(e.append(this.type%2===0?":":"").appendChar(_.intDiv(N,10)+"0").appendChar(N%10+"0"),x+=N)),x===0&&(e.setLength(R),e.append(this.noOffsetText))}return!0},a.parse=function(i,e,o){var c=e.length,m=this.noOffsetText.length;if(m===0){if(o===c)return i.setParsedField(d.OFFSET_SECONDS,0,o,o)}else{if(o===c)return~o;if(i.subSequenceEquals(e,o,this.noOffsetText,0,m))return i.setParsedField(d.OFFSET_SECONDS,0,o,o+m)}var g=e[o];if(g==="+"||g==="-"){var N=g==="-"?-1:1,R=[0,0,0,0];if(R[0]=o+1,(this._parseNumber(R,1,e,!0)||this._parseNumber(R,2,e,this.type>=3)||this._parseNumber(R,3,e,!1))===!1){var x=_.safeZero(N*(R[1]*3600+R[2]*60+R[3]));return i.setParsedField(d.OFFSET_SECONDS,x,o,R[0])}}return m===0?i.setParsedField(d.OFFSET_SECONDS,0,o,o+m):~o},a._parseNumber=function(i,e,o,c){if((this.type+3)/2<e)return!1;var m=i[0];if(this.type%2===0&&e>1){if(m+1>o.length||o[m]!==":")return c;m++}if(m+2>o.length)return c;var g=o[m++],N=o[m++];if(g<"0"||g>"9"||N<"0"||N>"9")return c;var R=(g.charCodeAt(0)-48)*10+(N.charCodeAt(0)-48);return R<0||R>59?c:(i[e]=R,i[0]=m,!1)},a.toString=function(){var i=this.noOffsetText.replace("'","''");return"Offset("+Br[this.type]+",'"+i+"')"},p}();dt.INSTANCE_ID=new dt("Z","+HH:MM:ss"),dt.PATTERNS=Br;var Gs=function(){function p(s,i,e){this._printerParser=s,this._padWidth=i,this._padChar=e}var a=p.prototype;return a.print=function(i,e){var o=e.length();if(this._printerParser.print(i,e)===!1)return!1;var c=e.length()-o;if(c>this._padWidth)throw new r("Cannot print as output of "+c+" characters exceeds pad width of "+this._padWidth);for(var m=0;m<this._padWidth-c;m++)e.insert(o,this._padChar);return!0},a.parse=function(i,e,o){var c=i.isStrict(),m=i.isCaseSensitive();if(F(!(o>e.length)),F(o>=0),o===e.length)return~o;var g=o+this._padWidth;if(g>e.length){if(c)return~o;g=e.length}for(var N=o;N<g&&(m?e[N]===this._padChar:i.charEquals(e[N],this._padChar));)N++;e=e.substring(0,g);var R=this._printerParser.parse(i,e,N);return R!==g&&c?~(o+N):R},a.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(this._padChar===" "?")":",'"+this._padChar+"')")},p}(),Ge=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.print=function(){return!0},s.parse=function(e,o,c){switch(this){case a.SENSITIVE:e.setCaseSensitive(!0);break;case a.INSENSITIVE:e.setCaseSensitive(!1);break;case a.STRICT:e.setStrict(!0);break;case a.LENIENT:e.setStrict(!1);break}return c},s.toString=function(){switch(this){case a.SENSITIVE:return"ParseCaseSensitive(true)";case a.INSENSITIVE:return"ParseCaseSensitive(false)";case a.STRICT:return"ParseStrict(true)";case a.LENIENT:return"ParseStrict(false)"}},a}(J);Ge.SENSITIVE=new Ge("SENSITIVE"),Ge.INSENSITIVE=new Ge("INSENSITIVE"),Ge.STRICT=new Ge("STRICT"),Ge.LENIENT=new Ge("LENIENT");var Ks=function(){function p(s){this._literal=s}var a=p.prototype;return a.print=function(i,e){return e.append(this._literal),!0},a.parse=function(i,e,o){var c=e.length;return F(!(o>c||o<0)),i.subSequenceEquals(e,o,this._literal,0,this._literal.length)===!1?~o:o+this._literal.length},a.toString=function(){var i=this._literal.replace("'","''");return"'"+i+"'"},p}();var Wn=function(){function p(){}return p.getRules=function(s){throw new r("unsupported ZoneId:"+s)},p.getAvailableZoneIds=function(){return[]},p}(),rt=function(p){b(a,p),a.ofId=function(e){var o=Wn.getRules(e);return new a(e,o)};function a(i,e){var o;return o=p.call(this)||this,o._id=i,o._rules=e,o}var s=a.prototype;return s.id=function(){return this._id},s.rules=function(){return this._rules},a}(oe);var hc=function(){function p(s,i){this.query=s,this.description=i}var a=p.prototype;return a.print=function(i,e){var o=i.getValueQuery(this.query);return o==null?!1:(e.append(o.id()),!0)},a.parse=function(i,e,o){var c=e.length;if(o>c||o===c)return~o;var m=e.charAt(o);if(m==="+"||m==="-"){var g=i.copy(),N=dt.INSTANCE_ID.parse(g,e,o);if(N<0)return N;var R=g.getParsed(d.OFFSET_SECONDS),x=Z.ofTotalSeconds(R);return i.setParsedZone(x),N}else if(c>=o+2){var Y=e.charAt(o+1);if(i.charEquals(m,"U")&&i.charEquals(Y,"T"))return c>=o+3&&i.charEquals(e.charAt(o+2),"C")?this._parsePrefixedOffset(i,e,o,o+3):this._parsePrefixedOffset(i,e,o,o+2);if(i.charEquals(m,"G")&&c>=o+3&&i.charEquals(Y,"M")&&i.charEquals(e.charAt(o+2),"T"))return this._parsePrefixedOffset(i,e,o,o+3)}if(e.substr(o,6)==="SYSTEM")return i.setParsedZone(oe.systemDefault()),o+6;if(i.charEquals(m,"Z"))return i.setParsedZone(Z.UTC),o+1;var H=Wn.getAvailableZoneIds();zs.size!==H.length&&(zs=dc.createTreeMap(H));for(var W=c-o,le=zs.treeMap,ye=null,ve=0;le!=null;){var ge=e.substr(o,Math.min(le.length,W));le=le.get(ge),le!=null&&le.isLeaf&&(ye=ge,ve=le.length)}return ye!=null?(i.setParsedZone(rt.ofId(ye)),o+ve):~o},a._parsePrefixedOffset=function(i,e,o,c){var m=e.substring(o,c).toUpperCase(),g=i.copy();if(c<e.length&&i.charEquals(e.charAt(c),"Z"))return i.setParsedZone(oe.ofOffset(m,Z.UTC)),c;var N=dt.INSTANCE_ID.parse(g,e,c);if(N<0)return i.setParsedZone(oe.ofOffset(m,Z.UTC)),c;var R=g.getParsed(d.OFFSET_SECONDS),x=Z.ofTotalSeconds(R);return i.setParsedZone(oe.ofOffset(m,x)),N},a.toString=function(){return this.description},p}(),dc=function(){p.createTreeMap=function(s){for(var i=s.sort(function(c,m){return c.length-m.length}),e=new Xy(i[0].length,!1),o=0;o<i.length;o++)e.add(i[o]);return new p(i.length,e)};function p(a,s){this.size=a,this.treeMap=s}return p}(),Xy=function(){function p(s,i){s===void 0&&(s=0),i===void 0&&(i=!1),this.length=s,this.isLeaf=i,this._treeMap={}}var a=p.prototype;return a.add=function(i){var e=i.length;if(e===this.length)this._treeMap[i]=new p(e,!0);else if(e>this.length){var o=i.substr(0,this.length),c=this._treeMap[o];c==null&&(c=new p(e,!1),this._treeMap[o]=c),c.add(i)}},a.get=function(i){return this._treeMap[i]},p}(),zs=new dc([]);var Nt=15,fe=function(){function p(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}p._of=function(i,e){y(i,"parent"),y(e,"optional");var o=new p;return o._parent=i,o._optional=e,o};var a=p.prototype;return a.parseCaseSensitive=function(){return this._appendInternalPrinterParser(Ge.SENSITIVE),this},a.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(Ge.INSENSITIVE),this},a.parseStrict=function(){return this._appendInternalPrinterParser(Ge.STRICT),this},a.parseLenient=function(){return this._appendInternalPrinterParser(Ge.LENIENT),this},a.appendValue=function(){return arguments.length===1?this._appendValue1.apply(this,arguments):arguments.length===2?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},a._appendValue1=function(i){return y(i),this._appendValuePrinterParser(new ln(i,1,Nt,ne.NORMAL)),this},a._appendValue2=function(i,e){if(y(i),e<1||e>Nt)throw new h("The width must be from 1 to "+Nt+" inclusive but was "+e);var o=new ln(i,e,e,ne.NOT_NEGATIVE);return this._appendValuePrinterParser(o),this},a._appendValue4=function(i,e,o,c){if(y(i),y(c),e===o&&c===ne.NOT_NEGATIVE)return this._appendValue2(i,o);if(e<1||e>Nt)throw new h("The minimum width must be from 1 to "+Nt+" inclusive but was "+e);if(o<1||o>Nt)throw new h("The minimum width must be from 1 to "+Nt+" inclusive but was "+o);if(o<e)throw new h("The maximum width must exceed or equal the minimum width but "+o+" < "+e);var m=new ln(i,e,o,c);return this._appendValuePrinterParser(m),this},a.appendValueReduced=function(){return arguments.length===4&&arguments[3]instanceof sn?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},a._appendValueReducedFieldWidthMaxWidthBaseValue=function(i,e,o,c){y(i,"field");var m=new Hn(i,e,o,c,null);return this._appendValuePrinterParser(m),this},a._appendValueReducedFieldWidthMaxWidthBaseDate=function(i,e,o,c){y(i,"field"),y(c,"baseDate"),U(c,sn,"baseDate");var m=new Hn(i,e,o,0,c);return this._appendValuePrinterParser(m),this},a._appendValuePrinterParser=function(i){if(F(i!=null),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof ln){var e=this._active._valueParserIndex,o=this._active._printerParsers[e];i.minWidth()===i.maxWidth()&&i.signStyle()===ne.NOT_NEGATIVE?(o=o.withSubsequentWidth(i.maxWidth()),this._appendInternal(i.withFixedWidth()),this._active._valueParserIndex=e):(o=o.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(i)),this._active._printerParsers[e]=o}else this._active._valueParserIndex=this._appendInternal(i);return this},a.appendFraction=function(i,e,o,c){return this._appendInternal(new cc(i,e,o,c)),this},a.appendInstant=function(i){if(i===void 0&&(i=-2),i<-2||i>9)throw new h("Invalid fractional digits: "+i);return this._appendInternal(new Jy(i)),this},a.appendOffsetId=function(){return this._appendInternal(dt.INSTANCE_ID),this},a.appendOffset=function(i,e){return this._appendInternalPrinterParser(new dt(e,i)),this},a.appendZoneId=function(){return this._appendInternal(new hc(P.zoneId(),"ZoneId()")),this},a.appendPattern=function(i){return y(i,"pattern"),this._parsePattern(i),this},a.appendZoneText=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},a.appendText=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},a.appendLocalizedOffset=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},a.appendWeekField=function(){throw new h("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},a._parsePattern=function(i){for(var e={G:d.ERA,y:d.YEAR_OF_ERA,u:d.YEAR,Q:ze.QUARTER_OF_YEAR,q:ze.QUARTER_OF_YEAR,M:d.MONTH_OF_YEAR,L:d.MONTH_OF_YEAR,D:d.DAY_OF_YEAR,d:d.DAY_OF_MONTH,F:d.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:d.DAY_OF_WEEK,c:d.DAY_OF_WEEK,e:d.DAY_OF_WEEK,a:d.AMPM_OF_DAY,H:d.HOUR_OF_DAY,k:d.CLOCK_HOUR_OF_DAY,K:d.HOUR_OF_AMPM,h:d.CLOCK_HOUR_OF_AMPM,m:d.MINUTE_OF_HOUR,s:d.SECOND_OF_MINUTE,S:d.NANO_OF_SECOND,A:d.MILLI_OF_DAY,n:d.NANO_OF_SECOND,N:d.NANO_OF_DAY},o=0;o<i.length;o++){var c=i.charAt(o);if(c>="A"&&c<="Z"||c>="a"&&c<="z"){for(var m=o++;o<i.length&&i.charAt(o)===c;o++);var g=o-m;if(c==="p"){var N=0;if(o<i.length&&(c=i.charAt(o),c>="A"&&c<="Z"||c>="a"&&c<="z")){for(N=g,m=o++;o<i.length&&i.charAt(o)===c;o++);g=o-m}if(N===0)throw new h("Pad letter 'p' must be followed by valid pad pattern: "+i);this.padNext(N)}var R=e[c];if(R!=null)this._parseField(c,g,R);else if(c==="z"){if(g>4)throw new h("Too many pattern letters: "+c);g===4?this.appendZoneText(ie.FULL):this.appendZoneText(ie.SHORT)}else if(c==="V"){if(g!==2)throw new h("Pattern letter count must be 2: "+c);this.appendZoneId()}else if(c==="Z")if(g<4)this.appendOffset("+HHMM","+0000");else if(g===4)this.appendLocalizedOffset(ie.FULL);else if(g===5)this.appendOffset("+HH:MM:ss","Z");else throw new h("Too many pattern letters: "+c);else if(c==="O")if(g===1)this.appendLocalizedOffset(ie.SHORT);else if(g===4)this.appendLocalizedOffset(ie.FULL);else throw new h("Pattern letter count must be 1 or 4: "+c);else if(c==="X"){if(g>5)throw new h("Too many pattern letters: "+c);this.appendOffset(dt.PATTERNS[g+(g===1?0:1)],"Z")}else if(c==="x"){if(g>5)throw new h("Too many pattern letters: "+c);var x=g===1?"+00":g%2===0?"+0000":"+00:00";this.appendOffset(dt.PATTERNS[g+(g===1?0:1)],x)}else if(c==="W"){if(g>1)throw new h("Too many pattern letters: "+c);this.appendWeekField("W",g)}else if(c==="w"){if(g>2)throw new h("Too many pattern letters: "+c);this.appendWeekField("w",g)}else if(c==="Y")this.appendWeekField("Y",g);else throw new h("Unknown pattern letter: "+c);o--}else if(c==="'"){for(var Y=o++;o<i.length;o++)if(i.charAt(o)==="'")if(o+1<i.length&&i.charAt(o+1)==="'")o++;else break;if(o>=i.length)throw new h("Pattern ends with an incomplete string literal: "+i);var H=i.substring(Y+1,o);H.length===0?this.appendLiteral("'"):this.appendLiteral(H.replace("''","'"))}else if(c==="[")this.optionalStart();else if(c==="]"){if(this._active._parent===null)throw new h("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else{if(c==="{"||c==="}"||c==="#")throw new h("Pattern includes reserved character: '"+c+"'");this.appendLiteral(c)}}},a._parseField=function(i,e,o){switch(i){case"u":case"y":e===2?this.appendValueReduced(o,2,2,Hn.BASE_DATE):e<4?this.appendValue(o,e,Nt,ne.NORMAL):this.appendValue(o,e,Nt,ne.EXCEEDS_PAD);break;case"M":case"Q":switch(e){case 1:this.appendValue(o);break;case 2:this.appendValue(o,2);break;case 3:this.appendText(o,ie.SHORT);break;case 4:this.appendText(o,ie.FULL);break;case 5:this.appendText(o,ie.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"L":case"q":switch(e){case 1:this.appendValue(o);break;case 2:this.appendValue(o,2);break;case 3:this.appendText(o,ie.SHORT_STANDALONE);break;case 4:this.appendText(o,ie.FULL_STANDALONE);break;case 5:this.appendText(o,ie.NARROW_STANDALONE);break;default:throw new h("Too many pattern letters: "+i)}break;case"e":switch(e){case 1:case 2:this.appendWeekField("e",e);break;case 3:this.appendText(o,ie.SHORT);break;case 4:this.appendText(o,ie.FULL);break;case 5:this.appendText(o,ie.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"c":switch(e){case 1:this.appendWeekField("c",e);break;case 2:throw new h("Invalid number of pattern letters: "+i);case 3:this.appendText(o,ie.SHORT_STANDALONE);break;case 4:this.appendText(o,ie.FULL_STANDALONE);break;case 5:this.appendText(o,ie.NARROW_STANDALONE);break;default:throw new h("Too many pattern letters: "+i)}break;case"a":if(e===1)this.appendText(o,ie.SHORT);else throw new h("Too many pattern letters: "+i);break;case"E":case"G":switch(e){case 1:case 2:case 3:this.appendText(o,ie.SHORT);break;case 4:this.appendText(o,ie.FULL);break;case 5:this.appendText(o,ie.NARROW);break;default:throw new h("Too many pattern letters: "+i)}break;case"S":this.appendFraction(d.NANO_OF_SECOND,e,e,!1);break;case"F":if(e===1)this.appendValue(o);else throw new h("Too many pattern letters: "+i);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(e===1)this.appendValue(o);else if(e===2)this.appendValue(o,e);else throw new h("Too many pattern letters: "+i);break;case"D":if(e===1)this.appendValue(o);else if(e<=3)this.appendValue(o,e);else throw new h("Too many pattern letters: "+i);break;default:e===1?this.appendValue(o):this.appendValue(o,e);break}},a.padNext=function(){return arguments.length===1?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},a._padNext1=function(i){return this._padNext2(i," ")},a._padNext2=function(i,e){if(i<1)throw new h("The pad width must be at least one but was "+i);return this._active._padNextWidth=i,this._active._padNextChar=e,this._active._valueParserIndex=-1,this},a.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=p._of(this._active,!0),this},a.optionalEnd=function(){if(this._active._parent==null)throw new E("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var i=new Hs(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(i)}else this._active=this._active._parent;return this},a._appendInternal=function(i){return F(i!=null),this._active._padNextWidth>0&&(i!=null&&(i=new Gs(i,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(i),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},a.appendLiteral=function(i){return F(i!=null),i.length>0&&(i.length===1?this._appendInternalPrinterParser(new lc(i.charAt(0))):this._appendInternalPrinterParser(new Ks(i))),this},a._appendInternalPrinterParser=function(i){return F(i!=null),this._active._padNextWidth>0&&(i!=null&&(i=new Gs(i,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(i),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},a.append=function(i){return y(i,"formatter"),this._appendInternal(i._toPrinterParser(!1)),this},a.toFormatter=function(i){for(i===void 0&&(i=j.SMART);this._active._parent!=null;)this.optionalEnd();var e=new Hs(this._printerParsers,!1);return new X(e,null,Vn.STANDARD,i,null,null,null)},p}(),cn=146097*25*86400,Gn=(146097*5-(30*365+7))*86400,Jy=function(){function p(s){this.fractionalDigits=s}var a=p.prototype;return a.print=function(i,e){var o=i.getValue(d.INSTANT_SECONDS),c=0;if(i.temporal().isSupported(d.NANO_OF_SECOND)&&(c=i.temporal().getLong(d.NANO_OF_SECOND)),o==null)return!1;var m=o,g=d.NANO_OF_SECOND.checkValidIntValue(c);if(m>=-Gn){var N=m-cn+Gn,R=_.floorDiv(N,cn)+1,x=_.floorMod(N,cn),Y=ae.ofEpochSecond(x-Gn,0,Z.UTC);R>0&&e.append("+").append(R),e.append(Y.toString()),Y.second()===0&&e.append(":00")}else{var H=m+Gn,W=_.intDiv(H,cn),le=_.intMod(H,cn),ye=ae.ofEpochSecond(le-Gn,0,Z.UTC),ve=e.length();e.append(ye.toString()),ye.second()===0&&e.append(":00"),W<0&&(ye.year()===-1e4?e.replace(ve,ve+2,""+(W-1)):le===0?e.insert(ve,W):e.insert(ve+1,Math.abs(W)))}if(this.fractionalDigits===-2)g!==0&&(e.append("."),_.intMod(g,1e6)===0?e.append((""+(_.intDiv(g,1e6)+1e3)).substring(1)):_.intMod(g,1e3)===0?e.append((""+(_.intDiv(g,1e3)+1e6)).substring(1)):e.append((""+(g+1e9)).substring(1)));else if(this.fractionalDigits>0||this.fractionalDigits===-1&&g>0){e.append(".");for(var ge=1e8,Ue=0;this.fractionalDigits===-1&&g>0||Ue<this.fractionalDigits;Ue++){var ot=_.intDiv(g,ge);e.append(ot),g=g-ot*ge,ge=_.intDiv(ge,10)}}return e.append("Z"),!0},a.parse=function(i,e,o){var c=i.copy(),m=this.fractionalDigits<0?0:this.fractionalDigits,g=this.fractionalDigits<0?9:this.fractionalDigits,N=new fe().append(X.ISO_LOCAL_DATE).appendLiteral("T").appendValue(d.HOUR_OF_DAY,2).appendLiteral(":").appendValue(d.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(d.SECOND_OF_MINUTE,2).appendFraction(d.NANO_OF_SECOND,m,g,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1),R=N.parse(c,e,o);if(R<0)return R;var x=c.getParsed(d.YEAR),Y=c.getParsed(d.MONTH_OF_YEAR),H=c.getParsed(d.DAY_OF_MONTH),W=c.getParsed(d.HOUR_OF_DAY),le=c.getParsed(d.MINUTE_OF_HOUR),ye=c.getParsed(d.SECOND_OF_MINUTE),ve=c.getParsed(d.NANO_OF_SECOND),ge=ye??0,Ue=ve??0,ot=_.intMod(x,1e4),Vr=0;W===24&&le===0&&ge===0&&Ue===0?(W=0,Vr=1):W===23&&le===59&&ge===60&&(i.setParsedLeapSecond(),ge=59);var Zn;try{var Hr=ae.of(ot,Y,H,W,le,ge,0).plusDays(Vr);Zn=Hr.toEpochSecond(Z.UTC),Zn+=_.safeMultiply(_.intDiv(x,1e4),cn)}catch{return~o}var Vt=R;return Vt=i.setParsedField(d.INSTANT_SECONDS,Zn,o,Vt),i.setParsedField(d.NANO_OF_SECOND,Ue,o,Vt)},a.toString=function(){return"Instant()"},p}();function Qy(){Hn.BASE_DATE=k.of(2e3,1,1),fe.CompositePrinterParser=Hs,fe.PadPrinterParserDecorator=Gs,fe.SettingsParser=Ge,fe.CharLiteralPrinterParser=Ks,fe.StringLiteralPrinterParser=Ks,fe.CharLiteralPrinterParser=lc,fe.NumberPrinterParser=ln,fe.ReducedPrinterParser=Hn,fe.FractionPrinterParser=cc,fe.OffsetIdPrinterParser=dt,fe.ZoneIdPrinterParser=hc}var pc=function(){function p(){this._str=""}var a=p.prototype;return a.append=function(i){return this._str+=i,this},a.appendChar=function(i){return this._str+=i[0],this},a.insert=function(i,e){return this._str=this._str.slice(0,i)+e+this._str.slice(i),this},a.replace=function(i,e,o){return this._str=this._str.slice(0,i)+o+this._str.slice(e),this},a.length=function(){return this._str.length},a.setLength=function(i){return this._str=this._str.slice(0,i),this},a.toString=function(){return this._str},p}();var X=function(){p.parsedExcessDays=function(){return p.PARSED_EXCESS_DAYS},p.parsedLeapSecond=function(){return p.PARSED_LEAP_SECOND},p.ofPattern=function(i){return new fe().appendPattern(i).toFormatter()};function p(s,i,e,o,c,m,g){m===void 0&&(m=se.INSTANCE),F(s!=null),F(e!=null),F(o!=null),this._printerParser=s,this._locale=i,this._decimalStyle=e,this._resolverStyle=o,this._resolverFields=c,this._chrono=m,this._zone=g}var a=p.prototype;return a.locale=function(){return this._locale},a.decimalStyle=function(){return this._decimalStyle},a.chronology=function(){return this._chrono},a.withChronology=function(i){return this._chrono!=null&&this._chrono.equals(i)?this:new p(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,i,this._zone)},a.withLocale=function(){return this},a.withResolverStyle=function(i){return y(i,"resolverStyle"),i.equals(this._resolverStyle)?this:new p(this._printerParser,this._locale,this._decimalStyle,i,this._resolverFields,this._chrono,this._zone)},a.format=function(i){var e=new pc(32);return this._formatTo(i,e),e.toString()},a._formatTo=function(i,e){y(i,"temporal"),y(e,"appendable");var o=new uc(i,this);this._printerParser.print(o,e)},a.parse=function(i,e){return arguments.length===1?this.parse1(i):this.parse2(i,e)},a.parse1=function(i){y(i,"text");try{return this._parseToBuilder(i,null).resolve(this._resolverStyle,this._resolverFields)}catch(e){throw e instanceof u?e:this._createError(i,e)}},a.parse2=function(i,e){y(i,"text"),y(e,"type");try{var o=this._parseToBuilder(i,null).resolve(this._resolverStyle,this._resolverFields);return o.build(e)}catch(c){throw c instanceof u?c:this._createError(i,c)}},a._createError=function(i,e){var o="";return i.length>64?o=i.substring(0,64)+"...":o=i,new u("Text '"+o+"' could not be parsed: "+e.message,i,0,e)},a._parseToBuilder=function(i,e){var o=e??new qs(0),c=this._parseUnresolved0(i,o);if(c==null||o.getErrorIndex()>=0||e==null&&o.getIndex()<i.length){var m="";throw i.length>64?m=i.substr(0,64).toString()+"...":m=i,o.getErrorIndex()>=0?new u("Text '"+m+"' could not be parsed at index "+o.getErrorIndex(),i,o.getErrorIndex()):new u("Text '"+m+"' could not be parsed, unparsed text found at index "+o.getIndex(),i,o.getIndex())}return c.toBuilder()},a.parseUnresolved=function(i,e){return this._parseUnresolved0(i,e)},a._parseUnresolved0=function(i,e){F(i!=null,"text",v),F(e!=null,"position",v);var o=new sc(this),c=e.getIndex();return c=this._printerParser.parse(o,i,c),c<0?(e.setErrorIndex(~c),null):(e.setIndex(c),o.toParsed())},a._toPrinterParser=function(i){return this._printerParser.withOptional(i)},a.toString=function(){var i=this._printerParser.toString();return i.indexOf("[")===0?i:i.substring(1,i.length-1)},p}();function eT(){X.ISO_LOCAL_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-").appendValue(d.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(d.DAY_OF_MONTH,2).toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_LOCAL_TIME=new fe().appendValue(d.HOUR_OF_DAY,2).appendLiteral(":").appendValue(d.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(d.SECOND_OF_MINUTE,2).optionalStart().appendFraction(d.NANO_OF_SECOND,0,9,!0).toFormatter(j.STRICT),X.ISO_LOCAL_DATE_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE).appendLiteral("T").append(X.ISO_LOCAL_TIME).toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_INSTANT=new fe().parseCaseInsensitive().appendInstant().toFormatter(j.STRICT),X.ISO_OFFSET_DATE_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_ZONED_DATE_TIME=new fe().append(X.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(j.STRICT).withChronology(se.INSTANCE),X.BASIC_ISO_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendValue(d.MONTH_OF_YEAR,2).appendValue(d.DAY_OF_MONTH,2).toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_OFFSET_DATE=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE).appendOffsetId().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_OFFSET_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_TIME).appendOffsetId().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_ORDINAL_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-").appendValue(d.DAY_OF_YEAR).toFormatter(j.STRICT),X.ISO_WEEK_DATE=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-W").appendValue(d.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(d.DAY_OF_WEEK).toFormatter(j.STRICT),X.ISO_DATE=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.ISO_TIME=new fe().parseCaseInsensitive().append(X.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(j.STRICT),X.ISO_DATE_TIME=new fe().append(X.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(j.STRICT).withChronology(se.INSTANCE),X.PARSED_EXCESS_DAYS=Se("PARSED_EXCESS_DAYS",function(p){return p instanceof Ur?p.excessDays:lt.ZERO}),X.PARSED_LEAP_SECOND=Se("PARSED_LEAP_SECOND",function(p){return p instanceof Ur?p.leapSecond:!1})}var Kn=function(p){b(a,p),a.now=function(e){return arguments.length===0?a.now0():arguments.length===1&&e instanceof oe?a.nowZoneId(e):a.nowClock(e)},a.now0=function(){return this.nowClock(ce.systemDefaultZone())},a.nowZoneId=function(e){return y(e,"zone"),this.nowClock(ce.system(e))},a.nowClock=function(e){y(e,"clock");var o=k.now(e);return a.of(o.month(),o.dayOfMonth())},a.of=function(e,o){return arguments.length===2&&e instanceof G?a.ofMonthNumber(e,o):a.ofNumberNumber(e,o)},a.ofMonthNumber=function(e,o){if(y(e,"month"),d.DAY_OF_MONTH.checkValidValue(o),o>e.maxLength())throw new r("Illegal value for DayOfMonth field, value "+o+" is not valid for month "+e.toString());return new a(e.value(),o)},a.ofNumberNumber=function(e,o){return y(e,"month"),y(o,"dayOfMonth"),a.of(G.of(e),o)},a.from=function(e){if(y(e,"temporal"),U(e,Ot,"temporal"),e instanceof a)return e;try{return a.of(e.get(d.MONTH_OF_YEAR),e.get(d.DAY_OF_MONTH))}catch{throw new r("Unable to obtain MonthDay from TemporalAccessor: "+e+", type "+(e&&e.constructor!=null?e.constructor.name:""))}},a.parse=function(e,o){return arguments.length===1?a.parseString(e):a.parseStringFormatter(e,o)},a.parseString=function(e){return a.parseStringFormatter(e,_c)},a.parseStringFormatter=function(e,o){return y(e,"text"),y(o,"formatter"),U(o,X,"formatter"),o.parse(e,a.FROM)};function a(i,e){var o;return o=p.call(this)||this,o._month=_.safeToInt(i),o._day=_.safeToInt(e),o}var s=a.prototype;return s.monthValue=function(){return this._month},s.month=function(){return G.of(this._month)},s.dayOfMonth=function(){return this._day},s.isSupported=function(e){return e instanceof d?e===d.MONTH_OF_YEAR||e===d.DAY_OF_MONTH:e!=null&&e.isSupportedBy(this)},s.range=function(e){return e===d.MONTH_OF_YEAR?e.range():e===d.DAY_OF_MONTH?z.of(1,this.month().minLength(),this.month().maxLength()):p.prototype.range.call(this,e)},s.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(y(e,"field"),e instanceof d){switch(e){case d.DAY_OF_MONTH:return this._day;case d.MONTH_OF_YEAR:return this._month}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s.isValidYear=function(e){return!(this._day===29&&this._month===2&&Ze.isLeap(e)===!1)},s.withMonth=function(e){return this.with(G.of(e))},s.with=function(e){if(y(e,"month"),e.value()===this._month)return this;var o=Math.min(this._day,e.maxLength());return new a(e.value(),o)},s.withDayOfMonth=function(e){return e===this._day?this:a.of(this._month,e)},s.query=function(e){return y(e,"query"),U(e,rn,"query"),e===P.chronology()?se.INSTANCE:p.prototype.query.call(this,e)},s.adjustInto=function(e){return y(e,"temporal"),e=e.with(d.MONTH_OF_YEAR,this._month),e.with(d.DAY_OF_MONTH,Math.min(e.range(d.DAY_OF_MONTH).maximum(),this._day))},s.atYear=function(e){return k.of(e,this._month,this.isValidYear(e)?this._day:28)},s.compareTo=function(e){y(e,"other"),U(e,a,"other");var o=this._month-e.monthValue();return o===0&&(o=this._day-e.dayOfMonth()),o},s.isAfter=function(e){return y(e,"other"),U(e,a,"other"),this.compareTo(e)>0},s.isBefore=function(e){return y(e,"other"),U(e,a,"other"),this.compareTo(e)<0},s.equals=function(e){if(this===e)return!0;if(e instanceof a){var o=e;return this.monthValue()===o.monthValue()&&this.dayOfMonth()===o.dayOfMonth()}return!1},s.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),e.format(this)},a}(Ot),_c;function tT(){_c=new fe().appendLiteral("--").appendValue(d.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(d.DAY_OF_MONTH,2).toFormatter(),Kn.FROM=Se("MonthDay.FROM",function(p){return Kn.from(p)})}var hn=function(p){b(a,p),a.now=function(e){return arguments.length===0?a.now0():arguments.length===1&&e instanceof oe?a.nowZoneId(e):a.nowClock(e)},a.now0=function(){return a.nowClock(ce.systemDefaultZone())},a.nowZoneId=function(e){return a.nowClock(ce.system(e))},a.nowClock=function(e){var o=k.now(e);return a.of(o.year(),o.month())},a.of=function(e,o){return arguments.length===2&&o instanceof G?a.ofNumberMonth(e,o):a.ofNumberNumber(e,o)},a.ofNumberMonth=function(e,o){return y(o,"month"),U(o,G,"month"),a.ofNumberNumber(e,o.value())},a.ofNumberNumber=function(e,o){return y(e,"year"),y(o,"month"),d.YEAR.checkValidValue(e),d.MONTH_OF_YEAR.checkValidValue(o),new a(e,o)},a.from=function(e){if(y(e,"temporal"),e instanceof a)return e;try{return a.of(e.get(d.YEAR),e.get(d.MONTH_OF_YEAR))}catch{throw new r("Unable to obtain YearMonth from TemporalAccessor: "+e+", type "+(e&&e.constructor!=null?e.constructor.name:""))}},a.parse=function(e,o){return arguments.length===1?a.parseString(e):a.parseStringFormatter(e,o)},a.parseString=function(e){return a.parseStringFormatter(e,Zs)},a.parseStringFormatter=function(e,o){return y(o,"formatter"),o.parse(e,a.FROM)};function a(i,e){var o;return o=p.call(this)||this,o._year=_.safeToInt(i),o._month=_.safeToInt(e),o}var s=a.prototype;return s.isSupported=function(e){return arguments.length===1&&e instanceof We?this.isSupportedField(e):this.isSupportedUnit(e)},s.isSupportedField=function(e){return e instanceof d?e===d.YEAR||e===d.MONTH_OF_YEAR||e===d.PROLEPTIC_MONTH||e===d.YEAR_OF_ERA||e===d.ERA:e!=null&&e.isSupportedBy(this)},s.isSupportedUnit=function(e){return e instanceof T?e===T.MONTHS||e===T.YEARS||e===T.DECADES||e===T.CENTURIES||e===T.MILLENNIA||e===T.ERAS:e!=null&&e.isSupportedBy(this)},s.range=function(e){return e===d.YEAR_OF_ERA?this.year()<=0?z.of(1,Ze.MAX_VALUE+1):z.of(1,Ze.MAX_VALUE):p.prototype.range.call(this,e)},s.get=function(e){return y(e,"field"),U(e,We,"field"),this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(y(e,"field"),U(e,We,"field"),e instanceof d){switch(e){case d.MONTH_OF_YEAR:return this._month;case d.PROLEPTIC_MONTH:return this._getProlepticMonth();case d.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case d.YEAR:return this._year;case d.ERA:return this._year<1?0:1}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s._getProlepticMonth=function(){return _.safeAdd(_.safeMultiply(this._year,12),this._month-1)},s.year=function(){return this._year},s.monthValue=function(){return this._month},s.month=function(){return G.of(this._month)},s.isLeapYear=function(){return se.isLeapYear(this._year)},s.isValidDay=function(e){return e>=1&&e<=this.lengthOfMonth()},s.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},s.lengthOfYear=function(){return this.isLeapYear()?366:365},s.with=function(e,o){return arguments.length===1?this._withAdjuster(e):this._withField(e,o)},s._withField=function(e,o){if(y(e,"field"),U(e,We,"field"),e instanceof d){var c=e;switch(c.checkValidValue(o),c){case d.MONTH_OF_YEAR:return this.withMonth(o);case d.PROLEPTIC_MONTH:return this.plusMonths(o-this.getLong(d.PROLEPTIC_MONTH));case d.YEAR_OF_ERA:return this.withYear(this._year<1?1-o:o);case d.YEAR:return this.withYear(o);case d.ERA:return this.getLong(d.ERA)===o?this:this.withYear(1-this._year)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.withYear=function(e){return d.YEAR.checkValidValue(e),new a(e,this._month)},s.withMonth=function(e){return d.MONTH_OF_YEAR.checkValidValue(e),new a(this._year,e)},s._plusUnit=function(e,o){if(y(o,"unit"),U(o,$,"unit"),o instanceof T){switch(o){case T.MONTHS:return this.plusMonths(e);case T.YEARS:return this.plusYears(e);case T.DECADES:return this.plusYears(_.safeMultiply(e,10));case T.CENTURIES:return this.plusYears(_.safeMultiply(e,100));case T.MILLENNIA:return this.plusYears(_.safeMultiply(e,1e3));case T.ERAS:return this.with(d.ERA,_.safeAdd(this.getLong(d.ERA),e))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusYears=function(e){if(e===0)return this;var o=d.YEAR.checkValidIntValue(this._year+e);return this.withYear(o)},s.plusMonths=function(e){if(e===0)return this;var o=this._year*12+(this._month-1),c=o+e,m=d.YEAR.checkValidIntValue(_.floorDiv(c,12)),g=_.floorMod(c,12)+1;return new a(m,g)},s.minusYears=function(e){return e===_.MIN_SAFE_INTEGER?this.plusYears(_.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},s.minusMonths=function(e){return e===_.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-e)},s.query=function(e){return y(e,"query"),U(e,rn,"query"),e===P.chronology()?se.INSTANCE:e===P.precision()?T.MONTHS:e===P.localDate()||e===P.localTime()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.adjustInto=function(e){return y(e,"temporal"),U(e,xe,"temporal"),e.with(d.PROLEPTIC_MONTH,this._getProlepticMonth())},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit"),U(e,xe,"endExclusive"),U(o,$,"unit");var c=a.from(e);if(o instanceof T){var m=c._getProlepticMonth()-this._getProlepticMonth();switch(o){case T.MONTHS:return m;case T.YEARS:return _.intDiv(m,12);case T.DECADES:return _.intDiv(m,120);case T.CENTURIES:return _.intDiv(m,1200);case T.MILLENNIA:return _.intDiv(m,12e3);case T.ERAS:return c.getLong(d.ERA)-this.getLong(d.ERA)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.atDay=function(e){return y(e,"dayOfMonth"),k.of(this._year,this._month,e)},s.atEndOfMonth=function(){return k.of(this._year,this._month,this.lengthOfMonth())},s.compareTo=function(e){y(e,"other"),U(e,a,"other");var o=this._year-e.year();return o===0&&(o=this._month-e.monthValue()),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.equals=function(e){if(this===e)return!0;if(e instanceof a){var o=e;return this.year()===o.year()&&this.monthValue()===o.monthValue()}return!1},s.toString=function(){return Zs.format(this)},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},a}(xe),Zs;function nT(){Zs=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).appendLiteral("-").appendValue(d.MONTH_OF_YEAR,2).toFormatter(),hn.FROM=Se("YearMonth.FROM",function(p){return hn.from(p)})}var Ze=function(p){b(a,p);function a(i){var e;return e=p.call(this)||this,e._year=_.safeToInt(i),e}var s=a.prototype;return s.value=function(){return this._year},a.now=function(e){return e===void 0&&(e=void 0),e===void 0?a.now0():e instanceof oe?a.nowZoneId(e):a.nowClock(e)},a.now0=function(){return a.nowClock(ce.systemDefaultZone())},a.nowZoneId=function(e){return y(e,"zone"),U(e,oe,"zone"),a.nowClock(ce.system(e))},a.nowClock=function(e){y(e,"clock"),U(e,ce,"clock");var o=k.now(e);return a.of(o.year())},a.of=function(e){return y(e,"isoYear"),d.YEAR.checkValidValue(e),new a(e)},a.from=function(e){if(y(e,"temporal"),U(e,Ot,"temporal"),e instanceof a)return e;try{return a.of(e.get(d.YEAR))}catch{throw new r("Unable to obtain Year from TemporalAccessor: "+e+", type "+(e&&e.constructor!=null?e.constructor.name:""))}},a.parse=function(e,o){return arguments.length<=1?a.parseText(e):a.parseTextFormatter(e,o)},a.parseText=function(e){return y(e,"text"),a.parse(e,$s)},a.parseTextFormatter=function(e,o){return o===void 0&&(o=$s),y(e,"text"),y(o,"formatter"),U(o,X,"formatter"),o.parse(e,a.FROM)},a.isLeap=function(e){return _.intMod(e,4)===0&&(_.intMod(e,100)!==0||_.intMod(e,400)===0)},s.isSupported=function(e){return arguments.length===1&&e instanceof We?this.isSupportedField(e):this.isSupportedUnit(e)},s.isSupportedField=function(e){return e instanceof d?e===d.YEAR||e===d.YEAR_OF_ERA||e===d.ERA:e!=null&&e.isSupportedBy(this)},s.isSupportedUnit=function(e){return e instanceof T?e===T.YEARS||e===T.DECADES||e===T.CENTURIES||e===T.MILLENNIA||e===T.ERAS:e!=null&&e.isSupportedBy(this)},s.range=function(e){if(this.isSupported(e))return e.range();if(e instanceof d)throw new f("Unsupported field: "+e);return p.prototype.range.call(this,e)},s.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},s.getLong=function(e){if(y(e,"field"),e instanceof d){switch(e){case d.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case d.YEAR:return this._year;case d.ERA:return this._year<1?0:1}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s.isLeap=function(){return a.isLeap(this._year)},s._withField=function(e,o){if(y(e,"field"),U(e,We,"field"),e instanceof d){switch(e.checkValidValue(o),e){case d.YEAR_OF_ERA:return a.of(this._year<1?1-o:o);case d.YEAR:return a.of(o);case d.ERA:return this.getLong(d.ERA)===o?this:a.of(1-this._year)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s._plusUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),U(o,$,"unit"),o instanceof T){switch(o){case T.YEARS:return this.plusYears(e);case T.DECADES:return this.plusYears(_.safeMultiply(e,10));case T.CENTURIES:return this.plusYears(_.safeMultiply(e,100));case T.MILLENNIA:return this.plusYears(_.safeMultiply(e,1e3));case T.ERAS:return this.with(d.ERA,_.safeAdd(this.getLong(d.ERA),e))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusYears=function(e){return e===0?this:a.of(d.YEAR.checkValidIntValue(_.safeAdd(this._year,e)))},s.minusYears=function(e){return e===_.MIN_SAFE_INTEGER?this.plusYears(_.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},s.adjustInto=function(e){return y(e,"temporal"),e.with(d.YEAR,this._year)},s.isValidMonthDay=function(e){return e!=null&&e.isValidYear(this._year)},s.length=function(){return this.isLeap()?366:365},s.atDay=function(e){return k.ofYearDay(this._year,e)},s.atMonth=function(e){return arguments.length===1&&e instanceof G?this.atMonthMonth(e):this.atMonthNumber(e)},s.atMonthMonth=function(e){return y(e,"month"),U(e,G,"month"),hn.of(this._year,e)},s.atMonthNumber=function(e){return y(e,"month"),hn.of(this._year,e)},s.atMonthDay=function(e){return y(e,"monthDay"),U(e,Kn,"monthDay"),e.atYear(this._year)},s.query=function(e){return y(e,"query()"),U(e,rn,"query()"),e===P.chronology()?se.INSTANCE:e===P.precision()?T.YEARS:e===P.localDate()||e===P.localTime()||e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.compareTo=function(e){return y(e,"other"),U(e,a,"other"),this._year-e._year},s.isAfter=function(e){return y(e,"other"),U(e,a,"other"),this._year>e._year},s.isBefore=function(e){return y(e,"other"),U(e,a,"other"),this._year<e._year},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),e.format(this)},s.equals=function(e){return this===e?!0:e instanceof a?this.value()===e.value():!1},s.toString=function(){return""+this._year},s.toJSON=function(){return this.toString()},s.until=function(e,o){var c=a.from(e);if(o instanceof T){var m=c.value()-this.value();switch(o){case T.YEARS:return m;case T.DECADES:return _.intDiv(m,10);case T.CENTURIES:return _.intDiv(m,100);case T.MILLENNIA:return _.intDiv(m,1e3);case T.ERAS:return c.getLong(d.ERA)-this.getLong(d.ERA)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},a}(xe),$s;function rT(){Ze.MIN_VALUE=be.MIN_VALUE,Ze.MAX_VALUE=be.MAX_VALUE,$s=new fe().appendValue(d.YEAR,4,10,ne.EXCEEDS_PAD).toFormatter(),Ze.FROM=Se("Year.FROM",function(p){return Ze.from(p)})}var zn=function(){function p(){}var a=p.prototype;return a.adjustInto=function(i){w("adjustInto")},p}(),js=function(){function p(){}return p.firstDayOfMonth=function(){return Ne.FIRST_DAY_OF_MONTH},p.lastDayOfMonth=function(){return Ne.LAST_DAY_OF_MONTH},p.firstDayOfNextMonth=function(){return Ne.FIRST_DAY_OF_NEXT_MONTH},p.firstDayOfYear=function(){return Ne.FIRST_DAY_OF_YEAR},p.lastDayOfYear=function(){return Ne.LAST_DAY_OF_YEAR},p.firstDayOfNextYear=function(){return Ne.FIRST_DAY_OF_NEXT_YEAR},p.firstInMonth=function(s){return y(s,"dayOfWeek"),new Xs(1,s)},p.lastInMonth=function(s){return y(s,"dayOfWeek"),new Xs(-1,s)},p.dayOfWeekInMonth=function(s,i){return y(i,"dayOfWeek"),new Xs(s,i)},p.next=function(s){return new Yr(2,s)},p.nextOrSame=function(s){return new Yr(0,s)},p.previous=function(s){return new Yr(3,s)},p.previousOrSame=function(s){return new Yr(1,s)},p}(),Ne=function(p){b(a,p);function a(i){var e;return e=p.call(this)||this,e._ordinal=i,e}var s=a.prototype;return s.adjustInto=function(e){switch(this._ordinal){case 0:return e.with(d.DAY_OF_MONTH,1);case 1:return e.with(d.DAY_OF_MONTH,e.range(d.DAY_OF_MONTH).maximum());case 2:return e.with(d.DAY_OF_MONTH,1).plus(1,T.MONTHS);case 3:return e.with(d.DAY_OF_YEAR,1);case 4:return e.with(d.DAY_OF_YEAR,e.range(d.DAY_OF_YEAR).maximum());case 5:return e.with(d.DAY_OF_YEAR,1).plus(1,T.YEARS)}throw new E("Unreachable")},a}(zn);Ne.FIRST_DAY_OF_MONTH=new Ne(0),Ne.LAST_DAY_OF_MONTH=new Ne(1),Ne.FIRST_DAY_OF_NEXT_MONTH=new Ne(2),Ne.FIRST_DAY_OF_YEAR=new Ne(3),Ne.LAST_DAY_OF_YEAR=new Ne(4),Ne.FIRST_DAY_OF_NEXT_YEAR=new Ne(5);var Xs=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._ordinal=i,o._dowValue=e.value(),o}var s=a.prototype;return s.adjustInto=function(e){if(this._ordinal>=0){var o=e.with(d.DAY_OF_MONTH,1),c=o.get(d.DAY_OF_WEEK),m=_.intMod(this._dowValue-c+7,7);return m+=(this._ordinal-1)*7,o.plus(m,T.DAYS)}else{var g=e.with(d.DAY_OF_MONTH,e.range(d.DAY_OF_MONTH).maximum()),N=g.get(d.DAY_OF_WEEK),R=this._dowValue-N;return R=R===0?0:R>0?R-7:R,R-=(-this._ordinal-1)*7,g.plus(R,T.DAYS)}},a}(zn),Yr=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,y(e,"dayOfWeek"),o._relative=i,o._dowValue=e.value(),o}var s=a.prototype;return s.adjustInto=function(e){var o=e.get(d.DAY_OF_WEEK);if(this._relative<2&&o===this._dowValue)return e;if((this._relative&1)===0){var c=o-this._dowValue;return e.plus(c>=0?7-c:-c,T.DAYS)}else{var m=this._dowValue-o;return e.minus(m>=0?7-m:-m,T.DAYS)}},a}(zn),se=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}a.isLeapYear=function(e){return(e&3)===0&&(e%100!==0||e%400===0)};var s=a.prototype;return s._updateResolveMap=function(e,o,c){y(e,"fieldValues"),y(o,"field");var m=e.get(o);if(m!=null&&m!==c)throw new r("Invalid state, field: "+o+" "+m+" conflicts with "+o+" "+c);e.put(o,c)},s.resolveDate=function(e,o){if(e.containsKey(d.EPOCH_DAY))return k.ofEpochDay(e.remove(d.EPOCH_DAY));var c=e.remove(d.PROLEPTIC_MONTH);c!=null&&(o!==j.LENIENT&&d.PROLEPTIC_MONTH.checkValidValue(c),this._updateResolveMap(e,d.MONTH_OF_YEAR,_.floorMod(c,12)+1),this._updateResolveMap(e,d.YEAR,_.floorDiv(c,12)));var m=e.remove(d.YEAR_OF_ERA);if(m!=null){o!==j.LENIENT&&d.YEAR_OF_ERA.checkValidValue(m);var g=e.remove(d.ERA);if(g==null){var N=e.get(d.YEAR);o===j.STRICT?N!=null?this._updateResolveMap(e,d.YEAR,N>0?m:_.safeSubtract(1,m)):e.put(d.YEAR_OF_ERA,m):this._updateResolveMap(e,d.YEAR,N==null||N>0?m:_.safeSubtract(1,m))}else if(g===1)this._updateResolveMap(e,d.YEAR,m);else if(g===0)this._updateResolveMap(e,d.YEAR,_.safeSubtract(1,m));else throw new r("Invalid value for era: "+g)}else e.containsKey(d.ERA)&&d.ERA.checkValidValue(e.get(d.ERA));if(e.containsKey(d.YEAR)){if(e.containsKey(d.MONTH_OF_YEAR)&&e.containsKey(d.DAY_OF_MONTH)){var R=d.YEAR.checkValidIntValue(e.remove(d.YEAR)),x=e.remove(d.MONTH_OF_YEAR),Y=e.remove(d.DAY_OF_MONTH);if(o===j.LENIENT){var H=x-1,W=Y-1;return k.of(R,1,1).plusMonths(H).plusDays(W)}else return o===j.SMART&&(d.DAY_OF_MONTH.checkValidValue(Y),x===4||x===6||x===9||x===11?Y=Math.min(Y,30):x===2&&(Y=Math.min(Y,G.FEBRUARY.length(Ze.isLeap(R))))),k.of(R,x,Y)}if(e.containsKey(d.DAY_OF_YEAR)){var le=d.YEAR.checkValidIntValue(e.remove(d.YEAR));if(o===j.LENIENT){var ye=_.safeSubtract(e.remove(d.DAY_OF_YEAR),1);return k.ofYearDay(le,1).plusDays(ye)}var ve=d.DAY_OF_YEAR.checkValidIntValue(e.remove(d.DAY_OF_YEAR));return k.ofYearDay(le,ve)}if(e.containsKey(d.ALIGNED_WEEK_OF_YEAR)){if(e.containsKey(d.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var ge=d.YEAR.checkValidIntValue(e.remove(d.YEAR));if(o===j.LENIENT){var Ue=_.safeSubtract(e.remove(d.ALIGNED_WEEK_OF_YEAR),1),ot=_.safeSubtract(e.remove(d.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return k.of(ge,1,1).plusWeeks(Ue).plusDays(ot)}var Vr=d.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(d.ALIGNED_WEEK_OF_YEAR)),Zn=d.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(e.remove(d.ALIGNED_DAY_OF_WEEK_IN_YEAR)),Hr=k.of(ge,1,1).plusDays((Vr-1)*7+(Zn-1));if(o===j.STRICT&&Hr.get(d.YEAR)!==ge)throw new r("Strict mode rejected date parsed to a different year");return Hr}if(e.containsKey(d.DAY_OF_WEEK)){var Vt=d.YEAR.checkValidIntValue(e.remove(d.YEAR));if(o===j.LENIENT){var Oc=_.safeSubtract(e.remove(d.ALIGNED_WEEK_OF_YEAR),1),wT=_.safeSubtract(e.remove(d.DAY_OF_WEEK),1);return k.of(Vt,1,1).plusWeeks(Oc).plusDays(wT)}var ST=d.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(d.ALIGNED_WEEK_OF_YEAR)),OT=d.DAY_OF_WEEK.checkValidIntValue(e.remove(d.DAY_OF_WEEK)),Nc=k.of(Vt,1,1).plusWeeks(ST-1).with(js.nextOrSame(he.of(OT)));if(o===j.STRICT&&Nc.get(d.YEAR)!==Vt)throw new r("Strict mode rejected date parsed to a different month");return Nc}}}return null},s.date=function(e){return k.from(e)},a}(J);function iT(){se.INSTANCE=new se("IsoChronology")}var it=function(p){b(a,p),a.from=function(e){if(y(e,"temporal"),e instanceof a)return e;if(e instanceof je)return e.toOffsetTime();try{var o=D.from(e),c=Z.from(e);return new a(o,c)}catch{throw new r("Unable to obtain OffsetTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""))}},a.now=function(e){return arguments.length===0?a._now(ce.systemDefaultZone()):e instanceof ce?a._now(e):a._now(ce.system(e))},a._now=function(e){y(e,"clock");var o=e.instant();return a.ofInstant(o,e.zone().rules().offset(o))},a.of=function(){return arguments.length<=2?a.ofTimeAndOffset.apply(this,arguments):a.ofNumbers.apply(this,arguments)},a.ofNumbers=function(e,o,c,m,g){var N=D.of(e,o,c,m);return new a(N,g)},a.ofTimeAndOffset=function(e,o){return new a(e,o)},a.ofInstant=function(e,o){y(e,"instant"),U(e,de,"instant"),y(o,"zone"),U(o,oe,"zone");var c=o.rules(),m=c.offset(e),g=e.epochSecond()%D.SECONDS_PER_DAY;g=(g+m.totalSeconds())%D.SECONDS_PER_DAY,g<0&&(g+=D.SECONDS_PER_DAY);var N=D.ofSecondOfDay(g,e.nano());return new a(N,m)},a.parse=function(e,o){return o===void 0&&(o=X.ISO_OFFSET_TIME),y(o,"formatter"),o.parse(e,a.FROM)};function a(i,e){var o;return o=p.call(this)||this,y(i,"time"),U(i,D,"time"),y(e,"offset"),U(e,Z,"offset"),o._time=i,o._offset=e,o}var s=a.prototype;return s.adjustInto=function(e){return e.with(d.NANO_OF_DAY,this._time.toNanoOfDay()).with(d.OFFSET_SECONDS,this.offset().totalSeconds())},s.atDate=function(e){return je.of(e,this._time,this._offset)},s.format=function(e){return y(e,"formatter"),e.format(this,a.FROM)},s.get=function(e){return p.prototype.get.call(this,e)},s.getLong=function(e){return e instanceof d?e===d.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(e):e.getFrom(this)},s.hour=function(){return this._time.hour()},s.minute=function(){return this._time.minute()},s.second=function(){return this._time.second()},s.nano=function(){return this._time.nano()},s.offset=function(){return this._offset},s.isAfter=function(e){return y(e,"other"),this._toEpochNano()>e._toEpochNano()},s.isBefore=function(e){return y(e,"other"),this._toEpochNano()<e._toEpochNano()},s.isEqual=function(e){return y(e,"other"),this._toEpochNano()===e._toEpochNano()},s.isSupported=function(e){return e instanceof d?e.isTimeBased()||e===d.OFFSET_SECONDS:e instanceof T?e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.minusHours=function(e){return this._withLocalTimeOffset(this._time.minusHours(e),this._offset)},s.minusMinutes=function(e){return this._withLocalTimeOffset(this._time.minusMinutes(e),this._offset)},s.minusSeconds=function(e){return this._withLocalTimeOffset(this._time.minusSeconds(e),this._offset)},s.minusNanos=function(e){return this._withLocalTimeOffset(this._time.minusNanos(e),this._offset)},s._minusAmount=function(e){return y(e),e.subtractFrom(this)},s._minusUnit=function(e,o){return this.plus(-1*e,o)},s._plusAmount=function(e){return y(e),e.addTo(this)},s._plusUnit=function(e,o){return o instanceof T?this._withLocalTimeOffset(this._time.plus(e,o),this._offset):o.addTo(this,e)},s.plusHours=function(e){return this._withLocalTimeOffset(this._time.plusHours(e),this._offset)},s.plusMinutes=function(e){return this._withLocalTimeOffset(this._time.plusMinutes(e),this._offset)},s.plusSeconds=function(e){return this._withLocalTimeOffset(this._time.plusSeconds(e),this._offset)},s.plusNanos=function(e){return this._withLocalTimeOffset(this._time.plusNanos(e),this._offset)},s.query=function(e){return y(e,"query"),e===P.precision()?T.NANOS:e===P.offset()||e===P.zone()?this.offset():e===P.localTime()?this._time:e===P.chronology()||e===P.localDate()||e===P.zoneId()?null:p.prototype.query.call(this,e)},s.range=function(e){return e instanceof d?e===d.OFFSET_SECONDS?e.range():this._time.range(e):e.rangeRefinedBy(this)},s.toLocalTime=function(){return this._time},s.truncatedTo=function(e){return this._withLocalTimeOffset(this._time.truncatedTo(e),this._offset)},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=a.from(e);if(o instanceof T){var m=c._toEpochNano()-this._toEpochNano();switch(o){case T.NANOS:return m;case T.MICROS:return _.intDiv(m,1e3);case T.MILLIS:return _.intDiv(m,1e6);case T.SECONDS:return _.intDiv(m,D.NANOS_PER_SECOND);case T.MINUTES:return _.intDiv(m,D.NANOS_PER_MINUTE);case T.HOURS:return _.intDiv(m,D.NANOS_PER_HOUR);case T.HALF_DAYS:return _.intDiv(m,12*D.NANOS_PER_HOUR)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.withHour=function(e){return this._withLocalTimeOffset(this._time.withHour(e),this._offset)},s.withMinute=function(e){return this._withLocalTimeOffset(this._time.withMinute(e),this._offset)},s.withSecond=function(e){return this._withLocalTimeOffset(this._time.withSecond(e),this._offset)},s.withNano=function(e){return this._withLocalTimeOffset(this._time.withNano(e),this._offset)},s.withOffsetSameInstant=function(e){if(y(e,"offset"),e.equals(this._offset))return this;var o=e.totalSeconds()-this._offset.totalSeconds(),c=this._time.plusSeconds(o);return new a(c,e)},s.withOffsetSameLocal=function(e){return e!=null&&e.equals(this._offset)?this:new a(this._time,e)},s._toEpochNano=function(){var e=this._time.toNanoOfDay(),o=this._offset.totalSeconds()*D.NANOS_PER_SECOND;return e-o},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof D?this._withLocalTimeOffset(e,this._offset):e instanceof Z?this._withLocalTimeOffset(this._time,e):e instanceof a?e:e.adjustInto(this)},s._withField=function(e,o){return y(e,"field"),e instanceof d?e===d.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,Z.ofTotalSeconds(e.checkValidIntValue(o))):this._withLocalTimeOffset(this._time.with(e,o),this._offset):e.adjustInto(this,o)},s._withLocalTimeOffset=function(e,o){return this._time===e&&this._offset.equals(o)?this:new a(e,o)},s.compareTo=function(e){if(y(e,"other"),U(e,a,"other"),this._offset.equals(e._offset))return this._time.compareTo(e._time);var o=_.compareNumbers(this._toEpochNano(),e._toEpochNano());return o===0?this._time.compareTo(e._time):o},s.equals=function(e){return this===e?!0:e instanceof a?this._time.equals(e._time)&&this._offset.equals(e._offset):!1},s.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},s.toString=function(){return this._time.toString()+this._offset.toString()},s.toJSON=function(){return this.toString()},a}(xe);function oT(){it.MIN=it.ofNumbers(0,0,0,0,Z.MAX),it.MAX=it.ofNumbers(23,59,59,999999999,Z.MIN),it.FROM=Se("OffsetTime.FROM",function(p){return it.from(p)})}var Js=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.query=function(e){return e===P.zoneId()||e===P.zone()?this.zone():e===P.chronology()?this.toLocalDate().chronology():e===P.precision()?T.NANOS:e===P.offset()?this.offset():e===P.localDate()?k.ofEpochDay(this.toLocalDate().toEpochDay()):e===P.localTime()?this.toLocalTime():p.prototype.query.call(this,e)},s.format=function(e){return y(e,"formatter"),e.format(this)},s.toInstant=function(){return de.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},s.toEpochSecond=function(){var e=this.toLocalDate().toEpochDay(),o=e*86400+this.toLocalTime().toSecondOfDay();return o-=this.offset().totalSeconds(),o},s.compareTo=function(e){y(e,"other");var o=_.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return o===0&&(o=this.toLocalTime().nano()-e.toLocalTime().nano(),o===0&&(o=this.toLocalDateTime().compareTo(e.toLocalDateTime()),o===0&&(o=sT(this.zone().id(),e.zone().id())))),o},s.isAfter=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o>c||o===c&&this.toLocalTime().nano()>e.toLocalTime().nano()},s.isBefore=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o<c||o===c&&this.toLocalTime().nano()<e.toLocalTime().nano()},s.isEqual=function(e){return y(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},s.equals=function(e){return this===e?!0:e instanceof a?this.compareTo(e)===0:!1},a}(xe);function sT(p,a){return p<a?-1:p>a?1:0}var $e=function(p){b(a,p),a.now=function(e){var o;return e instanceof oe?o=ce.system(e):o=e??ce.systemDefaultZone(),a.ofInstant(o.instant(),o.zone())},a.of=function(){return arguments.length<=2?a.of2.apply(this,arguments):arguments.length===3&&arguments[0]instanceof k?a.of3.apply(this,arguments):a.of8.apply(this,arguments)},a.of3=function(e,o,c){return a.of2(ae.of(e,o),c)},a.of2=function(e,o){return a.ofLocal(e,o,null)},a.of8=function(e,o,c,m,g,N,R,x){var Y=ae.of(e,o,c,m,g,N,R);return a.ofLocal(Y,x,null)},a.ofLocal=function(e,o,c){if(y(e,"localDateTime"),y(o,"zone"),o instanceof Z)return new a(e,o,o);var m=null,g=o.rules(),N=g.validOffsets(e);if(N.length===1)m=N[0];else if(N.length===0){var R=g.transition(e);e=e.plusSeconds(R.duration().seconds()),m=R.offsetAfter()}else c!=null&&N.some(function(x){return x.equals(c)})?m=c:m=y(N[0],"offset");return new a(e,m,o)},a.ofInstant=function(){return arguments.length===2?a.ofInstant2.apply(this,arguments):a.ofInstant3.apply(this,arguments)},a.ofInstant2=function(e,o){return y(e,"instant"),y(o,"zone"),a._create(e.epochSecond(),e.nano(),o)},a.ofInstant3=function(e,o,c){return y(e,"localDateTime"),y(o,"offset"),y(c,"zone"),a._create(e.toEpochSecond(o),e.nano(),c)},a._create=function(e,o,c){var m=c.rules(),g=de.ofEpochSecond(e,o),N=m.offset(g),R=ae.ofEpochSecond(e,o,N);return new a(R,N,c)},a.ofStrict=function(e,o,c){y(e,"localDateTime"),y(o,"offset"),y(c,"zone");var m=c.rules();if(m.isValidOffset(e,o)===!1){var g=m.transition(e);throw g!=null&&g.isGap()?new r("LocalDateTime "+e+" does not exist in zone "+c+" due to a gap in the local time-line, typically caused by daylight savings"):new r('ZoneOffset "'+o+'" is not valid for LocalDateTime "'+e+'" in zone "'+c+'"')}return new a(e,o,c)},a.ofLenient=function(e,o,c){if(y(e,"localDateTime"),y(o,"offset"),y(c,"zone"),c instanceof Z&&o.equals(c)===!1)throw new h("ZoneId must match ZoneOffset");return new a(e,o,c)},a.from=function(e){if(y(e,"temporal"),e instanceof a)return e;var o=oe.from(e);if(e.isSupported(d.INSTANT_SECONDS)){var c=a._from(e,o);if(c!=null)return c}var m=ae.from(e);return a.of2(m,o)},a._from=function(e,o){try{return a.__from(e,o)}catch(c){if(!(c instanceof r))throw c}},a.__from=function(e,o){var c=e.getLong(d.INSTANT_SECONDS),m=e.get(d.NANO_OF_SECOND);return a._create(c,m,o)},a.parse=function(e,o){return o===void 0&&(o=X.ISO_ZONED_DATE_TIME),y(o,"formatter"),o.parse(e,a.FROM)};function a(i,e,o){var c;return y(i,"dateTime"),y(e,"offset"),y(o,"zone"),c=p.call(this)||this,c._dateTime=i,c._offset=e,c._zone=o,c}var s=a.prototype;return s._resolveLocal=function(e){return y(e,"newDateTime"),a.ofLocal(e,this._zone,this._offset)},s._resolveInstant=function(e){return a.ofInstant3(e,this._offset,this._zone)},s._resolveOffset=function(e){return e.equals(this._offset)===!1&&this._zone.rules().isValidOffset(this._dateTime,e)?new a(this._dateTime,e,this._zone):this},s.isSupported=function(e){return e instanceof d?!0:e instanceof T?e.isDateBased()||e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return e instanceof d?e===d.INSTANT_SECONDS||e===d.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:return this.toEpochSecond();case d.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(e)}return y(e,"field"),e.getFrom(this)},s.offset=function(){return this._offset},s.withEarlierOffsetAtOverlap=function(){var e=this._zone.rules().transition(this._dateTime);if(e!=null&&e.isOverlap()){var o=e.offsetBefore();if(o.equals(this._offset)===!1)return new a(this._dateTime,o,this._zone)}return this},s.withLaterOffsetAtOverlap=function(){var e=this._zone.rules().transition(this.toLocalDateTime());if(e!=null){var o=e.offsetAfter();if(o.equals(this._offset)===!1)return new a(this._dateTime,o,this._zone)}return this},s.zone=function(){return this._zone},s.withZoneSameLocal=function(e){return y(e,"zone"),this._zone.equals(e)?this:a.ofLocal(this._dateTime,e,this._offset)},s.withZoneSameInstant=function(e){return y(e,"zone"),this._zone.equals(e)?this:a._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),e)},s.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new a(this._dateTime,this._offset,this._offset)},s.year=function(){return this._dateTime.year()},s.monthValue=function(){return this._dateTime.monthValue()},s.month=function(){return this._dateTime.month()},s.dayOfMonth=function(){return this._dateTime.dayOfMonth()},s.dayOfYear=function(){return this._dateTime.dayOfYear()},s.dayOfWeek=function(){return this._dateTime.dayOfWeek()},s.hour=function(){return this._dateTime.hour()},s.minute=function(){return this._dateTime.minute()},s.second=function(){return this._dateTime.second()},s.nano=function(){return this._dateTime.nano()},s._withAdjuster=function(e){if(e instanceof k)return this._resolveLocal(ae.of(e,this._dateTime.toLocalTime()));if(e instanceof D)return this._resolveLocal(ae.of(this._dateTime.toLocalDate(),e));if(e instanceof ae)return this._resolveLocal(e);if(e instanceof de){var o=e;return a._create(o.epochSecond(),o.nano(),this._zone)}else if(e instanceof Z)return this._resolveOffset(e);return p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:return a._create(o,this.nano(),this._zone);case d.OFFSET_SECONDS:{var c=Z.ofTotalSeconds(e.checkValidIntValue(o));return this._resolveOffset(c)}}return this._resolveLocal(this._dateTime.with(e,o))}return e.adjustInto(this,o)},s.withYear=function(e){return this._resolveLocal(this._dateTime.withYear(e))},s.withMonth=function(e){return this._resolveLocal(this._dateTime.withMonth(e))},s.withDayOfMonth=function(e){return this._resolveLocal(this._dateTime.withDayOfMonth(e))},s.withDayOfYear=function(e){return this._resolveLocal(this._dateTime.withDayOfYear(e))},s.withHour=function(e){return this._resolveLocal(this._dateTime.withHour(e))},s.withMinute=function(e){return this._resolveLocal(this._dateTime.withMinute(e))},s.withSecond=function(e){return this._resolveLocal(this._dateTime.withSecond(e))},s.withNano=function(e){return this._resolveLocal(this._dateTime.withNano(e))},s.truncatedTo=function(e){return this._resolveLocal(this._dateTime.truncatedTo(e))},s._plusUnit=function(e,o){return o instanceof T?o.isDateBased()?this._resolveLocal(this._dateTime.plus(e,o)):this._resolveInstant(this._dateTime.plus(e,o)):(y(o,"unit"),o.addTo(this,e))},s.plusYears=function(e){return this._resolveLocal(this._dateTime.plusYears(e))},s.plusMonths=function(e){return this._resolveLocal(this._dateTime.plusMonths(e))},s.plusWeeks=function(e){return this._resolveLocal(this._dateTime.plusWeeks(e))},s.plusDays=function(e){return this._resolveLocal(this._dateTime.plusDays(e))},s.plusHours=function(e){return this._resolveInstant(this._dateTime.plusHours(e))},s.plusMinutes=function(e){return this._resolveInstant(this._dateTime.plusMinutes(e))},s.plusSeconds=function(e){return this._resolveInstant(this._dateTime.plusSeconds(e))},s.plusNanos=function(e){return this._resolveInstant(this._dateTime.plusNanos(e))},s._minusUnit=function(e,o){return this._plusUnit(-1*e,o)},s.minusYears=function(e){return this.plusYears(-1*e)},s.minusMonths=function(e){return this.plusMonths(-1*e)},s.minusWeeks=function(e){return this.plusWeeks(-1*e)},s.minusDays=function(e){return this.plusDays(-1*e)},s.minusHours=function(e){return this.plusHours(-1*e)},s.minusMinutes=function(e){return this.plusMinutes(-1*e)},s.minusSeconds=function(e){return this.plusSeconds(-1*e)},s.minusNanos=function(e){return this.plusNanos(-1*e)},s.query=function(e){return e===P.localDate()?this.toLocalDate():(y(e,"query"),p.prototype.query.call(this,e))},s.until=function(e,o){var c=a.from(e);if(o instanceof T){if(c=c.withZoneSameInstant(this._zone),o.isDateBased())return this._dateTime.until(c._dateTime,o);var m=this._offset.totalSeconds()-c._offset.totalSeconds(),g=c._dateTime.plusSeconds(m);return this._dateTime.until(g,o)}return o.between(this,c)},s.toLocalDateTime=function(){return this._dateTime},s.toLocalDate=function(){return this._dateTime.toLocalDate()},s.toLocalTime=function(){return this._dateTime.toLocalTime()},s.toOffsetDateTime=function(){return je.of(this._dateTime,this._offset)},s.equals=function(e){return this===e?!0:e instanceof a?this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)&&this._zone.equals(e._zone):!1},s.hashCode=function(){return _.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},s.toString=function(){var e=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(e+="["+this._zone.toString()+"]"),e},s.toJSON=function(){return this.toString()},s.format=function(e){return p.prototype.format.call(this,e)},a}(Js);function aT(){$e.FROM=Se("ZonedDateTime.FROM",function(p){return $e.from(p)})}var je=function(p){b(a,p),a.from=function(e){if(y(e,"temporal"),e instanceof a)return e;try{var o=Z.from(e);try{var c=ae.from(e);return a.of(c,o)}catch{var m=de.from(e);return a.ofInstant(m,o)}}catch{throw new r("Unable to obtain OffsetDateTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""))}},a.now=function(e){if(arguments.length===0)return a.now(ce.systemDefaultZone());if(y(e,"clockOrZone"),e instanceof oe)return a.now(ce.system(e));if(e instanceof ce){var o=e.instant();return a.ofInstant(o,e.zone().rules().offset(o))}else throw new h("clockOrZone must be an instance of ZoneId or Clock")},a.of=function(){return arguments.length<=2?a.ofDateTime.apply(this,arguments):arguments.length===3?a.ofDateAndTime.apply(this,arguments):a.ofNumbers.apply(this,arguments)},a.ofDateTime=function(e,o){return new a(e,o)},a.ofDateAndTime=function(e,o,c){var m=ae.of(e,o);return new a(m,c)},a.ofNumbers=function(e,o,c,m,g,N,R,x){m===void 0&&(m=0),g===void 0&&(g=0),N===void 0&&(N=0),R===void 0&&(R=0);var Y=ae.of(e,o,c,m,g,N,R);return new a(Y,x)},a.ofInstant=function(e,o){y(e,"instant"),y(o,"zone");var c=o.rules(),m=c.offset(e),g=ae.ofEpochSecond(e.epochSecond(),e.nano(),m);return new a(g,m)},a.parse=function(e,o){return o===void 0&&(o=X.ISO_OFFSET_DATE_TIME),y(o,"formatter"),o.parse(e,a.FROM)};function a(i,e){var o;return o=p.call(this)||this,y(i,"dateTime"),U(i,ae,"dateTime"),y(e,"offset"),U(e,Z,"offset"),o._dateTime=i,o._offset=e,o}var s=a.prototype;return s.adjustInto=function(e){return e.with(d.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(d.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(d.OFFSET_SECONDS,this.offset().totalSeconds())},s.until=function(e,o){var c=a.from(e);return o instanceof T?(c=c.withOffsetSameInstant(this._offset),this._dateTime.until(c._dateTime,o)):o.between(this,c)},s.atZoneSameInstant=function(e){return $e.ofInstant(this._dateTime,this._offset,e)},s.atZoneSimilarLocal=function(e){return $e.ofLocal(this._dateTime,e,this._offset)},s.query=function(e){return y(e,"query"),e===P.chronology()?se.INSTANCE:e===P.precision()?T.NANOS:e===P.offset()||e===P.zone()?this.offset():e===P.localDate()?this.toLocalDate():e===P.localTime()?this.toLocalTime():e===P.zoneId()?null:p.prototype.query.call(this,e)},s.get=function(e){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:throw new r("Field too large for an int: "+e);case d.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(e)}return p.prototype.get.call(this,e)},s.getLong=function(e){if(e instanceof d){switch(e){case d.INSTANT_SECONDS:return this.toEpochSecond();case d.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(e)}return e.getFrom(this)},s.offset=function(){return this._offset},s.year=function(){return this._dateTime.year()},s.monthValue=function(){return this._dateTime.monthValue()},s.month=function(){return this._dateTime.month()},s.dayOfMonth=function(){return this._dateTime.dayOfMonth()},s.dayOfYear=function(){return this._dateTime.dayOfYear()},s.dayOfWeek=function(){return this._dateTime.dayOfWeek()},s.hour=function(){return this._dateTime.hour()},s.minute=function(){return this._dateTime.minute()},s.second=function(){return this._dateTime.second()},s.nano=function(){return this._dateTime.nano()},s.toLocalDateTime=function(){return this._dateTime},s.toLocalDate=function(){return this._dateTime.toLocalDate()},s.toLocalTime=function(){return this._dateTime.toLocalTime()},s.toOffsetTime=function(){return it.of(this._dateTime.toLocalTime(),this._offset)},s.toZonedDateTime=function(){return $e.of(this._dateTime,this._offset)},s.toInstant=function(){return this._dateTime.toInstant(this._offset)},s.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},s.isSupported=function(e){return e instanceof d||e instanceof T?e.isDateBased()||e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return e instanceof d?e===d.INSTANT_SECONDS||e===d.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},s._withAdjuster=function(e){return y(e),e instanceof k||e instanceof D||e instanceof ae?this._withDateTimeOffset(this._dateTime.with(e),this._offset):e instanceof de?a.ofInstant(e,this._offset):e instanceof Z?this._withDateTimeOffset(this._dateTime,e):e instanceof a?e:e.adjustInto(this)},s._withField=function(e,o){if(y(e),e instanceof d){var c=e;switch(c){case d.INSTANT_SECONDS:return a.ofInstant(de.ofEpochSecond(o,this.nano()),this._offset);case d.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,Z.ofTotalSeconds(c.checkValidIntValue(o)))}return this._withDateTimeOffset(this._dateTime.with(e,o),this._offset)}return e.adjustInto(this,o)},s._withDateTimeOffset=function(e,o){return this._dateTime===e&&this._offset.equals(o)?this:new a(e,o)},s.withYear=function(e){return this._withDateTimeOffset(this._dateTime.withYear(e),this._offset)},s.withMonth=function(e){return this._withDateTimeOffset(this._dateTime.withMonth(e),this._offset)},s.withDayOfMonth=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(e),this._offset)},s.withDayOfYear=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfYear(e),this._offset)},s.withHour=function(e){return this._withDateTimeOffset(this._dateTime.withHour(e),this._offset)},s.withMinute=function(e){return this._withDateTimeOffset(this._dateTime.withMinute(e),this._offset)},s.withSecond=function(e){return this._withDateTimeOffset(this._dateTime.withSecond(e),this._offset)},s.withNano=function(e){return this._withDateTimeOffset(this._dateTime.withNano(e),this._offset)},s.withOffsetSameLocal=function(e){return y(e,"offset"),this._withDateTimeOffset(this._dateTime,e)},s.withOffsetSameInstant=function(e){if(y(e,"offset"),e.equals(this._offset))return this;var o=e.totalSeconds()-this._offset.totalSeconds(),c=this._dateTime.plusSeconds(o);return new a(c,e)},s.truncatedTo=function(e){return this._withDateTimeOffset(this._dateTime.truncatedTo(e),this._offset)},s._plusAmount=function(e){return y(e,"amount"),e.addTo(this)},s._plusUnit=function(e,o){return o instanceof T?this._withDateTimeOffset(this._dateTime.plus(e,o),this._offset):o.addTo(this,e)},s.plusYears=function(e){return this._withDateTimeOffset(this._dateTime.plusYears(e),this._offset)},s.plusMonths=function(e){return this._withDateTimeOffset(this._dateTime.plusMonths(e),this._offset)},s.plusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.plusWeeks(e),this._offset)},s.plusDays=function(e){return this._withDateTimeOffset(this._dateTime.plusDays(e),this._offset)},s.plusHours=function(e){return this._withDateTimeOffset(this._dateTime.plusHours(e),this._offset)},s.plusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.plusMinutes(e),this._offset)},s.plusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.plusSeconds(e),this._offset)},s.plusNanos=function(e){return this._withDateTimeOffset(this._dateTime.plusNanos(e),this._offset)},s._minusAmount=function(e){return y(e),e.subtractFrom(this)},s._minusUnit=function(e,o){return this.plus(-1*e,o)},s.minusYears=function(e){return this._withDateTimeOffset(this._dateTime.minusYears(e),this._offset)},s.minusMonths=function(e){return this._withDateTimeOffset(this._dateTime.minusMonths(e),this._offset)},s.minusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.minusWeeks(e),this._offset)},s.minusDays=function(e){return this._withDateTimeOffset(this._dateTime.minusDays(e),this._offset)},s.minusHours=function(e){return this._withDateTimeOffset(this._dateTime.minusHours(e),this._offset)},s.minusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.minusMinutes(e),this._offset)},s.minusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.minusSeconds(e),this._offset)},s.minusNanos=function(e){return this._withDateTimeOffset(this._dateTime.minusNanos(e),this._offset)},s.compareTo=function(e){if(y(e,"other"),U(e,a,"other"),this.offset().equals(e.offset()))return this.toLocalDateTime().compareTo(e.toLocalDateTime());var o=_.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return o===0&&(o=this.toLocalTime().nano()-e.toLocalTime().nano(),o===0&&(o=this.toLocalDateTime().compareTo(e.toLocalDateTime()))),o},s.isAfter=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o>c||o===c&&this.toLocalTime().nano()>e.toLocalTime().nano()},s.isBefore=function(e){y(e,"other");var o=this.toEpochSecond(),c=e.toEpochSecond();return o<c||o===c&&this.toLocalTime().nano()<e.toLocalTime().nano()},s.isEqual=function(e){return y(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},s.equals=function(e){return this===e?!0:e instanceof a?this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset):!1},s.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},s.toString=function(){return this._dateTime.toString()+this._offset.toString()},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},a}(xe);function uT(){je.MIN=ae.MIN.atOffset(Z.MAX),je.MAX=ae.MAX.atOffset(Z.MIN),je.FROM=Se("OffsetDateTime.FROM",function(p){return je.from(p)})}var qr=146097,mc=qr*5-(30*365+7),k=function(p){b(a,p),a.now=function(e){var o;return e==null?o=ce.systemDefaultZone():e instanceof oe?o=ce.system(e):o=e,a.ofInstant(o.instant(),o.zone())},a.ofInstant=function(e,o){o===void 0&&(o=oe.systemDefault()),y(e,"instant");var c=o.rules().offset(e),m=e.epochSecond()+c.totalSeconds(),g=_.floorDiv(m,D.SECONDS_PER_DAY);return a.ofEpochDay(g)},a.of=function(e,o,c){return new a(e,o,c)},a.ofYearDay=function(e,o){d.YEAR.checkValidValue(e);var c=se.isLeapYear(e);o===366&&c===!1&&F(!1,"Invalid date 'DayOfYear 366' as '"+e+"' is not a leap year",r);var m=G.of(Math.floor((o-1)/31+1)),g=m.firstDayOfYear(c)+m.length(c)-1;o>g&&(m=m.plus(1));var N=o-m.firstDayOfYear(c)+1;return new a(e,m.value(),N)},a.ofEpochDay=function(e){e===void 0&&(e=0);var o,c,m,g,N;N=e+mc,N-=60,o=0,N<0&&(c=_.intDiv(N+1,qr)-1,o=c*400,N+=-c*qr),g=_.intDiv(400*N+591,qr),m=N-(365*g+_.intDiv(g,4)-_.intDiv(g,100)+_.intDiv(g,400)),m<0&&(g--,m=N-(365*g+_.intDiv(g,4)-_.intDiv(g,100)+_.intDiv(g,400))),g+=o;var R=m,x=_.intDiv(R*5+2,153),Y=(x+2)%12+1,H=R-_.intDiv(x*306+5,10)+1;g+=_.intDiv(x,10);var W=g;return new a(W,Y,H)},a.from=function(e){y(e,"temporal");var o=e.query(P.localDate());if(o==null)throw new r("Unable to obtain LocalDate from TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""));return o},a.parse=function(e,o){return o===void 0&&(o=X.ISO_LOCAL_DATE),F(o!=null,"formatter",v),o.parse(e,a.FROM)},a._resolvePreviousValid=function(e,o,c){switch(o){case 2:c=Math.min(c,se.isLeapYear(e)?29:28);break;case 4:case 6:case 9:case 11:c=Math.min(c,30);break}return a.of(e,o,c)};function a(i,e,o){var c;return c=p.call(this)||this,y(i,"year"),y(e,"month"),y(o,"dayOfMonth"),e instanceof G&&(e=e.value()),c._year=_.safeToInt(i),c._month=_.safeToInt(e),c._day=_.safeToInt(o),a._validate(c._year,c._month,c._day),c}a._validate=function(e,o,c){var m;if(d.YEAR.checkValidValue(e),d.MONTH_OF_YEAR.checkValidValue(o),d.DAY_OF_MONTH.checkValidValue(c),c>28){switch(m=31,o){case 2:m=se.isLeapYear(e)?29:28;break;case 4:case 6:case 9:case 11:m=30}c>m&&(c===29?F(!1,"Invalid date 'February 29' as '"+e+"' is not a leap year",r):F(!1,"Invalid date '"+e+"' '"+o+"' '"+c+"'",r))}};var s=a.prototype;return s.isSupported=function(e){return p.prototype.isSupported.call(this,e)},s.range=function(e){if(e instanceof d){if(e.isDateBased()){switch(e){case d.DAY_OF_MONTH:return z.of(1,this.lengthOfMonth());case d.DAY_OF_YEAR:return z.of(1,this.lengthOfYear());case d.ALIGNED_WEEK_OF_MONTH:return z.of(1,this.month()===G.FEBRUARY&&this.isLeapYear()===!1?4:5);case d.YEAR_OF_ERA:return this._year<=0?z.of(1,Ze.MAX_VALUE+1):z.of(1,Ze.MAX_VALUE)}return e.range()}throw new f("Unsupported field: "+e)}return e.rangeRefinedBy(this)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){return F(e!=null,"",v),e instanceof d?this._get0(e):e.getFrom(this)},s._get0=function(e){switch(e){case d.DAY_OF_WEEK:return this.dayOfWeek().value();case d.ALIGNED_DAY_OF_WEEK_IN_MONTH:return _.intMod(this._day-1,7)+1;case d.ALIGNED_DAY_OF_WEEK_IN_YEAR:return _.intMod(this.dayOfYear()-1,7)+1;case d.DAY_OF_MONTH:return this._day;case d.DAY_OF_YEAR:return this.dayOfYear();case d.EPOCH_DAY:return this.toEpochDay();case d.ALIGNED_WEEK_OF_MONTH:return _.intDiv(this._day-1,7)+1;case d.ALIGNED_WEEK_OF_YEAR:return _.intDiv(this.dayOfYear()-1,7)+1;case d.MONTH_OF_YEAR:return this._month;case d.PROLEPTIC_MONTH:return this._prolepticMonth();case d.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case d.YEAR:return this._year;case d.ERA:return this._year>=1?1:0}throw new f("Unsupported field: "+e)},s._prolepticMonth=function(){return this._year*12+(this._month-1)},s.chronology=function(){return se.INSTANCE},s.year=function(){return this._year},s.monthValue=function(){return this._month},s.month=function(){return G.of(this._month)},s.dayOfMonth=function(){return this._day},s.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},s.dayOfWeek=function(){var e=_.floorMod(this.toEpochDay()+3,7);return he.of(e+1)},s.isLeapYear=function(){return se.isLeapYear(this._year)},s.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},s.lengthOfYear=function(){return this.isLeapYear()?366:365},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof a?e:p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){if(F(e!=null,"field",v),e instanceof d){var c=e;switch(c.checkValidValue(o),c){case d.DAY_OF_WEEK:return this.plusDays(o-this.dayOfWeek().value());case d.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(o-this.getLong(d.ALIGNED_DAY_OF_WEEK_IN_MONTH));case d.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(o-this.getLong(d.ALIGNED_DAY_OF_WEEK_IN_YEAR));case d.DAY_OF_MONTH:return this.withDayOfMonth(o);case d.DAY_OF_YEAR:return this.withDayOfYear(o);case d.EPOCH_DAY:return a.ofEpochDay(o);case d.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(o-this.getLong(d.ALIGNED_WEEK_OF_MONTH));case d.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(o-this.getLong(d.ALIGNED_WEEK_OF_YEAR));case d.MONTH_OF_YEAR:return this.withMonth(o);case d.PROLEPTIC_MONTH:return this.plusMonths(o-this.getLong(d.PROLEPTIC_MONTH));case d.YEAR_OF_ERA:return this.withYear(this._year>=1?o:1-o);case d.YEAR:return this.withYear(o);case d.ERA:return this.getLong(d.ERA)===o?this:this.withYear(1-this._year)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.withYear=function(e){return this._year===e?this:(d.YEAR.checkValidValue(e),a._resolvePreviousValid(e,this._month,this._day))},s.withMonth=function(e){var o=e instanceof G?e.value():e;return this._month===o?this:(d.MONTH_OF_YEAR.checkValidValue(o),a._resolvePreviousValid(this._year,o,this._day))},s.withDayOfMonth=function(e){return this._day===e?this:a.of(this._year,this._month,e)},s.withDayOfYear=function(e){return this.dayOfYear()===e?this:a.ofYearDay(this._year,e)},s._plusUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),o instanceof T){switch(o){case T.DAYS:return this.plusDays(e);case T.WEEKS:return this.plusWeeks(e);case T.MONTHS:return this.plusMonths(e);case T.YEARS:return this.plusYears(e);case T.DECADES:return this.plusYears(_.safeMultiply(e,10));case T.CENTURIES:return this.plusYears(_.safeMultiply(e,100));case T.MILLENNIA:return this.plusYears(_.safeMultiply(e,1e3));case T.ERAS:return this.with(d.ERA,_.safeAdd(this.getLong(d.ERA),e))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusYears=function(e){if(e===0)return this;var o=d.YEAR.checkValidIntValue(this._year+e);return a._resolvePreviousValid(o,this._month,this._day)},s.plusMonths=function(e){if(e===0)return this;var o=this._year*12+(this._month-1),c=o+e,m=d.YEAR.checkValidIntValue(_.floorDiv(c,12)),g=_.floorMod(c,12)+1;return a._resolvePreviousValid(m,g,this._day)},s.plusWeeks=function(e){return this.plusDays(_.safeMultiply(e,7))},s.plusDays=function(e){if(e===0)return this;var o=_.safeAdd(this.toEpochDay(),e);return a.ofEpochDay(o)},s._minusUnit=function(e,o){return y(e,"amountToSubtract"),y(o,"unit"),this._plusUnit(-1*e,o)},s.minusYears=function(e){return this.plusYears(e*-1)},s.minusMonths=function(e){return this.plusMonths(e*-1)},s.minusWeeks=function(e){return this.plusWeeks(e*-1)},s.minusDays=function(e){return this.plusDays(e*-1)},s.query=function(e){return y(e,"query"),e===P.localDate()?this:p.prototype.query.call(this,e)},s.adjustInto=function(e){return p.prototype.adjustInto.call(this,e)},s.until=function(e,o){return arguments.length<2?this.until1(e):this.until2(e,o)},s.until2=function(e,o){var c=a.from(e);if(o instanceof T){switch(o){case T.DAYS:return this.daysUntil(c);case T.WEEKS:return _.intDiv(this.daysUntil(c),7);case T.MONTHS:return this._monthsUntil(c);case T.YEARS:return _.intDiv(this._monthsUntil(c),12);case T.DECADES:return _.intDiv(this._monthsUntil(c),120);case T.CENTURIES:return _.intDiv(this._monthsUntil(c),1200);case T.MILLENNIA:return _.intDiv(this._monthsUntil(c),12e3);case T.ERAS:return c.getLong(d.ERA)-this.getLong(d.ERA)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.daysUntil=function(e){return e.toEpochDay()-this.toEpochDay()},s._monthsUntil=function(e){var o=this._prolepticMonth()*32+this.dayOfMonth(),c=e._prolepticMonth()*32+e.dayOfMonth();return _.intDiv(c-o,32)},s.until1=function(e){var o=a.from(e),c=o._prolepticMonth()-this._prolepticMonth(),m=o._day-this._day;if(c>0&&m<0){c--;var g=this.plusMonths(c);m=o.toEpochDay()-g.toEpochDay()}else c<0&&m>0&&(c++,m-=o.lengthOfMonth());var N=_.intDiv(c,12),R=_.intMod(c,12);return lt.of(N,R,m)},s.atTime=function(){return arguments.length===1?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},s.atTime1=function(e){if(y(e,"time"),e instanceof D)return ae.of(this,e);if(e instanceof it)return this._atTimeOffsetTime(e);throw new h("time must be an instance of LocalTime or OffsetTime"+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""))},s.atTime4=function(e,o,c,m){return c===void 0&&(c=0),m===void 0&&(m=0),this.atTime1(D.of(e,o,c,m))},s._atTimeOffsetTime=function(e){return je.of(ae.of(this,e.toLocalTime()),e.offset())},s.atStartOfDay=function(e){return e!=null?this._atStartOfDayWithZone(e):ae.of(this,D.MIDNIGHT)},s._atStartOfDayWithZone=function(e){y(e,"zone");var o=this.atTime(D.MIDNIGHT);if(!(e instanceof Z)){var c=e.rules().transition(o);c!=null&&c.isGap()&&(o=c.dateTimeAfter())}return $e.of(o,e)},s.toEpochDay=function(){var e=this._year,o=this._month,c=0;return c+=365*e,e>=0?c+=_.intDiv(e+3,4)-_.intDiv(e+99,100)+_.intDiv(e+399,400):c-=_.intDiv(e,-4)-_.intDiv(e,-100)+_.intDiv(e,-400),c+=_.intDiv(367*o-362,12),c+=this.dayOfMonth()-1,o>2&&(c--,se.isLeapYear(e)||c--),c-mc},s.compareTo=function(e){return y(e,"other"),U(e,a,"other"),this._compareTo0(e)},s._compareTo0=function(e){var o=this._year-e._year;return o===0&&(o=this._month-e._month,o===0&&(o=this._day-e._day)),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.isEqual=function(e){return this.compareTo(e)===0},s.equals=function(e){return this===e?!0:e instanceof a?this._compareTo0(e)===0:!1},s.hashCode=function(){var e=this._year,o=this._month,c=this._day;return _.hash(e&4294965248^(e<<11)+(o<<6)+c)},s.toString=function(){var e,o,c,m=this._year,g=this._month,N=this._day,R=Math.abs(m);return R<1e3?m<0?c="-"+(""+(m-1e4)).slice(-4):c=(""+(m+1e4)).slice(-4):m>9999?c="+"+m:c=""+m,g<10?o="-0"+g:o="-"+g,N<10?e="-0"+N:e="-"+N,c+o+e},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),U(e,X,"formatter"),p.prototype.format.call(this,e)},a}(sn);function fT(){k.MIN=k.of(be.MIN_VALUE,1,1),k.MAX=k.of(be.MAX_VALUE,12,31),k.EPOCH_0=k.ofEpochDay(0),k.FROM=Se("LocalDate.FROM",function(p){return k.from(p)})}var Qs=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.chronology=function(){return this.toLocalDate().chronology()},s.query=function(e){return e===P.chronology()?this.chronology():e===P.precision()?T.NANOS:e===P.localDate()?k.ofEpochDay(this.toLocalDate().toEpochDay()):e===P.localTime()?this.toLocalTime():e===P.zone()||e===P.zoneId()||e===P.offset()?null:p.prototype.query.call(this,e)},s.adjustInto=function(e){return e.with(d.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(d.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},s.toInstant=function(e){return U(e,Z,"zoneId"),de.ofEpochSecond(this.toEpochSecond(e),this.toLocalTime().nano())},s.toEpochSecond=function(e){y(e,"offset");var o=this.toLocalDate().toEpochDay(),c=o*86400+this.toLocalTime().toSecondOfDay();return c-=e.totalSeconds(),_.safeToInt(c)},a}(xe),ae=function(p){b(a,p),a.now=function(e){return e==null?a._now(ce.systemDefaultZone()):e instanceof ce?a._now(e):a._now(ce.system(e))},a._now=function(e){return y(e,"clock"),a.ofInstant(e.instant(),e.zone())},a._ofEpochMillis=function(e,o){var c=_.floorDiv(e,1e3)+o.totalSeconds(),m=_.floorDiv(c,D.SECONDS_PER_DAY),g=_.floorMod(c,D.SECONDS_PER_DAY),N=_.floorMod(e,1e3)*1e6,R=k.ofEpochDay(m),x=D.ofSecondOfDay(g,N);return new a(R,x)},a.of=function(){return arguments.length<=2?a.ofDateAndTime.apply(this,arguments):a.ofNumbers.apply(this,arguments)},a.ofNumbers=function(e,o,c,m,g,N,R){m===void 0&&(m=0),g===void 0&&(g=0),N===void 0&&(N=0),R===void 0&&(R=0);var x=k.of(e,o,c),Y=D.of(m,g,N,R);return new a(x,Y)},a.ofDateAndTime=function(e,o){return y(e,"date"),y(o,"time"),new a(e,o)},a.ofInstant=function(e,o){o===void 0&&(o=oe.systemDefault()),y(e,"instant"),U(e,de,"instant"),y(o,"zone");var c=o.rules().offset(e);return a.ofEpochSecond(e.epochSecond(),e.nano(),c)},a.ofEpochSecond=function(e,o,c){e===void 0&&(e=0),o===void 0&&(o=0),arguments.length===2&&o instanceof Z&&(c=o,o=0),y(c,"offset");var m=e+c.totalSeconds(),g=_.floorDiv(m,D.SECONDS_PER_DAY),N=_.floorMod(m,D.SECONDS_PER_DAY),R=k.ofEpochDay(g),x=D.ofSecondOfDay(N,o);return new a(R,x)},a.from=function(e){if(y(e,"temporal"),e instanceof a)return e;if(e instanceof $e)return e.toLocalDateTime();try{var o=k.from(e),c=D.from(e);return new a(o,c)}catch{throw new r("Unable to obtain LocalDateTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""))}},a.parse=function(e,o){return o===void 0&&(o=X.ISO_LOCAL_DATE_TIME),y(o,"formatter"),o.parse(e,a.FROM)};function a(i,e){var o;return o=p.call(this)||this,U(i,k,"date"),U(e,D,"time"),o._date=i,o._time=e,o}var s=a.prototype;return s._withDateTime=function(e,o){return this._date.equals(e)&&this._time.equals(o)?this:new a(e,o)},s.isSupported=function(e){return e instanceof d||e instanceof T?e.isDateBased()||e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return e instanceof d?e.isTimeBased()?this._time.range(e):this._date.range(e):e.rangeRefinedBy(this)},s.get=function(e){return e instanceof d?e.isTimeBased()?this._time.get(e):this._date.get(e):p.prototype.get.call(this,e)},s.getLong=function(e){return y(e,"field"),e instanceof d?e.isTimeBased()?this._time.getLong(e):this._date.getLong(e):e.getFrom(this)},s.year=function(){return this._date.year()},s.monthValue=function(){return this._date.monthValue()},s.month=function(){return this._date.month()},s.dayOfMonth=function(){return this._date.dayOfMonth()},s.dayOfYear=function(){return this._date.dayOfYear()},s.dayOfWeek=function(){return this._date.dayOfWeek()},s.hour=function(){return this._time.hour()},s.minute=function(){return this._time.minute()},s.second=function(){return this._time.second()},s.nano=function(){return this._time.nano()},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof k?this._withDateTime(e,this._time):e instanceof D?this._withDateTime(this._date,e):e instanceof a?e:p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){return y(e,"field"),e instanceof d?e.isTimeBased()?this._withDateTime(this._date,this._time.with(e,o)):this._withDateTime(this._date.with(e,o),this._time):e.adjustInto(this,o)},s.withYear=function(e){return this._withDateTime(this._date.withYear(e),this._time)},s.withMonth=function(e){return this._withDateTime(this._date.withMonth(e),this._time)},s.withDayOfMonth=function(e){return this._withDateTime(this._date.withDayOfMonth(e),this._time)},s.withDayOfYear=function(e){return this._withDateTime(this._date.withDayOfYear(e),this._time)},s.withHour=function(e){var o=this._time.withHour(e);return this._withDateTime(this._date,o)},s.withMinute=function(e){var o=this._time.withMinute(e);return this._withDateTime(this._date,o)},s.withSecond=function(e){var o=this._time.withSecond(e);return this._withDateTime(this._date,o)},s.withNano=function(e){var o=this._time.withNano(e);return this._withDateTime(this._date,o)},s.truncatedTo=function(e){return this._withDateTime(this._date,this._time.truncatedTo(e))},s._plusUnit=function(e,o){if(y(o,"unit"),o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusDays(_.intDiv(e,D.MICROS_PER_DAY)).plusNanos(_.intMod(e,D.MICROS_PER_DAY)*1e3);case T.MILLIS:return this.plusDays(_.intDiv(e,D.MILLIS_PER_DAY)).plusNanos(_.intMod(e,D.MILLIS_PER_DAY)*1e6);case T.SECONDS:return this.plusSeconds(e);case T.MINUTES:return this.plusMinutes(e);case T.HOURS:return this.plusHours(e);case T.HALF_DAYS:return this.plusDays(_.intDiv(e,256)).plusHours(_.intMod(e,256)*12)}return this._withDateTime(this._date.plus(e,o),this._time)}return o.addTo(this,e)},s.plusYears=function(e){var o=this._date.plusYears(e);return this._withDateTime(o,this._time)},s.plusMonths=function(e){var o=this._date.plusMonths(e);return this._withDateTime(o,this._time)},s.plusWeeks=function(e){var o=this._date.plusWeeks(e);return this._withDateTime(o,this._time)},s.plusDays=function(e){var o=this._date.plusDays(e);return this._withDateTime(o,this._time)},s.plusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,1)},s.plusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,1)},s.plusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,1)},s.plusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,1)},s._minusUnit=function(e,o){return y(o,"unit"),this._plusUnit(-1*e,o)},s.minusYears=function(e){return this.plusYears(-1*e)},s.minusMonths=function(e){return this.plusMonths(-1*e)},s.minusWeeks=function(e){return this.plusWeeks(-1*e)},s.minusDays=function(e){return this.plusDays(-1*e)},s.minusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,-1)},s.minusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,-1)},s.minusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,-1)},s.minusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,-1)},s._plusWithOverflow=function(e,o,c,m,g,N){if(o===0&&c===0&&m===0&&g===0)return this._withDateTime(e,this._time);var R=_.intDiv(g,D.NANOS_PER_DAY)+_.intDiv(m,D.SECONDS_PER_DAY)+_.intDiv(c,D.MINUTES_PER_DAY)+_.intDiv(o,D.HOURS_PER_DAY);R*=N;var x=_.intMod(g,D.NANOS_PER_DAY)+_.intMod(m,D.SECONDS_PER_DAY)*D.NANOS_PER_SECOND+_.intMod(c,D.MINUTES_PER_DAY)*D.NANOS_PER_MINUTE+_.intMod(o,D.HOURS_PER_DAY)*D.NANOS_PER_HOUR,Y=this._time.toNanoOfDay();x=x*N+Y,R+=_.floorDiv(x,D.NANOS_PER_DAY);var H=_.floorMod(x,D.NANOS_PER_DAY),W=H===Y?this._time:D.ofNanoOfDay(H);return this._withDateTime(e.plusDays(R),W)},s.query=function(e){return y(e,"query"),e===P.localDate()?this.toLocalDate():p.prototype.query.call(this,e)},s.adjustInto=function(e){return p.prototype.adjustInto.call(this,e)},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=a.from(e);if(o instanceof T){if(o.isTimeBased()){var m=this._date.daysUntil(c._date),g=c._time.toNanoOfDay()-this._time.toNanoOfDay();m>0&&g<0?(m--,g+=D.NANOS_PER_DAY):m<0&&g>0&&(m++,g-=D.NANOS_PER_DAY);var N=m;switch(o){case T.NANOS:return N=_.safeMultiply(N,D.NANOS_PER_DAY),_.safeAdd(N,g);case T.MICROS:return N=_.safeMultiply(N,D.MICROS_PER_DAY),_.safeAdd(N,_.intDiv(g,1e3));case T.MILLIS:return N=_.safeMultiply(N,D.MILLIS_PER_DAY),_.safeAdd(N,_.intDiv(g,1e6));case T.SECONDS:return N=_.safeMultiply(N,D.SECONDS_PER_DAY),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_SECOND));case T.MINUTES:return N=_.safeMultiply(N,D.MINUTES_PER_DAY),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_MINUTE));case T.HOURS:return N=_.safeMultiply(N,D.HOURS_PER_DAY),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_HOUR));case T.HALF_DAYS:return N=_.safeMultiply(N,2),_.safeAdd(N,_.intDiv(g,D.NANOS_PER_HOUR*12))}throw new f("Unsupported unit: "+o)}var R=c._date,x=c._time;return R.isAfter(this._date)&&x.isBefore(this._time)?R=R.minusDays(1):R.isBefore(this._date)&&x.isAfter(this._time)&&(R=R.plusDays(1)),this._date.until(R,o)}return o.between(this,c)},s.atOffset=function(e){return je.of(this,e)},s.atZone=function(e){return $e.of(this,e)},s.toLocalDate=function(){return this._date},s.toLocalTime=function(){return this._time},s.compareTo=function(e){return y(e,"other"),U(e,a,"other"),this._compareTo0(e)},s._compareTo0=function(e){var o=this._date.compareTo(e.toLocalDate());return o===0&&(o=this._time.compareTo(e.toLocalTime())),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.isEqual=function(e){return this.compareTo(e)===0},s.equals=function(e){return this===e?!0:e instanceof a?this._date.equals(e._date)&&this._time.equals(e._time):!1},s.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},s.toString=function(){return this._date.toString()+"T"+this._time.toString()},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},a}(Qs);function lT(){ae.MIN=ae.of(k.MIN,D.MIN),ae.MAX=ae.of(k.MAX,D.MAX),ae.FROM=Se("LocalDateTime.FROM",function(p){return ae.from(p)})}var D=function(p){b(a,p),a.now=function(e){return e==null?a._now(ce.systemDefaultZone()):e instanceof ce?a._now(e):a._now(ce.system(e))},a._now=function(e){return e===void 0&&(e=ce.systemDefaultZone()),y(e,"clock"),a.ofInstant(e.instant(),e.zone())},a.ofInstant=function(e,o){o===void 0&&(o=oe.systemDefault());var c=o.rules().offset(e),m=_.intMod(e.epochSecond(),a.SECONDS_PER_DAY);return m=_.intMod(m+c.totalSeconds(),a.SECONDS_PER_DAY),m<0&&(m+=a.SECONDS_PER_DAY),a.ofSecondOfDay(m,e.nano())},a.of=function(e,o,c,m){return new a(e,o,c,m)},a.ofSecondOfDay=function(e,o){e===void 0&&(e=0),o===void 0&&(o=0),d.SECOND_OF_DAY.checkValidValue(e),d.NANO_OF_SECOND.checkValidValue(o);var c=_.intDiv(e,a.SECONDS_PER_HOUR);e-=c*a.SECONDS_PER_HOUR;var m=_.intDiv(e,a.SECONDS_PER_MINUTE);return e-=m*a.SECONDS_PER_MINUTE,new a(c,m,e,o)},a.ofNanoOfDay=function(e){e===void 0&&(e=0),d.NANO_OF_DAY.checkValidValue(e);var o=_.intDiv(e,a.NANOS_PER_HOUR);e-=o*a.NANOS_PER_HOUR;var c=_.intDiv(e,a.NANOS_PER_MINUTE);e-=c*a.NANOS_PER_MINUTE;var m=_.intDiv(e,a.NANOS_PER_SECOND);return e-=m*a.NANOS_PER_SECOND,new a(o,c,m,e)},a.from=function(e){y(e,"temporal");var o=e.query(P.localTime());if(o==null)throw new r("Unable to obtain LocalTime TemporalAccessor: "+e+", type "+(e.constructor!=null?e.constructor.name:""));return o},a.parse=function(e,o){return o===void 0&&(o=X.ISO_LOCAL_TIME),y(o,"formatter"),o.parse(e,a.FROM)};function a(i,e,o,c){var m;i===void 0&&(i=0),e===void 0&&(e=0),o===void 0&&(o=0),c===void 0&&(c=0),m=p.call(this)||this;var g=_.safeToInt(i),N=_.safeToInt(e),R=_.safeToInt(o),x=_.safeToInt(c);return a._validate(g,N,R,x),N===0&&R===0&&x===0?(a.HOURS[g]||(m._hour=g,m._minute=N,m._second=R,m._nano=x,a.HOURS[g]=q(m)),a.HOURS[g]||q(m)):(m._hour=g,m._minute=N,m._second=R,m._nano=x,m)}a._validate=function(e,o,c,m){d.HOUR_OF_DAY.checkValidValue(e),d.MINUTE_OF_HOUR.checkValidValue(o),d.SECOND_OF_MINUTE.checkValidValue(c),d.NANO_OF_SECOND.checkValidValue(m)};var s=a.prototype;return s.isSupported=function(e){return e instanceof d||e instanceof T?e.isTimeBased():e!=null&&e.isSupportedBy(this)},s.range=function(e){return y(e),p.prototype.range.call(this,e)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){return y(e,"field"),e instanceof d?this._get0(e):e.getFrom(this)},s._get0=function(e){switch(e){case d.NANO_OF_SECOND:return this._nano;case d.NANO_OF_DAY:return this.toNanoOfDay();case d.MICRO_OF_SECOND:return _.intDiv(this._nano,1e3);case d.MICRO_OF_DAY:return _.intDiv(this.toNanoOfDay(),1e3);case d.MILLI_OF_SECOND:return _.intDiv(this._nano,1e6);case d.MILLI_OF_DAY:return _.intDiv(this.toNanoOfDay(),1e6);case d.SECOND_OF_MINUTE:return this._second;case d.SECOND_OF_DAY:return this.toSecondOfDay();case d.MINUTE_OF_HOUR:return this._minute;case d.MINUTE_OF_DAY:return this._hour*60+this._minute;case d.HOUR_OF_AMPM:return _.intMod(this._hour,12);case d.CLOCK_HOUR_OF_AMPM:{var o=_.intMod(this._hour,12);return o%12===0?12:o}case d.HOUR_OF_DAY:return this._hour;case d.CLOCK_HOUR_OF_DAY:return this._hour===0?24:this._hour;case d.AMPM_OF_DAY:return _.intDiv(this._hour,12)}throw new f("Unsupported field: "+e)},s.hour=function(){return this._hour},s.minute=function(){return this._minute},s.second=function(){return this._second},s.nano=function(){return this._nano},s._withAdjuster=function(e){return y(e,"adjuster"),e instanceof a?e:p.prototype._withAdjuster.call(this,e)},s._withField=function(e,o){if(y(e,"field"),U(e,We,"field"),e instanceof d){switch(e.checkValidValue(o),e){case d.NANO_OF_SECOND:return this.withNano(o);case d.NANO_OF_DAY:return a.ofNanoOfDay(o);case d.MICRO_OF_SECOND:return this.withNano(o*1e3);case d.MICRO_OF_DAY:return a.ofNanoOfDay(o*1e3);case d.MILLI_OF_SECOND:return this.withNano(o*1e6);case d.MILLI_OF_DAY:return a.ofNanoOfDay(o*1e6);case d.SECOND_OF_MINUTE:return this.withSecond(o);case d.SECOND_OF_DAY:return this.plusSeconds(o-this.toSecondOfDay());case d.MINUTE_OF_HOUR:return this.withMinute(o);case d.MINUTE_OF_DAY:return this.plusMinutes(o-(this._hour*60+this._minute));case d.HOUR_OF_AMPM:return this.plusHours(o-_.intMod(this._hour,12));case d.CLOCK_HOUR_OF_AMPM:return this.plusHours((o===12?0:o)-_.intMod(this._hour,12));case d.HOUR_OF_DAY:return this.withHour(o);case d.CLOCK_HOUR_OF_DAY:return this.withHour(o===24?0:o);case d.AMPM_OF_DAY:return this.plusHours((o-_.intDiv(this._hour,12))*12)}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.withHour=function(e){return e===void 0&&(e=0),this._hour===e?this:new a(e,this._minute,this._second,this._nano)},s.withMinute=function(e){return e===void 0&&(e=0),this._minute===e?this:new a(this._hour,e,this._second,this._nano)},s.withSecond=function(e){return e===void 0&&(e=0),this._second===e?this:new a(this._hour,this._minute,e,this._nano)},s.withNano=function(e){return e===void 0&&(e=0),this._nano===e?this:new a(this._hour,this._minute,this._second,e)},s.truncatedTo=function(e){if(y(e,"unit"),e===T.NANOS)return this;var o=e.duration();if(o.seconds()>a.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var c=o.toNanos();if(_.intMod(a.NANOS_PER_DAY,c)!==0)throw new r("Unit must divide into a standard day without remainder");var m=this.toNanoOfDay();return a.ofNanoOfDay(_.intDiv(m,c)*c)},s._plusUnit=function(e,o){if(y(o,"unit"),o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusNanos(_.intMod(e,a.MICROS_PER_DAY)*1e3);case T.MILLIS:return this.plusNanos(_.intMod(e,a.MILLIS_PER_DAY)*1e6);case T.SECONDS:return this.plusSeconds(e);case T.MINUTES:return this.plusMinutes(e);case T.HOURS:return this.plusHours(e);case T.HALF_DAYS:return this.plusHours(_.intMod(e,2)*12)}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusHours=function(e){if(e===0)return this;var o=_.intMod(_.intMod(e,a.HOURS_PER_DAY)+this._hour+a.HOURS_PER_DAY,a.HOURS_PER_DAY);return new a(o,this._minute,this._second,this._nano)},s.plusMinutes=function(e){if(e===0)return this;var o=this._hour*a.MINUTES_PER_HOUR+this._minute,c=_.intMod(_.intMod(e,a.MINUTES_PER_DAY)+o+a.MINUTES_PER_DAY,a.MINUTES_PER_DAY);if(o===c)return this;var m=_.intDiv(c,a.MINUTES_PER_HOUR),g=_.intMod(c,a.MINUTES_PER_HOUR);return new a(m,g,this._second,this._nano)},s.plusSeconds=function(e){if(e===0)return this;var o=this._hour*a.SECONDS_PER_HOUR+this._minute*a.SECONDS_PER_MINUTE+this._second,c=_.intMod(_.intMod(e,a.SECONDS_PER_DAY)+o+a.SECONDS_PER_DAY,a.SECONDS_PER_DAY);if(o===c)return this;var m=_.intDiv(c,a.SECONDS_PER_HOUR),g=_.intMod(_.intDiv(c,a.SECONDS_PER_MINUTE),a.MINUTES_PER_HOUR),N=_.intMod(c,a.SECONDS_PER_MINUTE);return new a(m,g,N,this._nano)},s.plusNanos=function(e){if(e===0)return this;var o=this.toNanoOfDay(),c=_.intMod(_.intMod(e,a.NANOS_PER_DAY)+o+a.NANOS_PER_DAY,a.NANOS_PER_DAY);if(o===c)return this;var m=_.intDiv(c,a.NANOS_PER_HOUR),g=_.intMod(_.intDiv(c,a.NANOS_PER_MINUTE),a.MINUTES_PER_HOUR),N=_.intMod(_.intDiv(c,a.NANOS_PER_SECOND),a.SECONDS_PER_MINUTE),R=_.intMod(c,a.NANOS_PER_SECOND);return new a(m,g,N,R)},s._minusUnit=function(e,o){return y(o,"unit"),this._plusUnit(-1*e,o)},s.minusHours=function(e){return this.plusHours(-1*_.intMod(e,a.HOURS_PER_DAY))},s.minusMinutes=function(e){return this.plusMinutes(-1*_.intMod(e,a.MINUTES_PER_DAY))},s.minusSeconds=function(e){return this.plusSeconds(-1*_.intMod(e,a.SECONDS_PER_DAY))},s.minusNanos=function(e){return this.plusNanos(-1*_.intMod(e,a.NANOS_PER_DAY))},s.query=function(e){return y(e,"query"),e===P.precision()?T.NANOS:e===P.localTime()?this:e===P.chronology()||e===P.zoneId()||e===P.zone()||e===P.offset()||e===P.localDate()?null:e.queryFrom(this)},s.adjustInto=function(e){return e.with(a.NANO_OF_DAY,this.toNanoOfDay())},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=a.from(e);if(o instanceof T){var m=c.toNanoOfDay()-this.toNanoOfDay();switch(o){case T.NANOS:return m;case T.MICROS:return _.intDiv(m,1e3);case T.MILLIS:return _.intDiv(m,1e6);case T.SECONDS:return _.intDiv(m,a.NANOS_PER_SECOND);case T.MINUTES:return _.intDiv(m,a.NANOS_PER_MINUTE);case T.HOURS:return _.intDiv(m,a.NANOS_PER_HOUR);case T.HALF_DAYS:return _.intDiv(m,12*a.NANOS_PER_HOUR)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s.atDate=function(e){return ae.of(e,this)},s.atOffset=function(e){return it.of(this,e)},s.toSecondOfDay=function(){var e=this._hour*a.SECONDS_PER_HOUR;return e+=this._minute*a.SECONDS_PER_MINUTE,e+=this._second,e},s.toNanoOfDay=function(){var e=this._hour*a.NANOS_PER_HOUR;return e+=this._minute*a.NANOS_PER_MINUTE,e+=this._second*a.NANOS_PER_SECOND,e+=this._nano,e},s.compareTo=function(e){y(e,"other"),U(e,a,"other");var o=_.compareNumbers(this._hour,e._hour);return o===0&&(o=_.compareNumbers(this._minute,e._minute),o===0&&(o=_.compareNumbers(this._second,e._second),o===0&&(o=_.compareNumbers(this._nano,e._nano)))),o},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.equals=function(e){return this===e?!0:e instanceof a?this._hour===e._hour&&this._minute===e._minute&&this._second===e._second&&this._nano===e._nano:!1},s.hashCode=function(){var e=this.toNanoOfDay();return _.hash(e)},s.toString=function(){var e="",o=this._hour,c=this._minute,m=this._second,g=this._nano;return e+=o<10?"0":"",e+=o,e+=c<10?":0":":",e+=c,(m>0||g>0)&&(e+=m<10?":0":":",e+=m,g>0&&(e+=".",_.intMod(g,1e6)===0?e+=(""+(_.intDiv(g,1e6)+1e3)).substring(1):_.intMod(g,1e3)===0?e+=(""+(_.intDiv(g,1e3)+1e6)).substring(1):e+=(""+(g+1e9)).substring(1))),e},s.toJSON=function(){return this.toString()},s.format=function(e){return y(e,"formatter"),e.format(this)},a}(xe);function cT(){D.HOURS=[];for(var p=0;p<24;p++)D.of(p,0,0,0);D.MIN=D.HOURS[0],D.MAX=new D(23,59,59,999999999),D.MIDNIGHT=D.HOURS[0],D.NOON=D.HOURS[12],D.FROM=Se("LocalTime.FROM",function(a){return D.from(a)})}D.HOURS_PER_DAY=24,D.MINUTES_PER_HOUR=60,D.MINUTES_PER_DAY=D.MINUTES_PER_HOUR*D.HOURS_PER_DAY,D.SECONDS_PER_MINUTE=60,D.SECONDS_PER_HOUR=D.SECONDS_PER_MINUTE*D.MINUTES_PER_HOUR,D.SECONDS_PER_DAY=D.SECONDS_PER_HOUR*D.HOURS_PER_DAY,D.MILLIS_PER_DAY=D.SECONDS_PER_DAY*1e3,D.MICROS_PER_DAY=D.SECONDS_PER_DAY*1e6,D.NANOS_PER_SECOND=1e9,D.NANOS_PER_MINUTE=D.NANOS_PER_SECOND*D.SECONDS_PER_MINUTE,D.NANOS_PER_HOUR=D.NANOS_PER_MINUTE*D.MINUTES_PER_HOUR,D.NANOS_PER_DAY=D.NANOS_PER_HOUR*D.HOURS_PER_DAY;var kr=1e6,de=function(p){b(a,p),a.now=function(e){return e===void 0&&(e=ce.systemUTC()),e.instant()},a.ofEpochSecond=function(e,o){o===void 0&&(o=0);var c=e+_.floorDiv(o,D.NANOS_PER_SECOND),m=_.floorMod(o,D.NANOS_PER_SECOND);return a._create(c,m)},a.ofEpochMilli=function(e){var o=_.floorDiv(e,1e3),c=_.floorMod(e,1e3);return a._create(o,c*1e6)},a.ofEpochMicro=function(e){var o=_.floorDiv(e,1e6),c=_.floorMod(e,1e6);return a._create(o,c*1e3)},a.from=function(e){try{var o=e.getLong(d.INSTANT_SECONDS),c=e.get(d.NANO_OF_SECOND);return a.ofEpochSecond(o,c)}catch(m){throw new r("Unable to obtain Instant from TemporalAccessor: "+e+", type "+typeof e,m)}},a.parse=function(e){return X.ISO_INSTANT.parse(e,a.FROM)},a._create=function(e,o){return e===0&&o===0?a.EPOCH:new a(e,o)},a._validate=function(e,o){if(e<a.MIN_SECONDS||e>a.MAX_SECONDS)throw new r("Instant exceeds minimum or maximum instant");if(o<0||o>D.NANOS_PER_SECOND)throw new r("Instant exceeds minimum or maximum instant")};function a(i,e){var o;return o=p.call(this)||this,a._validate(i,e),o._seconds=_.safeToInt(i),o._nanos=_.safeToInt(e),o}var s=a.prototype;return s.isSupported=function(e){return e instanceof d?e===d.INSTANT_SECONDS||e===d.NANO_OF_SECOND||e===d.MICRO_OF_SECOND||e===d.MILLI_OF_SECOND:e instanceof T?e.isTimeBased()||e===T.DAYS:e!=null&&e.isSupportedBy(this)},s.range=function(e){return p.prototype.range.call(this,e)},s.get=function(e){return this.getLong(e)},s.getLong=function(e){if(e instanceof d){switch(e){case d.NANO_OF_SECOND:return this._nanos;case d.MICRO_OF_SECOND:return _.intDiv(this._nanos,1e3);case d.MILLI_OF_SECOND:return _.intDiv(this._nanos,kr);case d.INSTANT_SECONDS:return this._seconds}throw new f("Unsupported field: "+e)}return e.getFrom(this)},s.epochSecond=function(){return this._seconds},s.nano=function(){return this._nanos},s._withField=function(e,o){if(y(e,"field"),e instanceof d){switch(e.checkValidValue(o),e){case d.MILLI_OF_SECOND:{var c=o*kr;return c!==this._nanos?a._create(this._seconds,c):this}case d.MICRO_OF_SECOND:{var m=o*1e3;return m!==this._nanos?a._create(this._seconds,m):this}case d.NANO_OF_SECOND:return o!==this._nanos?a._create(this._seconds,o):this;case d.INSTANT_SECONDS:return o!==this._seconds?a._create(o,this._nanos):this}throw new f("Unsupported field: "+e)}return e.adjustInto(this,o)},s.truncatedTo=function(e){if(y(e,"unit"),e===T.NANOS)return this;var o=e.duration();if(o.seconds()>D.SECONDS_PER_DAY)throw new r("Unit is too large to be used for truncation");var c=o.toNanos();if(_.intMod(D.NANOS_PER_DAY,c)!==0)throw new r("Unit must divide into a standard day without remainder");var m=_.intMod(this._seconds,D.SECONDS_PER_DAY)*D.NANOS_PER_SECOND+this._nanos,g=_.intDiv(m,c)*c;return this.plusNanos(g-m)},s._plusUnit=function(e,o){if(y(e,"amountToAdd"),y(o,"unit"),U(o,$),o instanceof T){switch(o){case T.NANOS:return this.plusNanos(e);case T.MICROS:return this.plusMicros(e);case T.MILLIS:return this.plusMillis(e);case T.SECONDS:return this.plusSeconds(e);case T.MINUTES:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_MINUTE));case T.HOURS:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_HOUR));case T.HALF_DAYS:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_DAY/2));case T.DAYS:return this.plusSeconds(_.safeMultiply(e,D.SECONDS_PER_DAY))}throw new f("Unsupported unit: "+o)}return o.addTo(this,e)},s.plusSeconds=function(e){return this._plus(e,0)},s.plusMillis=function(e){return this._plus(_.intDiv(e,1e3),_.intMod(e,1e3)*kr)},s.plusNanos=function(e){return this._plus(0,e)},s.plusMicros=function(e){return this._plus(_.intDiv(e,1e6),_.intMod(e,1e6)*1e3)},s._plus=function(e,o){if(e===0&&o===0)return this;var c=this._seconds+e;c=c+_.intDiv(o,D.NANOS_PER_SECOND);var m=this._nanos+o%D.NANOS_PER_SECOND;return a.ofEpochSecond(c,m)},s._minusUnit=function(e,o){return this._plusUnit(-1*e,o)},s.minusSeconds=function(e){return this.plusSeconds(e*-1)},s.minusMillis=function(e){return this.plusMillis(-1*e)},s.minusNanos=function(e){return this.plusNanos(-1*e)},s.minusMicros=function(e){return this.plusMicros(-1*e)},s.query=function(e){return y(e,"query"),e===P.precision()?T.NANOS:e===P.localDate()||e===P.localTime()||e===P.chronology()||e===P.zoneId()||e===P.zone()||e===P.offset()?null:e.queryFrom(this)},s.adjustInto=function(e){return y(e,"temporal"),e.with(d.INSTANT_SECONDS,this._seconds).with(d.NANO_OF_SECOND,this._nanos)},s.until=function(e,o){y(e,"endExclusive"),y(o,"unit");var c=a.from(e);if(o instanceof T){switch(o){case T.NANOS:return this._nanosUntil(c);case T.MICROS:return this._microsUntil(c);case T.MILLIS:return _.safeSubtract(c.toEpochMilli(),this.toEpochMilli());case T.SECONDS:return this._secondsUntil(c);case T.MINUTES:return _.intDiv(this._secondsUntil(c),D.SECONDS_PER_MINUTE);case T.HOURS:return _.intDiv(this._secondsUntil(c),D.SECONDS_PER_HOUR);case T.HALF_DAYS:return _.intDiv(this._secondsUntil(c),12*D.SECONDS_PER_HOUR);case T.DAYS:return _.intDiv(this._secondsUntil(c),D.SECONDS_PER_DAY)}throw new f("Unsupported unit: "+o)}return o.between(this,c)},s._microsUntil=function(e){var o=_.safeSubtract(e.epochSecond(),this.epochSecond()),c=_.safeMultiply(o,1e6);return _.safeAdd(c,_.intDiv(e.nano()-this.nano(),1e3))},s._nanosUntil=function(e){var o=_.safeSubtract(e.epochSecond(),this.epochSecond()),c=_.safeMultiply(o,D.NANOS_PER_SECOND);return _.safeAdd(c,e.nano()-this.nano())},s._secondsUntil=function(e){var o=_.safeSubtract(e.epochSecond(),this.epochSecond()),c=e.nano()-this.nano();return o>0&&c<0?o--:o<0&&c>0&&o++,o},s.atOffset=function(e){return je.ofInstant(this,e)},s.atZone=function(e){return $e.ofInstant(this,e)},s.toEpochMilli=function(){var e=_.safeMultiply(this._seconds,1e3);return e+_.intDiv(this._nanos,kr)},s.compareTo=function(e){y(e,"otherInstant"),U(e,a,"otherInstant");var o=_.compareNumbers(this._seconds,e._seconds);return o!==0?o:this._nanos-e._nanos},s.isAfter=function(e){return this.compareTo(e)>0},s.isBefore=function(e){return this.compareTo(e)<0},s.equals=function(e){return this===e?!0:e instanceof a?this.epochSecond()===e.epochSecond()&&this.nano()===e.nano():!1},s.hashCode=function(){return _.hashCode(this._seconds,this._nanos)},s.toString=function(){return X.ISO_INSTANT.format(this)},s.toJSON=function(){return this.toString()},a}(xe);function hT(){de.MIN_SECONDS=-31619119219200,de.MAX_SECONDS=31494816403199,de.EPOCH=new de(0,0),de.MIN=de.ofEpochSecond(de.MIN_SECONDS,0),de.MAX=de.ofEpochSecond(de.MAX_SECONDS,999999999),de.FROM=Se("Instant.FROM",function(p){return de.from(p)})}var ce=function(){function p(){}p.systemUTC=function(){return new ea(Z.UTC)},p.systemDefaultZone=function(){return new ea(oe.systemDefault())},p.system=function(i){return new ea(i)},p.fixed=function(i,e){return new dT(i,e)},p.offset=function(i,e){return new pT(i,e)};var a=p.prototype;return a.millis=function(){w("Clock.millis")},a.instant=function(){w("Clock.instant")},a.zone=function(){w("Clock.zone")},a.withZone=function(){w("Clock.withZone")},p}(),ea=function(p){b(a,p);function a(i){var e;return y(i,"zone"),e=p.call(this)||this,e._zone=i,e}var s=a.prototype;return s.zone=function(){return this._zone},s.millis=function(){return new Date().getTime()},s.instant=function(){return de.ofEpochMilli(this.millis())},s.equals=function(e){return e instanceof a?this._zone.equals(e._zone):!1},s.withZone=function(e){return e.equals(this._zone)?this:new a(e)},s.toString=function(){return"SystemClock["+this._zone.toString()+"]"},a}(ce),dT=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._instant=i,o._zoneId=e,o}var s=a.prototype;return s.instant=function(){return this._instant},s.millis=function(){return this._instant.toEpochMilli()},s.zone=function(){return this._zoneId},s.toString=function(){return"FixedClock[]"},s.equals=function(e){return e instanceof a?this._instant.equals(e._instant)&&this._zoneId.equals(e._zoneId):!1},s.withZone=function(e){return e.equals(this._zoneId)?this:new a(this._instant,e)},a}(ce),pT=function(p){b(a,p);function a(i,e){var o;return o=p.call(this)||this,o._baseClock=i,o._offset=e,o}var s=a.prototype;return s.zone=function(){return this._baseClock.zone()},s.withZone=function(e){return e.equals(this._baseClock.zone())?this:new a(this._baseClock.withZone(e),this._offset)},s.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},s.instant=function(){return this._baseClock.instant().plus(this._offset)},s.equals=function(e){return e instanceof a?this._baseClock.equals(e._baseClock)&&this._offset.equals(e._offset):!1},s.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},a}(ce);var Ec=function(){p.of=function(i,e,o){return new p(i,e,o)};function p(s,i,e){if(y(s,"transition"),y(i,"offsetBefore"),y(e,"offsetAfter"),i.equals(e))throw new h("Offsets must not be equal");if(s.nano()!==0)throw new h("Nano-of-second must be zero");s instanceof ae?this._transition=s:this._transition=ae.ofEpochSecond(s,0,i),this._offsetBefore=i,this._offsetAfter=e}var a=p.prototype;return a.instant=function(){return this._transition.toInstant(this._offsetBefore)},a.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},a.dateTimeBefore=function(){return this._transition},a.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},a.offsetBefore=function(){return this._offsetBefore},a.offsetAfter=function(){return this._offsetAfter},a.duration=function(){return B.ofSeconds(this.durationSeconds())},a.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},a.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},a.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},a.isValidOffset=function(i){return this.isGap()?!1:this._offsetBefore.equals(i)||this._offsetAfter.equals(i)},a.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},a.compareTo=function(i){return this.instant().compareTo(i.instant())},a.equals=function(i){if(i===this)return!0;if(i instanceof p){var e=i;return this._transition.equals(e._transition)&&this._offsetBefore.equals(e.offsetBefore())&&this._offsetAfter.equals(e.offsetAfter())}return!1},a.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},a.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},p}();function _T(){P.ZONE_ID=Se("ZONE_ID",function(p){return p.query(P.ZONE_ID)}),P.CHRONO=Se("CHRONO",function(p){return p.query(P.CHRONO)}),P.PRECISION=Se("PRECISION",function(p){return p.query(P.PRECISION)}),P.OFFSET=Se("OFFSET",function(p){return p.isSupported(d.OFFSET_SECONDS)?Z.ofTotalSeconds(p.get(d.OFFSET_SECONDS)):null}),P.ZONE=Se("ZONE",function(p){var a=p.query(P.ZONE_ID);return a??p.query(P.OFFSET)}),P.LOCAL_DATE=Se("LOCAL_DATE",function(p){return p.isSupported(d.EPOCH_DAY)?k.ofEpochDay(p.getLong(d.EPOCH_DAY)):null}),P.LOCAL_TIME=Se("LOCAL_TIME",function(p){return p.isSupported(d.NANO_OF_DAY)?D.ofNanoOfDay(p.getLong(d.NANO_OF_DAY)):null})}var mT=function(p){b(a,p);function a(){return p.apply(this,arguments)||this}var s=a.prototype;return s.isFixedOffset=function(){return!1},s.offsetOfInstant=function(e){var o=new Date(e.toEpochMilli()).getTimezoneOffset();return Z.ofTotalMinutes(o*-1)},s.offsetOfEpochMilli=function(e){var o=new Date(e).getTimezoneOffset();return Z.ofTotalMinutes(o*-1)},s.offsetOfLocalDateTime=function(e){var o=e.toEpochSecond(Z.UTC)*1e3,c=new Date(o).getTimezoneOffset(),m=o+c*6e4,g=new Date(m).getTimezoneOffset();return Z.ofTotalMinutes(g*-1)},s.validOffsets=function(e){return[this.offsetOfLocalDateTime(e)]},s.transition=function(){return null},s.standardOffset=function(e){return this.offsetOfInstant(e)},s.daylightSavings=function(){this._throwNotSupported()},s.isDaylightSavings=function(){this._throwNotSupported()},s.isValidOffset=function(e,o){return this.offsetOfLocalDateTime(e).equals(o)},s.nextTransition=function(){this._throwNotSupported()},s.previousTransition=function(){this._throwNotSupported()},s.transitions=function(){this._throwNotSupported()},s.transitionRules=function(){this._throwNotSupported()},s._throwNotSupported=function(){throw new r("not supported operation")},s.equals=function(e){return this===e||e instanceof a},s.toString=function(){return"SYSTEM"},a}(kn),ET=function(p){b(a,p);function a(){var i;return i=p.call(this)||this,i._rules=new mT,i}var s=a.prototype;return s.rules=function(){return this._rules},s.equals=function(e){return this===e},s.id=function(){return"SYSTEM"},a}(oe);var dn=function(){function p(){}return p.systemDefault=function(){return ta},p.getAvailableZoneIds=function(){return Wn.getAvailableZoneIds()},p.of=function(s){if(y(s,"zoneId"),s==="Z")return Z.UTC;if(s.length===1)throw new r("Invalid zone: "+s);if(ct.startsWith(s,"+")||ct.startsWith(s,"-"))return Z.of(s);if(s==="UTC"||s==="GMT"||s==="GMT0"||s==="UT")return new rt(s,Z.UTC.rules());if(ct.startsWith(s,"UTC+")||ct.startsWith(s,"GMT+")||ct.startsWith(s,"UTC-")||ct.startsWith(s,"GMT-")){var i=Z.of(s.substring(3));return i.totalSeconds()===0?new rt(s.substring(0,3),i.rules()):new rt(s.substring(0,3)+i.id(),i.rules())}if(ct.startsWith(s,"UT+")||ct.startsWith(s,"UT-")){var e=Z.of(s.substring(2));return e.totalSeconds()===0?new rt("UT",e.rules()):new rt("UT"+e.id(),e.rules())}return s==="SYSTEM"?oe.systemDefault():rt.ofId(s)},p.ofOffset=function(s,i){if(y(s,"prefix"),y(i,"offset"),s.length===0)return i;if(s==="GMT"||s==="UTC"||s==="UT")return i.totalSeconds()===0?new rt(s,i.rules()):new rt(s+i.id(),i.rules());throw new h("Invalid prefix, must be GMT, UTC or UT: "+s)},p.from=function(s){y(s,"temporal");var i=s.query(P.zone());if(i==null)throw new r("Unable to obtain ZoneId from TemporalAccessor: "+s+", type "+(s.constructor!=null?s.constructor.name:""));return i},p}(),ta=null;function vT(){ta=new ET,oe.systemDefault=dn.systemDefault,oe.getAvailableZoneIds=dn.getAvailableZoneIds,oe.of=dn.of,oe.ofOffset=dn.ofOffset,oe.from=dn.from,Z.from=dn.from,oe.SYSTEM=ta,oe.UTC=Z.ofTotalSeconds(0)}var vc=!1;function gT(){vc||(vc=!0,Yn(),xr(),nn(),By(),cT(),jy(),_T(),Yy(),hT(),fT(),lT(),rT(),qy(),nT(),tT(),Vy(),Wy(),aT(),vT(),iT(),eT(),Qy(),uT(),oT())}gT();var yT=function(){function p(s,i){var e;if(s instanceof de){this.instant=s;return}else if(s instanceof k)i=i??oe.systemDefault(),e=s.atStartOfDay(i);else if(s instanceof ae)i=i??oe.systemDefault(),e=s.atZone(i);else if(s instanceof $e)i==null?e=s:e=s.withZoneSameInstant(i);else throw new h("unsupported instance for convert operation:"+s);this.instant=e.toInstant()}var a=p.prototype;return a.toDate=function(){return new Date(this.instant.toEpochMilli())},a.toEpochMilli=function(){return this.instant.toEpochMilli()},p}();function gc(p,a){return new yT(p,a)}function yc(p,a){if(a===void 0&&(a=oe.systemDefault()),y(p,"date"),y(a,"zone"),p instanceof Date)return de.ofEpochMilli(p.getTime()).atZone(a);if(typeof p.toDate=="function"&&p.toDate()instanceof Date)return de.ofEpochMilli(p.toDate().getTime()).atZone(a);throw new h("date must be a javascript Date or a moment instance")}function TT(p){var a=[];return function(i){return~a.indexOf(i)||(i(p),a.push(i)),p}}var Tc={assert:M,DateTimeBuilder:Ur,DateTimeParseContext:sc,DateTimePrintContext:uc,MathUtil:_,StringUtil:ct,StringBuilder:pc},wc={_:Tc,convert:gc,nativeJs:yc,ArithmeticException:l,DateTimeException:r,DateTimeParseException:u,IllegalArgumentException:h,IllegalStateException:E,UnsupportedTemporalTypeException:f,NullPointerException:v,Clock:ce,DayOfWeek:he,Duration:B,Instant:de,LocalDate:k,LocalTime:D,LocalDateTime:ae,OffsetTime:it,OffsetDateTime:je,Month:G,MonthDay:Kn,ParsePosition:qs,Period:lt,Year:Ze,YearConstants:be,YearMonth:hn,ZonedDateTime:$e,ZoneOffset:Z,ZoneId:oe,ZoneRegion:rt,ZoneOffsetTransition:Ec,ZoneRules:kn,ZoneRulesProvider:Wn,ChronoLocalDate:sn,ChronoLocalDateTime:Qs,ChronoZonedDateTime:Js,IsoChronology:se,ChronoField:d,ChronoUnit:T,IsoFields:ze,Temporal:xe,TemporalAccessor:Ot,TemporalAdjuster:zn,TemporalAdjusters:js,TemporalAmount:K,TemporalField:We,TemporalQueries:P,TemporalQuery:rn,TemporalUnit:$,ValueRange:z,DateTimeFormatter:X,DateTimeFormatterBuilder:fe,DecimalStyle:Vn,ResolverStyle:j,SignStyle:ne,TextStyle:ie},Sc=TT(wc);wc.use=Sc,n.ArithmeticException=l,n.ChronoField=d,n.ChronoLocalDate=sn,n.ChronoLocalDateTime=Qs,n.ChronoUnit=T,n.ChronoZonedDateTime=Js,n.Clock=ce,n.DateTimeException=r,n.DateTimeFormatter=X,n.DateTimeFormatterBuilder=fe,n.DateTimeParseException=u,n.DayOfWeek=he,n.DecimalStyle=Vn,n.Duration=B,n.IllegalArgumentException=h,n.IllegalStateException=E,n.Instant=de,n.IsoChronology=se,n.IsoFields=ze,n.LocalDate=k,n.LocalDateTime=ae,n.LocalTime=D,n.Month=G,n.MonthDay=Kn,n.NullPointerException=v,n.OffsetDateTime=je,n.OffsetTime=it,n.ParsePosition=qs,n.Period=lt,n.ResolverStyle=j,n.SignStyle=ne,n.Temporal=xe,n.TemporalAccessor=Ot,n.TemporalAdjuster=zn,n.TemporalAdjusters=js,n.TemporalAmount=K,n.TemporalField=We,n.TemporalQueries=P,n.TemporalQuery=rn,n.TemporalUnit=$,n.TextStyle=ie,n.UnsupportedTemporalTypeException=f,n.ValueRange=z,n.Year=Ze,n.YearConstants=be,n.YearMonth=hn,n.ZoneId=oe,n.ZoneOffset=Z,n.ZoneOffsetTransition=Ec,n.ZoneRegion=rt,n.ZoneRules=kn,n.ZoneRulesProvider=Wn,n.ZonedDateTime=$e,n._=Tc,n.convert=gc,n.nativeJs=yc,n.use=Sc})});var Sp=S((Eo,wp)=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.default=void 0;var QN=eI(so()),mo=fr();function eI(n){return n&&n.__esModule?n:{default:n}}var tI=mo.LocalDate.ofYearDay(1900,1),nI=Buffer.from([0]),rI=Buffer.from([8]),Tp={id:61,type:"DATETIME",name:"DateTime",declaration:function(){return"datetime"},generateTypeInfo(){return Buffer.from([QN.default.id,8])},generateParameterLength(n,t){return n.value==null?nI:rI},generateParameterData:function*(n,t){if(n.value==null)return;let r=n.value,u;t.useUTC?u=mo.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):u=mo.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let f=tI.until(u,mo.ChronoUnit.DAYS),l,h;if(t.useUTC){let v=r.getUTCHours()*60*60;v+=r.getUTCMinutes()*60,v+=r.getUTCSeconds(),l=v*1e3+r.getUTCMilliseconds()}else{let v=r.getHours()*60*60;v+=r.getMinutes()*60,v+=r.getSeconds(),l=v*1e3+r.getMilliseconds()}h=l/(3+1/3),h=Math.round(h),h===2592e4&&(f+=1,h=0);let E=Buffer.alloc(8);E.writeInt32LE(f,0),E.writeUInt32LE(h,4),yield E},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},iI=Tp;Eo.default=iI;wp.exports=Tp});var Ip=S((vo,Np)=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.default=void 0;var oI=sI(fo());function sI(n){return n&&n.__esModule?n:{default:n}}var aI=Buffer.from([0]),Op={id:62,type:"FLT8",name:"Float",declaration:function(){return"float"},generateTypeInfo(){return Buffer.from([oI.default.id,8])},generateParameterLength(n,t){return n.value==null?aI:Buffer.from([8])},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(8);r.writeDoubleLE(parseFloat(n.value),0),yield r},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},uI=Op;vo.default=uI;Np.exports=Op});var Fu=S((go,Dp)=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.default=void 0;var Ap={id:106,type:"DECIMALN",name:"DecimalN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},fI=Ap;go.default=fI;Dp.exports=Ap});var Cp=S((yo,Lp)=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.default=void 0;var lI=bp(Fu()),xu=bp(Ye());function bp(n){return n&&n.__esModule?n:{default:n}}var cI=Buffer.from([0]),Rp={id:55,type:"DECIMAL",name:"Decimal",declaration:function(n){return"decimal("+this.resolvePrecision(n)+", "+this.resolveScale(n)+")"},resolvePrecision:function(n){return n.precision!=null?n.precision:n.value===null?1:18},resolveScale:function(n){return n.scale!=null?n.scale:0},generateTypeInfo(n,t){let r;return n.precision<=9?r=5:n.precision<=19?r=9:n.precision<=28?r=13:r=17,Buffer.from([lI.default.id,r,n.precision,n.scale])},generateParameterLength(n,t){if(n.value==null)return cI;let r=n.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(n,t){if(n.value==null)return;let r=n.value<0?0:1,u=Math.round(Math.abs(n.value*Math.pow(10,n.scale))),f=n.precision;if(f<=9){let l=Buffer.alloc(5);l.writeUInt8(r,0),l.writeUInt32LE(u,1),yield l}else if(f<=19){let l=new xu.default(9);l.writeUInt8(r),l.writeUInt64LE(u),yield l.data}else if(f<=28){let l=new xu.default(13);l.writeUInt8(r),l.writeUInt64LE(u),l.writeUInt32LE(0),yield l.data}else{let l=new xu.default(17);l.writeUInt8(r),l.writeUInt64LE(u),l.writeUInt32LE(0),l.writeUInt32LE(0),yield l.data}},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},hI=Rp;yo.default=hI;Lp.exports=Rp});var Uu=S((To,Pp)=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.default=void 0;var Mp={id:108,type:"NUMERICN",name:"NumericN",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},dI=Mp;To.default=dI;Pp.exports=Mp});var Bp=S((wo,Up)=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.default=void 0;var pI=Fp(Uu()),Bu=Fp(Ye());function Fp(n){return n&&n.__esModule?n:{default:n}}var _I=Buffer.from([0]),xp={id:63,type:"NUMERIC",name:"Numeric",declaration:function(n){return"numeric("+this.resolvePrecision(n)+", "+this.resolveScale(n)+")"},resolvePrecision:function(n){return n.precision!=null?n.precision:n.value===null?1:18},resolveScale:function(n){return n.scale!=null?n.scale:0},generateTypeInfo(n){let t;return n.precision<=9?t=5:n.precision<=19?t=9:n.precision<=28?t=13:t=17,Buffer.from([pI.default.id,t,n.precision,n.scale])},generateParameterLength(n,t){if(n.value==null)return _I;let r=n.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(n,t){if(n.value==null)return;let r=n.value<0?0:1,u=Math.round(Math.abs(n.value*Math.pow(10,n.scale)));if(n.precision<=9){let f=Buffer.alloc(5);f.writeUInt8(r,0),f.writeUInt32LE(u,1),yield f}else if(n.precision<=19){let f=new Bu.default(10);f.writeUInt8(r),f.writeUInt64LE(u),yield f.data}else if(n.precision<=28){let f=new Bu.default(14);f.writeUInt8(r),f.writeUInt64LE(u),f.writeUInt32LE(0),yield f.data}else{let f=new Bu.default(18);f.writeUInt8(r),f.writeUInt64LE(u),f.writeUInt32LE(0),f.writeUInt32LE(0),yield f.data}},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");return n}},mI=xp;wo.default=mI;Up.exports=xp});var kp=S((So,qp)=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.default=void 0;var EI=vI(ho());function vI(n){return n&&n.__esModule?n:{default:n}}var gI=Buffer.from([4]),yI=Buffer.from([0]),Yp={id:122,type:"MONEY4",name:"SmallMoney",declaration:function(){return"smallmoney"},generateTypeInfo:function(){return Buffer.from([EI.default.id,4])},generateParameterLength(n,t){return n.value==null?yI:gI},*generateParameterData(n,t){if(n.value==null)return;let r=Buffer.alloc(4);r.writeInt32LE(n.value*1e4,0),yield r},validate:function(n){if(n==null)return null;if(n=parseFloat(n),isNaN(n))throw new TypeError("Invalid number.");if(n<-214748.3648||n>214748.3647)throw new TypeError("Value must be between -214748.3648 and 214748.3647.");return n}},TI=Yp;So.default=TI;qp.exports=Yp});var Gp=S((Oo,Wp)=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.default=void 0;var wI=Vp(On()),SI=Vp(Ye());function Vp(n){return n&&n.__esModule?n:{default:n}}var OI=Buffer.from([8]),NI=Buffer.from([0]),Hp={id:127,type:"INT8",name:"BigInt",declaration:function(){return"bigint"},generateTypeInfo(){return Buffer.from([wI.default.id,8])},generateParameterLength(n,t){return n.value==null?NI:OI},*generateParameterData(n,t){if(n.value==null)return;let r=new SI.default(8);r.writeInt64LE(Number(n.value)),yield r.data},validate:function(n){if(n==null)return null;if(typeof n!="number"&&(n=Number(n)),isNaN(n))throw new TypeError("Invalid number.");if(n<Number.MIN_SAFE_INTEGER||n>Number.MAX_SAFE_INTEGER)throw new TypeError(`Value must be between ${Number.MIN_SAFE_INTEGER} and ${Number.MAX_SAFE_INTEGER}, inclusive.  For smaller or bigger numbers, use VarChar type.`);return n}},II=Hp;Oo.default=II;Wp.exports=Hp});var Zp=S((No,zp)=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.default=void 0;var AI=Buffer.from([255,255,255,255]),Kp={id:34,type:"IMAGE",name:"Image",hasTableName:!0,declaration:function(){return"image"},resolveLength:function(n){return n.value!=null?n.value.length:-1},generateTypeInfo(n){let t=Buffer.alloc(5);return t.writeUInt8(this.id,0),t.writeInt32LE(n.length,1),t},generateParameterLength(n,t){if(n.value==null)return AI;let r=Buffer.alloc(4);return r.writeInt32LE(n.value.length,0),r},*generateParameterData(n,t){n.value!=null&&(yield n.value)},validate:function(n){if(n==null)return null;if(!Buffer.isBuffer(n))throw new TypeError("Invalid buffer.");return n}},DI=Kp;No.default=DI;zp.exports=Kp});var Xp=S((Io,jp)=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.default=void 0;var bI=RI(require("iconv-lite"));function RI(n){return n&&n.__esModule?n:{default:n}}var LI=Buffer.from([255,255,255,255]),$p={id:35,type:"TEXT",name:"Text",hasTableName:!0,declaration:function(){return"text"},resolveLength:function(n){let t=n.value;return t!=null?t.length:-1},generateTypeInfo(n,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(n.length,1),n.collation&&n.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(n,t){let r=n.value;if(r==null)return LI;let u=Buffer.alloc(4);return u.writeInt32LE(r.length,0),u},generateParameterData:function*(n,t){let r=n.value;r!=null&&(yield r)},validate:function(n,t){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!t)throw new Error("No collation was set by the server for the current connection.");if(!t.codepage)throw new Error("The collation set by the server has no associated encoding.");return bI.default.encode(n,t.codepage)}},CI=$p;Io.default=CI;jp.exports=$p});var Yu=S(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.bufferToLowerCaseGuid=PI;lr.bufferToUpperCaseGuid=MI;lr.guidToArray=FI;var Me=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],Pe=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function MI(n){return Me[n[3]]+Me[n[2]]+Me[n[1]]+Me[n[0]]+"-"+Me[n[5]]+Me[n[4]]+"-"+Me[n[7]]+Me[n[6]]+"-"+Me[n[8]]+Me[n[9]]+"-"+Me[n[10]]+Me[n[11]]+Me[n[12]]+Me[n[13]]+Me[n[14]]+Me[n[15]]}function PI(n){return Pe[n[3]]+Pe[n[2]]+Pe[n[1]]+Pe[n[0]]+"-"+Pe[n[5]]+Pe[n[4]]+"-"+Pe[n[7]]+Pe[n[6]]+"-"+Pe[n[8]]+Pe[n[9]]+"-"+Pe[n[10]]+Pe[n[11]]+Pe[n[12]]+Pe[n[13]]+Pe[n[14]]+Pe[n[15]]}var Re={},Nn=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"].map(n=>n.charCodeAt(0));for(let n=0;n<Nn.length;n++){let t=Re[Nn[n]]={};for(let r=0;r<Nn.length;r++){let u=String.fromCharCode(Nn[n],Nn[r]),f=parseInt(u,16);t[Nn[r]]=f}}function FI(n){return[Re[n.charCodeAt(6)][n.charCodeAt(7)],Re[n.charCodeAt(4)][n.charCodeAt(5)],Re[n.charCodeAt(2)][n.charCodeAt(3)],Re[n.charCodeAt(0)][n.charCodeAt(1)],Re[n.charCodeAt(11)][n.charCodeAt(12)],Re[n.charCodeAt(9)][n.charCodeAt(10)],Re[n.charCodeAt(16)][n.charCodeAt(17)],Re[n.charCodeAt(14)][n.charCodeAt(15)],Re[n.charCodeAt(19)][n.charCodeAt(20)],Re[n.charCodeAt(21)][n.charCodeAt(22)],Re[n.charCodeAt(24)][n.charCodeAt(25)],Re[n.charCodeAt(26)][n.charCodeAt(27)],Re[n.charCodeAt(28)][n.charCodeAt(29)],Re[n.charCodeAt(30)][n.charCodeAt(31)],Re[n.charCodeAt(32)][n.charCodeAt(33)],Re[n.charCodeAt(34)][n.charCodeAt(35)]]}});var e_=S((Ao,Qp)=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.default=void 0;var xI=Yu(),UI=Buffer.from([0]),BI=Buffer.from([16]),Jp={id:36,type:"GUIDN",name:"UniqueIdentifier",declaration:function(){return"uniqueidentifier"},resolveLength:function(){return 16},generateTypeInfo(){return Buffer.from([this.id,16])},generateParameterLength(n,t){return n.value==null?UI:BI},generateParameterData:function*(n,t){n.value!=null&&(yield Buffer.from((0,xI.guidToArray)(n.value)))},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(n))throw new TypeError("Invalid GUID.");return n}},YI=Jp;Ao.default=YI;Qp.exports=Jp});var r_=S((Do,n_)=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.default=void 0;var qI=Buffer.from([255,255,255,255]),t_={id:99,type:"NTEXT",name:"NText",hasTableName:!0,declaration:function(){return"ntext"},resolveLength:function(n){let t=n.value;return t!=null?t.length:-1},generateTypeInfo(n,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(n.length,1),n.collation&&n.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(n,t){if(n.value==null)return qI;let r=Buffer.alloc(4);return r.writeInt32LE(Buffer.byteLength(n.value,"ucs2"),0),r},generateParameterData:function*(n,t){n.value!=null&&(yield Buffer.from(n.value.toString(),"ucs2"))},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");return n}},kI=t_;Do.default=kI;n_.exports=t_});var s_=S((bo,o_)=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.default=void 0;var VI=(1<<16)-1,HI=Buffer.from([254,255,255,255,255,255,255,255]),WI=Buffer.from([0,0,0,0]),GI=Buffer.from([255,255]),KI=Buffer.from([255,255,255,255,255,255,255,255]),i_={id:165,type:"BIGVARBIN",name:"VarBinary",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<=this.maximumLength?"varbinary("+r+")":"varbinary(max)"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?t.length:this.maximumLength},generateTypeInfo:function(n){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),n.length<=this.maximumLength?t.writeUInt16LE(n.length,1):t.writeUInt16LE(VI,1),t},generateParameterLength(n,t){if(n.value==null)return n.length<=this.maximumLength?GI:KI;let r=n.value;Buffer.isBuffer(r)||(r=r.toString());let u=Buffer.byteLength(r,"ucs2");if(n.length<=this.maximumLength){let f=Buffer.alloc(2);return f.writeUInt16LE(u,0),f}else return HI},*generateParameterData(n,t){if(n.value==null)return;let r=n.value;if(n.length<=this.maximumLength)Buffer.isBuffer(r)?yield r:yield Buffer.from(r.toString(),"ucs2");else{Buffer.isBuffer(r)||(r=r.toString());let u=Buffer.byteLength(r,"ucs2");if(u>0){let f=Buffer.alloc(4);f.writeUInt32LE(u,0),yield f,Buffer.isBuffer(r)?yield r:yield Buffer.from(r,"ucs2")}yield WI}},validate:function(n){if(n==null)return null;if(!Buffer.isBuffer(n))throw new TypeError("Invalid buffer.");return n}},zI=i_;bo.default=zI;o_.exports=i_});var f_=S((Ro,u_)=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.default=void 0;var ZI=$I(require("iconv-lite"));function $I(n){return n&&n.__esModule?n:{default:n}}var jI=(1<<16)-1,XI=Buffer.from([254,255,255,255,255,255,255,255]),JI=Buffer.from([0,0,0,0]),QI=Buffer.from([255,255]),eA=Buffer.from([255,255,255,255,255,255,255,255]),a_={id:167,type:"BIGVARCHR",name:"VarChar",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<=this.maximumLength?"varchar("+r+")":"varchar(max)"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?t.length||1:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),n.length<=this.maximumLength?t.writeUInt16LE(n.length,1):t.writeUInt16LE(jI,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){let r=n.value;if(r==null)return n.length<=this.maximumLength?QI:eA;if(n.length<=this.maximumLength){let u=Buffer.alloc(2);return u.writeUInt16LE(r.length,0),u}else return XI},*generateParameterData(n,t){let r=n.value;if(r!=null)if(n.length<=this.maximumLength)yield r;else{if(r.length>0){let u=Buffer.alloc(4);u.writeUInt32LE(r.length,0),yield u,yield r}yield JI}},validate:function(n,t){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!t)throw new Error("No collation was set by the server for the current connection.");if(!t.codepage)throw new Error("The collation set by the server has no associated encoding.");return ZI.default.encode(n,t.codepage)}},tA=a_;Ro.default=tA;u_.exports=a_});var h_=S((Lo,c_)=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.default=void 0;var nA=Buffer.from([255,255]),l_={id:173,type:"BIGBinary",name:"Binary",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,"binary("+r+")"},resolveLength:function(n){let t=n.value;return t!=null?t.length:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),t.writeUInt16LE(n.length,1),t},generateParameterLength(n,t){if(n.value==null)return nA;let r=Buffer.alloc(2);return r.writeUInt16LE(n.length,0),r},*generateParameterData(n,t){n.value!=null&&(yield n.value.slice(0,n.length!==void 0?Math.min(n.length,this.maximumLength):this.maximumLength))},validate:function(n){if(n==null)return null;if(!Buffer.isBuffer(n))throw new TypeError("Invalid buffer.");return n}},rA=l_;Lo.default=rA;c_.exports=l_});var __=S((Co,p_)=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.default=void 0;var iA=oA(require("iconv-lite"));function oA(n){return n&&n.__esModule?n:{default:n}}var sA=Buffer.from([255,255]),d_={id:175,type:"BIGCHAR",name:"Char",maximumLength:8e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<this.maximumLength?"char("+r+")":"char("+this.maximumLength+")"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?t.length||1:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(n.length,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){let r=n.value;if(r==null)return sA;let u=Buffer.alloc(2);return u.writeUInt16LE(r.length,0),u},*generateParameterData(n,t){n.value!=null&&(yield Buffer.from(n.value,"ascii"))},validate:function(n,t){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");if(!t)throw new Error("No collation was set by the server for the current connection.");if(!t.codepage)throw new Error("The collation set by the server has no associated encoding.");return iA.default.encode(n,t.codepage)}},aA=d_;Co.default=aA;p_.exports=d_});var v_=S((Mo,E_)=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.default=void 0;var uA=(1<<16)-1,fA=Buffer.from([254,255,255,255,255,255,255,255]),lA=Buffer.from([0,0,0,0]),cA=Buffer.from([255,255]),hA=Buffer.from([255,255,255,255,255,255,255,255]),m_={id:231,type:"NVARCHAR",name:"NVarChar",maximumLength:4e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:t!=null?r=t.toString().length||1:t===null&&!n.output?r=1:r=this.maximumLength,r<=this.maximumLength?"nvarchar("+r+")":"nvarchar(max)"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:t!=null?Buffer.isBuffer(t)?t.length/2||1:t.toString().length||1:this.maximumLength},generateTypeInfo(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),n.length<=this.maximumLength?t.writeUInt16LE(n.length*2,1):t.writeUInt16LE(uA,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){if(n.value==null)return n.length<=this.maximumLength?cA:hA;let r=n.value;if(n.length<=this.maximumLength){let u;r instanceof Buffer?u=r.length:(r=r.toString(),u=Buffer.byteLength(r,"ucs2"));let f=Buffer.alloc(2);return f.writeUInt16LE(u,0),f}else return fA},*generateParameterData(n,t){if(n.value==null)return;let r=n.value;if(n.length<=this.maximumLength)r instanceof Buffer?yield r:(r=r.toString(),yield Buffer.from(r,"ucs2"));else{if(r instanceof Buffer){let u=r.length;if(u>0){let f=Buffer.alloc(4);f.writeUInt32LE(u,0),yield f,yield r}}else{r=r.toString();let u=Buffer.byteLength(r,"ucs2");if(u>0){let f=Buffer.alloc(4);f.writeUInt32LE(u,0),yield f,yield Buffer.from(r,"ucs2")}}yield lA}},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");return n}},dA=m_;Mo.default=dA;E_.exports=m_});var T_=S((Po,y_)=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.default=void 0;var pA=Buffer.from([255,255]),g_={id:239,type:"NCHAR",name:"NChar",maximumLength:4e3,declaration:function(n){let t=n.value,r;return n.length?r=n.length:n.value!=null?r=t.toString().length||1:n.value===null&&!n.output?r=1:r=this.maximumLength,r<this.maximumLength?"nchar("+r+")":"nchar("+this.maximumLength+")"},resolveLength:function(n){let t=n.value;return n.length!=null?n.length:n.value!=null?Buffer.isBuffer(n.value)?n.value.length/2||1:t.toString().length||1:this.maximumLength},generateTypeInfo:function(n){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(n.length*2,1),n.collation&&n.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(n,t){if(n.value==null)return pA;let{value:r}=n;if(r instanceof Buffer){let u=r.length,f=Buffer.alloc(2);return f.writeUInt16LE(u,0),f}else{let u=Buffer.byteLength(r.toString(),"ucs2"),f=Buffer.alloc(2);return f.writeUInt16LE(u,0),f}},*generateParameterData(n,t){if(n.value==null)return;let r=n.value;r instanceof Buffer?yield r:yield Buffer.from(r,"ucs2")},validate:function(n){if(n==null)return null;if(typeof n!="string")throw new TypeError("Invalid string.");return n}},_A=g_;Po.default=_A;y_.exports=g_});var O_=S((Fo,S_)=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.default=void 0;var w_={id:241,type:"XML",name:"Xml",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},mA=w_;Fo.default=mA;S_.exports=w_});var A_=S((xo,I_)=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.default=void 0;var EA=vA(Ye());function vA(n){return n&&n.__esModule?n:{default:n}}var gA=Buffer.from([0]),N_={id:41,type:"TIMEN",name:"Time",declaration:function(n){return"time("+this.resolveScale(n)+")"},resolveScale:function(n){return n.scale!=null?n.scale:n.value===null?0:7},generateTypeInfo(n){return Buffer.from([this.id,n.scale])},generateParameterLength(n,t){if(n.value==null)return gA;switch(n.scale){case 0:case 1:case 2:return Buffer.from([3]);case 3:case 4:return Buffer.from([4]);case 5:case 6:case 7:return Buffer.from([5]);default:throw new Error("invalid scale")}},*generateParameterData(n,t){if(n.value==null)return;let r=new EA.default(16),u=n.value,f;switch(t.useUTC?f=((u.getUTCHours()*60+u.getUTCMinutes())*60+u.getUTCSeconds())*1e3+u.getUTCMilliseconds():f=((u.getHours()*60+u.getMinutes())*60+u.getSeconds())*1e3+u.getMilliseconds(),f=f*Math.pow(10,n.scale-3),f+=(n.value.nanosecondDelta!=null?n.value.nanosecondDelta:0)*Math.pow(10,n.scale),f=Math.round(f),n.scale){case 0:case 1:case 2:r.writeUInt24LE(f);break;case 3:case 4:r.writeUInt32LE(f);break;case 5:case 6:case 7:r.writeUInt40LE(f)}yield r.data},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid time.");return n}},yA=N_;xo.default=yA;I_.exports=N_});var R_=S((Bo,b_)=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=void 0;var Uo=fr(),qu=global.Date,TA=Uo.LocalDate.ofYearDay(1,1),wA=Buffer.from([0]),SA=Buffer.from([3]),D_={id:40,type:"DATEN",name:"Date",declaration:function(){return"date"},generateTypeInfo:function(){return Buffer.from([this.id])},generateParameterLength(n,t){return n.value==null?wA:SA},*generateParameterData(n,t){if(n.value==null)return;let r=n.value,u;t.useUTC?u=Uo.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):u=Uo.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let f=TA.until(u,Uo.ChronoUnit.DAYS),l=Buffer.alloc(3);l.writeUIntLE(f,0,3),yield l},validate:function(n){if(n==null)return null;if(n instanceof qu||(n=new qu(qu.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},OA=D_;Bo.default=OA;b_.exports=D_});var M_=S((qo,C_)=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.default=void 0;var Yo=fr(),NA=IA(Ye());function IA(n){return n&&n.__esModule?n:{default:n}}var AA=Yo.LocalDate.ofYearDay(1,1),DA=Buffer.from([0]),L_={id:42,type:"DATETIME2N",name:"DateTime2",declaration:function(n){return"datetime2("+this.resolveScale(n)+")"},resolveScale:function(n){return n.scale!=null?n.scale:n.value===null?0:7},generateTypeInfo(n,t){return Buffer.from([this.id,n.scale])},generateParameterLength(n,t){if(n.value==null)return DA;switch(n.scale){case 0:case 1:case 2:return Buffer.from([6]);case 3:case 4:return Buffer.from([7]);case 5:case 6:case 7:return Buffer.from([8]);default:throw new Error("invalid scale")}},*generateParameterData(n,t){if(n.value==null)return;let r=n.value,u=n.scale,f=new NA.default(16);u=u;let l;switch(t.useUTC?l=((r.getUTCHours()*60+r.getUTCMinutes())*60+r.getUTCSeconds())*1e3+r.getUTCMilliseconds():l=((r.getHours()*60+r.getMinutes())*60+r.getSeconds())*1e3+r.getMilliseconds(),l=l*Math.pow(10,u-3),l+=(r.nanosecondDelta!=null?r.nanosecondDelta:0)*Math.pow(10,u),l=Math.round(l),u){case 0:case 1:case 2:f.writeUInt24LE(l);break;case 3:case 4:f.writeUInt32LE(l);break;case 5:case 6:case 7:f.writeUInt40LE(l)}let h;t.useUTC?h=Yo.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()):h=Yo.LocalDate.of(r.getFullYear(),r.getMonth()+1,r.getDate());let E=AA.until(h,Yo.ChronoUnit.DAYS);f.writeUInt24LE(E),yield f.data},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},bA=L_;qo.default=bA;C_.exports=L_});var x_=S((ko,F_)=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.default=void 0;var ku=fr(),RA=LA(Ye());function LA(n){return n&&n.__esModule?n:{default:n}}var CA=ku.LocalDate.ofYearDay(1,1),MA=Buffer.from([0]),P_={id:43,type:"DATETIMEOFFSETN",name:"DateTimeOffset",declaration:function(n){return"datetimeoffset("+this.resolveScale(n)+")"},resolveScale:function(n){return n.scale!=null?n.scale:n.value===null?0:7},generateTypeInfo(n){return Buffer.from([this.id,n.scale])},generateParameterLength(n,t){if(n.value==null)return MA;switch(n.scale){case 0:case 1:case 2:return Buffer.from([8]);case 3:case 4:return Buffer.from([9]);case 5:case 6:case 7:return Buffer.from([10]);default:throw new Error("invalid scale")}},*generateParameterData(n,t){if(n.value==null)return;let r=n.value,u=n.scale,f=new RA.default(16);u=u;let l;switch(l=((r.getUTCHours()*60+r.getUTCMinutes())*60+r.getUTCSeconds())*1e3+r.getMilliseconds(),l=l*Math.pow(10,u-3),l+=(r.nanosecondDelta!=null?r.nanosecondDelta:0)*Math.pow(10,u),l=Math.round(l),u){case 0:case 1:case 2:f.writeUInt24LE(l);break;case 3:case 4:f.writeUInt32LE(l);break;case 5:case 6:case 7:f.writeUInt40LE(l)}let h=ku.LocalDate.of(r.getUTCFullYear(),r.getUTCMonth()+1,r.getUTCDate()),E=CA.until(h,ku.ChronoUnit.DAYS);f.writeUInt24LE(E);let v=-r.getTimezoneOffset();f.writeInt16LE(v),yield f.data},validate:function(n){if(n==null)return null;if(n instanceof Date||(n=new Date(Date.parse(n))),isNaN(n))throw new TypeError("Invalid date.");return n}},PA=P_;ko.default=PA;F_.exports=P_});var Y_=S((Vo,B_)=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.default=void 0;var U_={id:240,type:"UDTTYPE",name:"UDT",declaration(){throw new Error("not implemented")},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},FA=U_;Vo.default=FA;B_.exports=U_});var V_=S((Wo,k_)=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.default=void 0;var xA=UA(Ye());function UA(n){return n&&n.__esModule?n:{default:n}}var BA=Buffer.from([1]),Ho=Buffer.from([0]),YA=Buffer.from([255,255]),q_={id:243,type:"TVPTYPE",name:"TVP",declaration:function(n){return n.value.name+" readonly"},generateTypeInfo(n){var t,r;let u="",f=((t=n.value)===null||t===void 0?void 0:t.schema)??"",l=((r=n.value)===null||r===void 0?void 0:r.name)??"",h=1+1+Buffer.byteLength(u,"ucs2")+1+Buffer.byteLength(f,"ucs2")+1+Buffer.byteLength(l,"ucs2"),E=new xA.default(h,"ucs2");return E.writeUInt8(this.id),E.writeBVarchar(u),E.writeBVarchar(f),E.writeBVarchar(l),E.data},generateParameterLength(n,t){if(n.value==null)return YA;let{columns:r}=n.value,u=Buffer.alloc(2);return u.writeUInt16LE(r.length,0),u},*generateParameterData(n,t){if(n.value==null){yield Ho,yield Ho;return}let{columns:r,rows:u}=n.value;for(let f=0,l=r.length;f<l;f++){let h=r[f],E=Buffer.alloc(6);E.writeUInt32LE(0,0),E.writeUInt16LE(0,4),yield E,yield h.type.generateTypeInfo(h),yield Buffer.from([0])}yield Ho;for(let f=0,l=u.length;f<l;f++){yield BA;let h=u[f];for(let E=0,v=h.length;E<v;E++){let O=r[E],A=h[E],b={value:O.type.validate(A,n.collation),length:O.length,scale:O.scale,precision:O.precision};yield O.type.generateParameterLength(b,t),yield*O.type.generateParameterData(b,t)}}yield Ho},validate:function(n){if(n==null)return null;if(typeof n!="object")throw new TypeError("Invalid table.");if(!Array.isArray(n.columns))throw new TypeError("Invalid table.");if(!Array.isArray(n.rows))throw new TypeError("Invalid table.");return n}},qA=q_;Wo.default=qA;k_.exports=q_});var G_=S((Go,W_)=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.default=void 0;var H_={id:98,type:"SSVARIANTTYPE",name:"Variant",declaration:function(){return"sql_variant"},generateTypeInfo(){throw new Error("not implemented")},generateParameterLength(){throw new Error("not implemented")},generateParameterData(){throw new Error("not implemented")},validate(){throw new Error("not implemented")}},kA=H_;Go.default=kA;W_.exports=H_});var cr=S(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.typeByName=xt.TYPES=xt.TYPE=void 0;var K_=Q(kd()),Vu=Q(Kd()),Hu=Q(Xd()),Wu=Q(ep()),Gu=Q(rp()),Ku=Q(fp()),zu=Q(pp()),Zu=Q(gp()),$u=Q(Sp()),ju=Q(Ip()),Xu=Q(Cp()),Ju=Q(Bp()),Qu=Q(kp()),ef=Q(Gp()),tf=Q(Zp()),nf=Q(Xp()),rf=Q(e_()),z_=Q(On()),of=Q(r_()),Z_=Q(Pu()),$_=Q(Fu()),j_=Q(Uu()),X_=Q(fo()),J_=Q(ho()),Q_=Q(so()),sf=Q(s_()),af=Q(f_()),uf=Q(h_()),ff=Q(__()),lf=Q(v_()),cf=Q(T_()),hf=Q(O_()),df=Q(A_()),pf=Q(R_()),_f=Q(M_()),mf=Q(x_()),Ef=Q(Y_()),vf=Q(V_()),gf=Q(G_());function Q(n){return n&&n.__esModule?n:{default:n}}var VA={[K_.default.id]:K_.default,[Vu.default.id]:Vu.default,[Hu.default.id]:Hu.default,[Wu.default.id]:Wu.default,[Gu.default.id]:Gu.default,[Ku.default.id]:Ku.default,[zu.default.id]:zu.default,[Zu.default.id]:Zu.default,[$u.default.id]:$u.default,[ju.default.id]:ju.default,[Xu.default.id]:Xu.default,[Ju.default.id]:Ju.default,[Qu.default.id]:Qu.default,[ef.default.id]:ef.default,[tf.default.id]:tf.default,[nf.default.id]:nf.default,[rf.default.id]:rf.default,[z_.default.id]:z_.default,[of.default.id]:of.default,[Z_.default.id]:Z_.default,[$_.default.id]:$_.default,[j_.default.id]:j_.default,[X_.default.id]:X_.default,[J_.default.id]:J_.default,[Q_.default.id]:Q_.default,[sf.default.id]:sf.default,[af.default.id]:af.default,[uf.default.id]:uf.default,[ff.default.id]:ff.default,[lf.default.id]:lf.default,[cf.default.id]:cf.default,[hf.default.id]:hf.default,[df.default.id]:df.default,[pf.default.id]:pf.default,[_f.default.id]:_f.default,[mf.default.id]:mf.default,[Ef.default.id]:Ef.default,[vf.default.id]:vf.default,[gf.default.id]:gf.default};xt.TYPE=VA;var e0={TinyInt:Vu.default,Bit:Hu.default,SmallInt:Wu.default,Int:Gu.default,SmallDateTime:Ku.default,Real:zu.default,Money:Zu.default,DateTime:$u.default,Float:ju.default,Decimal:Xu.default,Numeric:Ju.default,SmallMoney:Qu.default,BigInt:ef.default,Image:tf.default,Text:nf.default,UniqueIdentifier:rf.default,NText:of.default,VarBinary:sf.default,VarChar:af.default,Binary:uf.default,Char:ff.default,NVarChar:lf.default,NChar:cf.default,Xml:hf.default,Time:df.default,Date:pf.default,DateTime2:_f.default,DateTimeOffset:mf.default,UDT:Ef.default,TVP:vf.default,Variant:gf.default};xt.TYPES=e0;var HA=e0;xt.typeByName=HA});var zo=S((hr,yf)=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.default=void 0;hr.readCollation=Ko;var WA=Mu(),GA=cr(),t0=pn();function Ko(n,t){n.readBuffer(5,r=>{t(WA.Collation.fromBuffer(r))})}function KA(n,t){n.readUInt8(r=>{r===1?n.readBVarChar(u=>{n.readBVarChar(f=>{n.readUsVarChar(l=>{t({dbname:u,owningSchema:f,xmlSchemaCollection:l})})})}):t(void 0)})}function zA(n,t){n.readUInt16LE(r=>{n.readBVarChar(u=>{n.readBVarChar(f=>{n.readBVarChar(l=>{n.readUsVarChar(h=>{t({maxByteSize:r,dbname:u,owningSchema:f,typeName:l,assemblyName:h})})})})})})}function n0(n,t,r){(t.tdsVersion<"7_2"?n.readUInt16LE:n.readUInt32LE).call(n,u=>{n.readUInt16LE(f=>{n.readUInt8(l=>{let h=GA.TYPE[l];if(!h)throw new Error((0,t0.sprintf)("Unrecognised data type 0x%02X",l));switch(h.name){case"Null":case"TinyInt":case"SmallInt":case"Int":case"BigInt":case"Real":case"Float":case"SmallMoney":case"Money":case"Bit":case"SmallDateTime":case"DateTime":case"Date":return r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:void 0});case"IntN":case"FloatN":case"MoneyN":case"BitN":case"UniqueIdentifier":case"DateTimeN":return n.readUInt8(E=>{r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"Variant":return n.readUInt32LE(E=>{r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"VarChar":case"Char":case"NVarChar":case"NChar":return n.readUInt16LE(E=>{Ko(n,v=>{r({userType:u,flags:f,type:h,collation:v,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})})});case"Text":case"NText":return n.readUInt32LE(E=>{Ko(n,v=>{r({userType:u,flags:f,type:h,collation:v,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})})});case"VarBinary":case"Binary":return n.readUInt16LE(E=>{r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"Image":return n.readUInt32LE(E=>{r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:E,schema:void 0,udtInfo:void 0})});case"Xml":return KA(n,E=>{r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:E,udtInfo:void 0})});case"Time":case"DateTime2":case"DateTimeOffset":return n.readUInt8(E=>{r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:E,dataLength:void 0,schema:void 0,udtInfo:void 0})});case"NumericN":case"DecimalN":return n.readUInt8(E=>{n.readUInt8(v=>{n.readUInt8(O=>{r({userType:u,flags:f,type:h,collation:void 0,precision:v,scale:O,dataLength:E,schema:void 0,udtInfo:void 0})})})});case"UDT":return zA(n,E=>{r({userType:u,flags:f,type:h,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:E})});default:throw new Error((0,t0.sprintf)("Unrecognised type %s",h.name))}})})})}var ZA=n0;hr.default=ZA;yf.exports=n0;yf.exports.readCollation=Ko});var o0=S((Zo,i0)=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.default=void 0;var $A=XA(zo()),jA=Le();function XA(n){return n&&n.__esModule?n:{default:n}}function JA(n,t,r,u){r.type.hasTableName?t.tdsVersion>="7_2"?n.readUInt8(f=>{let l=[],h=0;function E(v){if(f===h)return v();n.readUsVarChar(O=>{l.push(O),h++,E(v)})}E(()=>{u(l)})}):n.readUsVarChar(u):u(void 0)}function QA(n,t,r,u,f){n.readBVarChar(l=>{t.columnNameReplacer?f(t.columnNameReplacer(l,r,u)):t.camelCaseColumns?f(l.replace(/^[A-Z]/,function(h){return h.toLowerCase()})):f(l)})}function eD(n,t,r,u){(0,$A.default)(n,t,f=>{JA(n,t,f,l=>{QA(n,t,r,f,h=>{u({userType:f.userType,flags:f.flags,type:f.type,collation:f.collation,precision:f.precision,scale:f.scale,udtInfo:f.udtInfo,dataLength:f.dataLength,schema:f.schema,colName:h,tableName:l})})})})}async function r0(n){for(;n.buffer.length-n.position<2;)await n.streamBuffer.waitForChunk();let t=n.buffer.readUInt16LE(n.position);n.position+=2;let r=[];for(let u=0;u<t;u++){let f;for(eD(n,n.options,u,l=>{f=l});n.suspended;){await n.streamBuffer.waitForChunk(),n.suspended=!1;let l=n.next;l()}r.push(f)}return new jA.ColMetadataToken(r)}var tD=r0;Zo.default=tD;i0.exports=r0});var s0=S(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.doneInProcParser=rD;pr.doneParser=nD;pr.doneProcParser=iD;var Tf=Le(),dr={MORE:1,ERROR:2,INXACT:4,COUNT:16,ATTN:32,SRVERROR:256};function wf(n,t,r){n.readUInt16LE(u=>{let f=!!(u&dr.MORE),l=!!(u&dr.ERROR),h=!!(u&dr.COUNT),E=!!(u&dr.ATTN),v=!!(u&dr.SRVERROR);n.readUInt16LE(O=>{let A=b=>{r({more:f,sqlError:l,attention:E,serverError:v,rowCount:h?b:void 0,curCmd:O})};t.tdsVersion<"7_2"?n.readUInt32LE(A):n.readBigUInt64LE(b=>{A(Number(b))})})})}function nD(n,t,r){wf(n,t,u=>{r(new Tf.DoneToken(u))})}function rD(n,t,r){wf(n,t,u=>{r(new Tf.DoneInProcToken(u))})}function iD(n,t,r){wf(n,t,u=>{r(new Tf.DoneProcToken(u))})}});var l0=S(($o,f0)=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.default=void 0;var a0=Mu(),at=Le(),oD={1:{name:"DATABASE",event:"databaseChange"},2:{name:"LANGUAGE",event:"languageChange"},3:{name:"CHARSET",event:"charsetChange"},4:{name:"PACKET_SIZE",event:"packetSizeChange"},7:{name:"SQL_COLLATION",event:"sqlCollationChange"},8:{name:"BEGIN_TXN",event:"beginTransaction"},9:{name:"COMMIT_TXN",event:"commitTransaction"},10:{name:"ROLLBACK_TXN",event:"rollbackTransaction"},13:{name:"DATABASE_MIRRORING_PARTNER",event:"partnerNode"},17:{name:"TXN_ENDED"},18:{name:"RESET_CONNECTION",event:"resetConnection"},20:{name:"ROUTING_CHANGE",event:"routingChange"}};function sD(n,t,r,u){switch(r.name){case"DATABASE":case"LANGUAGE":case"CHARSET":case"PACKET_SIZE":case"DATABASE_MIRRORING_PARTNER":return n.readBVarChar(f=>{n.readBVarChar(l=>{switch(r.name){case"PACKET_SIZE":return u(new at.PacketSizeEnvChangeToken(parseInt(f),parseInt(l)));case"DATABASE":return u(new at.DatabaseEnvChangeToken(f,l));case"LANGUAGE":return u(new at.LanguageEnvChangeToken(f,l));case"CHARSET":return u(new at.CharsetEnvChangeToken(f,l));case"DATABASE_MIRRORING_PARTNER":return u(new at.DatabaseMirroringPartnerEnvChangeToken(f,l))}})});case"SQL_COLLATION":case"BEGIN_TXN":case"COMMIT_TXN":case"ROLLBACK_TXN":case"RESET_CONNECTION":return n.readBVarByte(f=>{n.readBVarByte(l=>{switch(r.name){case"SQL_COLLATION":{let h=f.length?a0.Collation.fromBuffer(f):void 0,E=l.length?a0.Collation.fromBuffer(l):void 0;return u(new at.CollationChangeToken(h,E))}case"BEGIN_TXN":return u(new at.BeginTransactionEnvChangeToken(f,l));case"COMMIT_TXN":return u(new at.CommitTransactionEnvChangeToken(f,l));case"ROLLBACK_TXN":return u(new at.RollbackTransactionEnvChangeToken(f,l));case"RESET_CONNECTION":return u(new at.ResetConnectionEnvChangeToken(f,l))}})});case"ROUTING_CHANGE":return n.readUInt16LE(f=>{n.readBuffer(f,l=>{let h=l.readUInt8(0);if(h!==0)throw new Error("Unknown protocol byte in routing change event");let E=l.readUInt16LE(1),v=l.readUInt16LE(3),O=l.toString("ucs2",5,5+v*2),A={protocol:h,port:E,server:O};n.readUInt16LE(b=>{n.readBuffer(b,C=>{u(new at.RoutingEnvChangeToken(A,C))})})})});default:console.error("Tedious > Unsupported ENVCHANGE type "+r.name),n.readBuffer(t-1,()=>{u(void 0)})}}function u0(n,t,r){n.readUInt16LE(u=>{n.readUInt8(f=>{let l=oD[f];if(!l)return console.error("Tedious > Unsupported ENVCHANGE type "+f),n.readBuffer(u-1,()=>{r(void 0)});sD(n,u,l,h=>{r(h)})})})}var aD=u0;$o.default=aD;f0.exports=u0});var d0=S(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.errorParser=fD;jo.infoParser=uD;var c0=Le();function h0(n,t,r){n.readUInt16LE(()=>{n.readUInt32LE(u=>{n.readUInt8(f=>{n.readUInt8(l=>{n.readUsVarChar(h=>{n.readBVarChar(E=>{n.readBVarChar(v=>{(t.tdsVersion<"7_2"?n.readUInt16LE:n.readUInt32LE).call(n,O=>{r({number:u,state:f,class:l,message:h,serverName:E,procName:v,lineNumber:O})})})})})})})})})}function uD(n,t,r){h0(n,t,u=>{r(new c0.InfoMessageToken(u))})}function fD(n,t,r){h0(n,t,u=>{r(new c0.ErrorMessageToken(u))})}});var E0=S((Xo,m0)=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.default=void 0;var lD=Le(),p0={STSURL:1,SPN:2};function _0(n,t,r){n.readUInt32LE(u=>{n.readBuffer(u,f=>{let l,h,E=0,v=f.readUInt32LE(E);E+=4;for(let O=0;O<v;O++){let A=f.readUInt8(E);E+=1;let b=f.readUInt32LE(E);E+=4;let C=f.readUInt32LE(E);switch(E+=4,A){case p0.SPN:l=f.toString("ucs2",C,C+b);break;case p0.STSURL:h=f.toString("ucs2",C,C+b);break;default:break}}r(new lD.FedAuthInfoToken(l,h))})})}var cD=_0;Xo.default=cD;m0.exports=_0});var y0=S((Jo,g0)=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.default=void 0;var hD=Le(),Sf={SESSIONRECOVERY:1,FEDAUTH:2,COLUMNENCRYPTION:4,GLOBALTRANSACTIONS:5,AZURESQLSUPPORT:8,UTF8_SUPPORT:10,TERMINATOR:255};function v0(n,t,r){let u,f;function l(){n.readUInt8(h=>{if(h===Sf.TERMINATOR)return r(new hD.FeatureExtAckToken(u,f));n.readUInt32LE(E=>{n.readBuffer(E,v=>{switch(h){case Sf.FEDAUTH:u=v;break;case Sf.UTF8_SUPPORT:f=!!v[0];break}l()})})})}l()}var dD=v0;Jo.default=dD;g0.exports=v0});var S0=S((Qo,w0)=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.default=void 0;var pD=Le(),_D=Xn(),mD={0:"SQL_DFLT",1:"SQL_TSQL"};function T0(n,t,r){n.readUInt16LE(()=>{n.readUInt8(u=>{let f=mD[u];n.readUInt32BE(l=>{let h=_D.versionsByValue[l];n.readBVarChar(E=>{n.readUInt8(v=>{n.readUInt8(O=>{n.readUInt8(A=>{n.readUInt8(b=>{r(new pD.LoginAckToken({interface:f,tdsVersion:h,progName:E,progVersion:{major:v,minor:O,buildNumHi:A,buildNumLow:b}}))})})})})})})})})}var ED=T0;Qo.default=ED;w0.exports=T0});var I0=S((es,N0)=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.default=void 0;var vD=Le();function O0(n,t,r){n.readUInt16LE(u=>{let f=u/2,l=[],h=0;function E(v){if(h===f)return v();n.readUInt16LE(O=>{l.push(O),h++,E(v)})}E(()=>{r(new vD.OrderToken(l))})})}var gD=O0;es.default=gD;N0.exports=O0});var b0=S((ts,D0)=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.default=void 0;var yD=Le();function A0(n,t,r){n.readInt32LE(u=>{r(new yD.ReturnStatusToken(u))})}var TD=A0;ts.default=TD;D0.exports=A0});var is=S((rs,H0)=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.default=void 0;var R0=zo(),wD=cr(),P0=SD(require("iconv-lite")),If=pn(),L0=Yu();function SD(n){return n&&n.__esModule?n:{default:n}}var Of=(1<<16)-1,Nf=(1<<16)-1,OD=3+1/3,F0=1e4,ND=Buffer.from([255,255,255,255,255,255,255,255]),ID=Buffer.from([254,255,255,255,255,255,255,255]),x0="utf8";function Af(n,t){n.readUInt8(t)}function Df(n,t){n.readInt16LE(t)}function bf(n,t){n.readInt32LE(t)}function Rf(n,t){n.readBigInt64LE(r=>{t(r.toString())})}function Lf(n,t){n.readFloatLE(t)}function Cf(n,t){n.readDoubleLE(t)}function Mf(n,t){n.readInt32LE(r=>{t(r/F0)})}function Pf(n,t){n.readInt32LE(r=>{n.readUInt32LE(u=>{t((u+4294967296*r)/F0)})})}function Ff(n,t){n.readUInt8(r=>{t(!!r)})}function U0(n,t,r,u){let f=t.type;switch(f.name){case"Null":return u(null);case"TinyInt":return Af(n,u);case"SmallInt":return Df(n,u);case"Int":return bf(n,u);case"BigInt":return Rf(n,u);case"IntN":return n.readUInt8(h=>{switch(h){case 0:return u(null);case 1:return Af(n,u);case 2:return Df(n,u);case 4:return bf(n,u);case 8:return Rf(n,u);default:throw new Error("Unsupported dataLength "+h+" for IntN")}});case"Real":return Lf(n,u);case"Float":return Cf(n,u);case"FloatN":return n.readUInt8(h=>{switch(h){case 0:return u(null);case 4:return Lf(n,u);case 8:return Cf(n,u);default:throw new Error("Unsupported dataLength "+h+" for FloatN")}});case"SmallMoney":return Mf(n,u);case"Money":return Pf(n,u);case"MoneyN":return n.readUInt8(h=>{switch(h){case 0:return u(null);case 4:return Mf(n,u);case 8:return Pf(n,u);default:throw new Error("Unsupported dataLength "+h+" for MoneyN")}});case"Bit":return Ff(n,u);case"BitN":return n.readUInt8(h=>{switch(h){case 0:return u(null);case 1:return Ff(n,u);default:throw new Error("Unsupported dataLength "+h+" for BitN")}});case"VarChar":case"Char":let l=t.collation.codepage;return t.dataLength===Nf?DD(n,l,u):n.readUInt16LE(h=>{if(h===Of)return u(null);Uf(n,h,l,u)});case"NVarChar":case"NChar":return t.dataLength===Nf?M0(n,u):n.readUInt16LE(h=>{if(h===Of)return u(null);Bf(n,h,u)});case"VarBinary":case"Binary":return t.dataLength===Nf?C0(n,u):n.readUInt16LE(h=>{if(h===Of)return u(null);xf(n,h,u)});case"Text":return n.readUInt8(h=>{if(h===0)return u(null);n.readBuffer(h,E=>{n.readBuffer(8,v=>{n.readUInt32LE(O=>{Uf(n,O,t.collation.codepage,u)})})})});case"NText":return n.readUInt8(h=>{if(h===0)return u(null);n.readBuffer(h,E=>{n.readBuffer(8,v=>{n.readUInt32LE(O=>{Bf(n,O,u)})})})});case"Image":return n.readUInt8(h=>{if(h===0)return u(null);n.readBuffer(h,E=>{n.readBuffer(8,v=>{n.readUInt32LE(O=>{xf(n,O,u)})})})});case"Xml":return M0(n,u);case"SmallDateTime":return Yf(n,r.useUTC,u);case"DateTime":return qf(n,r.useUTC,u);case"DateTimeN":return n.readUInt8(h=>{switch(h){case 0:return u(null);case 4:return Yf(n,r.useUTC,u);case 8:return qf(n,r.useUTC,u);default:throw new Error("Unsupported dataLength "+h+" for DateTimeN")}});case"Time":return n.readUInt8(h=>h===0?u(null):ns(n,h,t.scale,r.useUTC,u));case"Date":return n.readUInt8(h=>h===0?u(null):q0(n,r.useUTC,u));case"DateTime2":return n.readUInt8(h=>h===0?u(null):k0(n,h,t.scale,r.useUTC,u));case"DateTimeOffset":return n.readUInt8(h=>h===0?u(null):V0(n,h,t.scale,u));case"NumericN":case"DecimalN":return n.readUInt8(h=>h===0?u(null):Y0(n,h,t.precision,t.scale,u));case"UniqueIdentifier":return n.readUInt8(h=>{switch(h){case 0:return u(null);case 16:return B0(n,r,u);default:throw new Error((0,If.sprintf)("Unsupported guid size %d",h-1))}});case"UDT":return C0(n,u);case"Variant":return n.readUInt32LE(h=>{if(h===0)return u(null);AD(n,r,h,u)});default:throw new Error((0,If.sprintf)("Unrecognised type %s",f.name))}}function B0(n,t,r){n.readBuffer(16,u=>{r(t.lowerCaseGuids?(0,L0.bufferToLowerCaseGuid)(u):(0,L0.bufferToUpperCaseGuid)(u))})}function Y0(n,t,r,u,f){n.readUInt8(l=>{l=l===1?1:-1;let h;if(t===5)h=n.readUInt32LE;else if(t===9)h=n.readUNumeric64LE;else if(t===13)h=n.readUNumeric96LE;else if(t===17)h=n.readUNumeric128LE;else throw new Error((0,If.sprintf)("Unsupported numeric dataLength %d",t));h.call(n,E=>{f(E*l/Math.pow(10,u))})})}function AD(n,t,r,u){return n.readUInt8(f=>{let l=wD.TYPE[f];return n.readUInt8(h=>{switch(r=r-h-2,l.name){case"UniqueIdentifier":return B0(n,t,u);case"Bit":return Ff(n,u);case"TinyInt":return Af(n,u);case"SmallInt":return Df(n,u);case"Int":return bf(n,u);case"BigInt":return Rf(n,u);case"SmallDateTime":return Yf(n,t.useUTC,u);case"DateTime":return qf(n,t.useUTC,u);case"Real":return Lf(n,u);case"Float":return Cf(n,u);case"SmallMoney":return Mf(n,u);case"Money":return Pf(n,u);case"Date":return q0(n,t.useUTC,u);case"Time":return n.readUInt8(E=>ns(n,r,E,t.useUTC,u));case"DateTime2":return n.readUInt8(E=>k0(n,r,E,t.useUTC,u));case"DateTimeOffset":return n.readUInt8(E=>V0(n,r,E,u));case"VarBinary":case"Binary":return n.readUInt16LE(E=>{xf(n,r,u)});case"NumericN":case"DecimalN":return n.readUInt8(E=>{n.readUInt8(v=>{Y0(n,r,E,v,u)})});case"VarChar":case"Char":return n.readUInt16LE(E=>{(0,R0.readCollation)(n,v=>{Uf(n,r,v.codepage,u)})});case"NVarChar":case"NChar":return n.readUInt16LE(E=>{(0,R0.readCollation)(n,v=>{Bf(n,r,u)})});default:throw new Error("Invalid type!")}})})}function xf(n,t,r){return n.readBuffer(t,r)}function Uf(n,t,r,u){return r==null&&(r=x0),n.readBuffer(t,f=>{u(P0.default.decode(f,r))})}function Bf(n,t,r){n.readBuffer(t,u=>{r(u.toString("ucs2"))})}function C0(n,t){return kf(n,t)}function DD(n,t,r){t==null&&(t=x0),kf(n,u=>{r(u?P0.default.decode(u,t):null)})}function M0(n,t){kf(n,r=>{t(r?r.toString("ucs2"):null)})}function kf(n,t){n.readBuffer(8,r=>{if(r.equals(ND))return t(null);if(r.equals(ID))return RD(n,t);{let u=r.readUInt32LE(0),f=r.readUInt32LE(4);f>=2<<53-32&&console.warn("Read UInt64LE > 53 bits : high="+f+", low="+u);let l=u+4294967296*f;return bD(n,l,t)}})}function bD(n,t,r){let u=Buffer.alloc(t,0),f=0;function l(h){n.readUInt32LE(E=>{if(!E)return h();n.readBuffer(E,v=>{v.copy(u,f),f+=E,l(h)})})}l(()=>{if(f!==t)throw new Error("Partially Length-prefixed Bytes unmatched lengths : expected "+t+", but got "+f+" bytes");r(u)})}function RD(n,t){let r=[],u=0;function f(l){n.readUInt32LE(h=>{if(!h)return l();n.readBuffer(h,E=>{r.push(E),u+=h,f(l)})})}f(()=>{t(Buffer.concat(r,u))})}function Yf(n,t,r){n.readUInt16LE(u=>{n.readUInt16LE(f=>{let l;t?l=new Date(Date.UTC(1900,0,1+u,0,f)):l=new Date(1900,0,1+u,0,f),r(l)})})}function qf(n,t,r){n.readInt32LE(u=>{n.readUInt32LE(f=>{let l=Math.round(f*OD),h;t?h=new Date(Date.UTC(1900,0,1+u,0,0,0,l)):h=new Date(1900,0,1+u,0,0,0,l),r(h)})})}function ns(n,t,r,u,f){let l;switch(t){case 3:l=n.readUInt24LE;break;case 4:l=n.readUInt32LE;break;case 5:l=n.readUInt40LE}l.call(n,h=>{if(r<7)for(let v=r;v<7;v++)h*=10;let E;u?E=new Date(Date.UTC(1970,0,1,0,0,0,h/1e4)):E=new Date(1970,0,1,0,0,0,h/1e4),Object.defineProperty(E,"nanosecondsDelta",{enumerable:!1,value:h%1e4/Math.pow(10,7)}),f(E)})}function q0(n,t,r){n.readUInt24LE(u=>{r(t?new Date(Date.UTC(2e3,0,u-730118)):new Date(2e3,0,u-730118))})}function k0(n,t,r,u,f){ns(n,t-3,r,u,l=>{n.readUInt24LE(h=>{let E;u?E=new Date(Date.UTC(2e3,0,h-730118,0,0,0,+l)):E=new Date(2e3,0,h-730118,l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),Object.defineProperty(E,"nanosecondsDelta",{enumerable:!1,value:l.nanosecondsDelta}),f(E)})})}function V0(n,t,r,u){ns(n,t-5,r,!0,f=>{n.readUInt24LE(l=>{n.readInt16LE(()=>{let h=new Date(Date.UTC(2e3,0,l-730118,0,0,0,+f));Object.defineProperty(h,"nanosecondsDelta",{enumerable:!1,value:f.nanosecondsDelta}),u(h)})})})}var LD=U0;rs.default=LD;H0.exports=U0});var z0=S((os,K0)=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.default=void 0;var CD=Le(),MD=W0(zo()),PD=W0(is());function W0(n){return n&&n.__esModule?n:{default:n}}function G0(n,t,r){n.readUInt16LE(u=>{n.readBVarChar(f=>{f.charAt(0)==="@"&&(f=f.slice(1)),n.readUInt8(()=>{(0,MD.default)(n,t,l=>{(0,PD.default)(n,l,t,h=>{r(new CD.ReturnValueToken({paramOrdinal:u,paramName:f,metadata:l,value:h}))})})})})})}var FD=G0;os.default=FD;K0.exports=G0});var X0=S((ss,j0)=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.default=void 0;var Z0=Le(),xD=UD(is());function UD(n){return n&&n.__esModule?n:{default:n}}async function $0(n){let t=n.colMetadata,r=t.length,u=[];for(let f=0;f<r;f++){let l=t[f],h;for((0,xD.default)(n,l,n.options,E=>{h=E});n.suspended;){await n.streamBuffer.waitForChunk(),n.suspended=!1;let E=n.next;E()}u.push({value:h,metadata:l})}if(n.options.useColumnNames){let f=Object.create(null);return u.forEach(l=>{let h=l.metadata.colName;f[h]==null&&(f[h]=l)}),new Z0.RowToken(f)}else return new Z0.RowToken(u)}var BD=$0;ss.default=BD;j0.exports=$0});var tm=S((as,em)=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.default=void 0;var J0=Le(),YD=qD(is());function qD(n){return n&&n.__esModule?n:{default:n}}function kD(n,t,r,u){u(null)}async function Q0(n){let t=n.colMetadata,r=Math.ceil(t.length/8),u=[],f=[];for(;n.buffer.length-n.position<r;)await n.streamBuffer.waitForChunk();let l=n.buffer.slice(n.position,n.position+r);n.position+=r;for(let h=0,E=l.length;h<E;h++){let v=l[h];f.push(!!(v&1)),f.push(!!(v&2)),f.push(!!(v&4)),f.push(!!(v&8)),f.push(!!(v&16)),f.push(!!(v&32)),f.push(!!(v&64)),f.push(!!(v&128))}for(let h=0;h<t.length;h++){let E=t[h],v;for((f[h]?kD:YD.default)(n,E,n.options,O=>{v=O});n.suspended;){await n.streamBuffer.waitForChunk(),n.suspended=!1;let O=n.next;O()}u.push({value:v,metadata:E})}if(n.options.useColumnNames){let h={};return u.forEach(E=>{let v=E.metadata.colName;h[v]==null&&(h[v]=E)}),new J0.NBCRowToken(h)}else return new J0.NBCRowToken(u)}var VD=Q0;as.default=VD;em.exports=Q0});var im=S((us,rm)=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.default=void 0;var HD=Le();function WD(n){let t={};return t.magic=n.slice(0,8).toString("utf8"),t.type=n.readInt32LE(8),t.domainLen=n.readInt16LE(12),t.domainMax=n.readInt16LE(14),t.domainOffset=n.readInt32LE(16),t.flags=n.readInt32LE(20),t.nonce=n.slice(24,32),t.zeroes=n.slice(32,40),t.targetLen=n.readInt16LE(40),t.targetMax=n.readInt16LE(42),t.targetOffset=n.readInt32LE(44),t.oddData=n.slice(48,56),t.domain=n.slice(56,56+t.domainLen).toString("ucs2"),t.target=n.slice(56+t.domainLen,56+t.domainLen+t.targetLen),t}function nm(n,t,r){n.readUsVarByte(u=>{r(new HD.SSPIToken(WD(u),u))})}var GD=nm;us.default=GD;rm.exports=nm});var um=S((fs,am)=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.default=void 0;var Ie=Le(),KD=ut(o0()),Vf=s0(),zD=ut(l0()),om=d0(),ZD=ut(E0()),$D=ut(y0()),jD=ut(S0()),XD=ut(I0()),JD=ut(b0()),QD=ut(z0()),eb=ut(X0()),tb=ut(tm()),nb=ut(im());function ut(n){return n&&n.__esModule?n:{default:n}}var sm={[Ie.TYPE.DONE]:Vf.doneParser,[Ie.TYPE.DONEINPROC]:Vf.doneInProcParser,[Ie.TYPE.DONEPROC]:Vf.doneProcParser,[Ie.TYPE.ENVCHANGE]:zD.default,[Ie.TYPE.ERROR]:om.errorParser,[Ie.TYPE.FEDAUTHINFO]:ZD.default,[Ie.TYPE.FEATUREEXTACK]:$D.default,[Ie.TYPE.INFO]:om.infoParser,[Ie.TYPE.LOGINACK]:jD.default,[Ie.TYPE.ORDER]:XD.default,[Ie.TYPE.RETURNSTATUS]:JD.default,[Ie.TYPE.RETURNVALUE]:QD.default,[Ie.TYPE.SSPI]:nb.default},Hf=class{constructor(t){this.iterator=void 0,this.buffer=void 0,this.position=void 0,this.iterator=(t[Symbol.asyncIterator]||t[Symbol.iterator]).call(t),this.buffer=Buffer.alloc(0),this.position=0}async waitForChunk(){let t=await this.iterator.next();if(t.done)throw new Error("unexpected end of data");this.position===this.buffer.length?this.buffer=t.value:this.buffer=Buffer.concat([this.buffer.slice(this.position),t.value]),this.position=0}},In=class{static async*parseTokens(t,r,u,f=[]){let l,h=O=>{l=O},E=new Hf(t),v=new In(E,r,u);for(v.colMetadata=f;;){try{await E.waitForChunk()}catch(O){if(E.position===E.buffer.length)return;throw O}if(v.suspended){v.suspended=!1;let O=v.next;O(),!v.suspended&&l&&(l instanceof Ie.ColMetadataToken&&(v.colMetadata=l.columns),yield l)}for(;!v.suspended&&v.position+1<=v.buffer.length;){let O=v.buffer.readUInt8(v.position);if(v.position+=1,O===Ie.TYPE.COLMETADATA){let A=await(0,KD.default)(v);v.colMetadata=A.columns,yield A}else if(O===Ie.TYPE.ROW)yield(0,eb.default)(v);else if(O===Ie.TYPE.NBCROW)yield(0,tb.default)(v);else if(sm[O])sm[O](v,v.options,h),!v.suspended&&l&&(l instanceof Ie.ColMetadataToken&&(v.colMetadata=l.columns),yield l);else throw new Error("Unknown type: "+O)}}}constructor(t,r,u){this.debug=void 0,this.colMetadata=void 0,this.options=void 0,this.suspended=void 0,this.next=void 0,this.streamBuffer=void 0,this.debug=r,this.colMetadata=[],this.options=u,this.streamBuffer=t,this.suspended=!1,this.next=void 0}get buffer(){return this.streamBuffer.buffer}get position(){return this.streamBuffer.position}set position(t){this.streamBuffer.position=t}suspend(t){this.suspended=!0,this.next=t}awaitData(t,r){this.position+t<=this.buffer.length?r():this.suspend(()=>{this.awaitData(t,r)})}readInt8(t){this.awaitData(1,()=>{let r=this.buffer.readInt8(this.position);this.position+=1,t(r)})}readUInt8(t){this.awaitData(1,()=>{let r=this.buffer.readUInt8(this.position);this.position+=1,t(r)})}readInt16LE(t){this.awaitData(2,()=>{let r=this.buffer.readInt16LE(this.position);this.position+=2,t(r)})}readInt16BE(t){this.awaitData(2,()=>{let r=this.buffer.readInt16BE(this.position);this.position+=2,t(r)})}readUInt16LE(t){this.awaitData(2,()=>{let r=this.buffer.readUInt16LE(this.position);this.position+=2,t(r)})}readUInt16BE(t){this.awaitData(2,()=>{let r=this.buffer.readUInt16BE(this.position);this.position+=2,t(r)})}readInt32LE(t){this.awaitData(4,()=>{let r=this.buffer.readInt32LE(this.position);this.position+=4,t(r)})}readInt32BE(t){this.awaitData(4,()=>{let r=this.buffer.readInt32BE(this.position);this.position+=4,t(r)})}readUInt32LE(t){this.awaitData(4,()=>{let r=this.buffer.readUInt32LE(this.position);this.position+=4,t(r)})}readUInt32BE(t){this.awaitData(4,()=>{let r=this.buffer.readUInt32BE(this.position);this.position+=4,t(r)})}readBigInt64LE(t){this.awaitData(8,()=>{let r=this.buffer.readBigInt64LE(this.position);this.position+=8,t(r)})}readInt64LE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readInt32LE(this.position+4)+((this.buffer[this.position+4]&128)===128?1:-1)*this.buffer.readUInt32LE(this.position);this.position+=8,t(r)})}readInt64BE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readInt32BE(this.position)+((this.buffer[this.position]&128)===128?1:-1)*this.buffer.readUInt32BE(this.position+4);this.position+=8,t(r)})}readBigUInt64LE(t){this.awaitData(8,()=>{let r=this.buffer.readBigUInt64LE(this.position);this.position+=8,t(r)})}readUInt64LE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readUInt32LE(this.position+4)+this.buffer.readUInt32LE(this.position);this.position+=8,t(r)})}readUInt64BE(t){this.awaitData(8,()=>{let r=Math.pow(2,32)*this.buffer.readUInt32BE(this.position)+this.buffer.readUInt32BE(this.position+4);this.position+=8,t(r)})}readFloatLE(t){this.awaitData(4,()=>{let r=this.buffer.readFloatLE(this.position);this.position+=4,t(r)})}readFloatBE(t){this.awaitData(4,()=>{let r=this.buffer.readFloatBE(this.position);this.position+=4,t(r)})}readDoubleLE(t){this.awaitData(8,()=>{let r=this.buffer.readDoubleLE(this.position);this.position+=8,t(r)})}readDoubleBE(t){this.awaitData(8,()=>{let r=this.buffer.readDoubleBE(this.position);this.position+=8,t(r)})}readUInt24LE(t){this.awaitData(3,()=>{let r=this.buffer.readUInt16LE(this.position),u=this.buffer.readUInt8(this.position+2);this.position+=3,t(r|u<<16)})}readUInt40LE(t){this.awaitData(5,()=>{let r=this.buffer.readUInt32LE(this.position),u=this.buffer.readUInt8(this.position+4);this.position+=5,t(4294967296*u+r)})}readUNumeric64LE(t){this.awaitData(8,()=>{let r=this.buffer.readUInt32LE(this.position),u=this.buffer.readUInt32LE(this.position+4);this.position+=8,t(4294967296*u+r)})}readUNumeric96LE(t){this.awaitData(12,()=>{let r=this.buffer.readUInt32LE(this.position),u=this.buffer.readUInt32LE(this.position+4),f=this.buffer.readUInt32LE(this.position+8);this.position+=12,t(r+4294967296*u+4294967296*4294967296*f)})}readUNumeric128LE(t){this.awaitData(16,()=>{let r=this.buffer.readUInt32LE(this.position),u=this.buffer.readUInt32LE(this.position+4),f=this.buffer.readUInt32LE(this.position+8),l=this.buffer.readUInt32LE(this.position+12);this.position+=16,t(r+4294967296*u+4294967296*4294967296*f+4294967296*4294967296*4294967296*l)})}readBuffer(t,r){this.awaitData(t,()=>{let u=this.buffer.slice(this.position,this.position+t);this.position+=t,r(u)})}readBVarChar(t){this.readUInt8(r=>{this.readBuffer(r*2,u=>{t(u.toString("ucs2"))})})}readUsVarChar(t){this.readUInt16LE(r=>{this.readBuffer(r*2,u=>{t(u.toString("ucs2"))})})}readBVarByte(t){this.readUInt8(r=>{this.readBuffer(r,t)})}readUsVarByte(t){this.readUInt16LE(r=>{this.readBuffer(r,t)})}},rb=In;fs.default=rb;am.exports=In});var fm=S(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.Parser=void 0;var ib=require("events"),ob=ab(um()),sb=require("stream");function ab(n){return n&&n.__esModule?n:{default:n}}var Wf=class extends ib.EventEmitter{constructor(t,r,u,f){super(),this.debug=void 0,this.options=void 0,this.parser=void 0,this.debug=r,this.options=f,this.parser=sb.Readable.from(ob.default.parseTokens(t,this.debug,this.options)),this.parser.on("data",l=>{u[l.handlerName](l)}),this.parser.on("drain",()=>{this.emit("drain")}),this.parser.on("end",()=>{this.emit("end")})}pause(){return this.parser.pause()}resume(){return this.parser.resume()}};ls.Parser=Wf});var zf=S(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.Transaction=ft.OPERATION_TYPE=ft.ISOLATION_LEVEL=void 0;ft.assertValidIsolationLevel=fb;ft.isolationLevelByValue=void 0;var cs=ub(Ye()),hs=gi();function ub(n){return n&&n.__esModule?n:{default:n}}var _r={TM_GET_DTC_ADDRESS:0,TM_PROPAGATE_XACT:1,TM_BEGIN_XACT:5,TM_PROMOTE_XACT:6,TM_COMMIT_XACT:7,TM_ROLLBACK_XACT:8,TM_SAVE_XACT:9};ft.OPERATION_TYPE=_r;var Dt={NO_CHANGE:0,READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5};ft.ISOLATION_LEVEL=Dt;var Kf={};ft.isolationLevelByValue=Kf;for(let n in Dt){let t=Dt[n];Kf[t]=n}function fb(n,t){if(typeof n!="number")throw new TypeError(`The "${t}" ${t.includes(".")?"property":"argument"} must be of type number. Received type ${typeof n} (${n})`);if(!Number.isInteger(n))throw new RangeError(`The value of "${t}" is out of range. It must be an integer. Received: ${n}`);if(!(n>=0&&n<=5))throw new RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= 5. Received: ${n}`)}var Gf=class{constructor(t,r=Dt.NO_CHANGE){this.name=void 0,this.isolationLevel=void 0,this.outstandingRequestCount=void 0,this.name=t,this.isolationLevel=r,this.outstandingRequestCount=1}beginPayload(t){let r=new cs.default(100,"ucs2");return(0,hs.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(_r.TM_BEGIN_XACT),r.writeUInt8(this.isolationLevel),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield r.data},toString:()=>"Begin Transaction: name="+this.name+", isolationLevel="+Kf[this.isolationLevel]}}commitPayload(t){let r=new cs.default(100,"ascii");return(0,hs.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(_r.TM_COMMIT_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),r.writeUInt8(0),{*[Symbol.iterator](){yield r.data},toString:()=>"Commit Transaction: name="+this.name}}rollbackPayload(t){let r=new cs.default(100,"ascii");return(0,hs.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(_r.TM_ROLLBACK_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),r.writeUInt8(0),{*[Symbol.iterator](){yield r.data},toString:()=>"Rollback Transaction: name="+this.name}}savePayload(t){let r=new cs.default(100,"ascii");return(0,hs.writeToTrackingBuffer)(r,t,this.outstandingRequestCount),r.writeUShort(_r.TM_SAVE_XACT),r.writeUInt8(this.name.length*2),r.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield r.data},toString:()=>"Save Transaction: name="+this.name}}isolationLevelToTSQL(){switch(this.isolationLevel){case Dt.READ_UNCOMMITTED:return"READ UNCOMMITTED";case Dt.READ_COMMITTED:return"READ COMMITTED";case Dt.REPEATABLE_READ:return"REPEATABLE READ";case Dt.SERIALIZABLE:return"SERIALIZABLE";case Dt.SNAPSHOT:return"SNAPSHOT"}return""}};ft.Transaction=Gf});var cm=S((AP,lm)=>{"use strict";var lb="Function.prototype.bind called on incompatible ",Zf=Array.prototype.slice,cb=Object.prototype.toString,hb="[object Function]";lm.exports=function(t){var r=this;if(typeof r!="function"||cb.call(r)!==hb)throw new TypeError(lb+r);for(var u=Zf.call(arguments,1),f,l=function(){if(this instanceof f){var A=r.apply(this,u.concat(Zf.call(arguments)));return Object(A)===A?A:this}else return r.apply(t,u.concat(Zf.call(arguments)))},h=Math.max(0,r.length-u.length),E=[],v=0;v<h;v++)E.push("$"+v);if(f=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this,arguments); }")(l),r.prototype){var O=function(){};O.prototype=r.prototype,f.prototype=new O,O.prototype=null}return f}});var mr=S((DP,hm)=>{"use strict";var db=cm();hm.exports=Function.prototype.bind||db});var $f=S((bP,pm)=>{"use strict";var dm=Object.prototype.toString;pm.exports=function(t){var r=dm.call(t),u=r==="[object Arguments]";return u||(u=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&dm.call(t.callee)==="[object Function]"),u}});var Sm=S((RP,wm)=>{"use strict";var Tm;Object.keys||(Er=Object.prototype.hasOwnProperty,jf=Object.prototype.toString,_m=$f(),Xf=Object.prototype.propertyIsEnumerable,mm=!Xf.call({toString:null},"toString"),Em=Xf.call(function(){},"prototype"),vr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ds=function(n){var t=n.constructor;return t&&t.prototype===n},vm={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},gm=function(){if(typeof window>"u")return!1;for(var n in window)try{if(!vm["$"+n]&&Er.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{ds(window[n])}catch{return!0}}catch{return!0}return!1}(),ym=function(n){if(typeof window>"u"||!gm)return ds(n);try{return ds(n)}catch{return!1}},Tm=function(t){var r=t!==null&&typeof t=="object",u=jf.call(t)==="[object Function]",f=_m(t),l=r&&jf.call(t)==="[object String]",h=[];if(!r&&!u&&!f)throw new TypeError("Object.keys called on a non-object");var E=Em&&u;if(l&&t.length>0&&!Er.call(t,0))for(var v=0;v<t.length;++v)h.push(String(v));if(f&&t.length>0)for(var O=0;O<t.length;++O)h.push(String(O));else for(var A in t)!(E&&A==="prototype")&&Er.call(t,A)&&h.push(String(A));if(mm)for(var b=ym(t),C=0;C<vr.length;++C)!(b&&vr[C]==="constructor")&&Er.call(t,vr[C])&&h.push(vr[C]);return h});var Er,jf,_m,Xf,mm,Em,vr,ds,vm,gm,ym;wm.exports=Tm});var Am=S((LP,Im)=>{"use strict";var pb=Array.prototype.slice,_b=$f(),Om=Object.keys,ps=Om?function(t){return Om(t)}:Sm(),Nm=Object.keys;ps.shim=function(){if(Object.keys){var t=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);t||(Object.keys=function(u){return _b(u)?Nm(pb.call(u)):Nm(u)})}else Object.keys=ps;return Object.keys||ps};Im.exports=ps});var Jf=S((CP,Dm)=>{"use strict";Dm.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),u=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;var f=42;t[r]=f;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var l=Object.getOwnPropertySymbols(t);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(t,r);if(h.value!==f||h.enumerable!==!0)return!1}return!0}});var _s=S((MP,Rm)=>{"use strict";var bm=typeof Symbol<"u"&&Symbol,mb=Jf();Rm.exports=function(){return typeof bm!="function"||typeof Symbol!="function"||typeof bm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:mb()}});var ms=S((PP,Cm)=>{"use strict";var Lm={foo:{}},Eb=Object;Cm.exports=function(){return{__proto__:Lm}.foo===Lm.foo&&!({__proto__:null}instanceof Eb)}});var Ut=S((FP,Mm)=>{"use strict";var vb=mr();Mm.exports=vb.call(Function.call,Object.prototype.hasOwnProperty)});var te=S((xP,Bm)=>{"use strict";var re,Rn=SyntaxError,Um=Function,bn=TypeError,Qf=function(n){try{return Um('"use strict"; return ('+n+").constructor;")()}catch{}},jt=Object.getOwnPropertyDescriptor;if(jt)try{jt({},"")}catch{jt=null}var el=function(){throw new bn},gb=jt?function(){try{return arguments.callee,el}catch{try{return jt(arguments,"callee").get}catch{return el}}}():el,An=_s()(),yb=ms()(),Ae=Object.getPrototypeOf||(yb?function(n){return n.__proto__}:null),Dn={},Tb=typeof Uint8Array>"u"||!Ae?re:Ae(Uint8Array),Xt={"%AggregateError%":typeof AggregateError>"u"?re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?re:ArrayBuffer,"%ArrayIteratorPrototype%":An&&Ae?Ae([][Symbol.iterator]()):re,"%AsyncFromSyncIteratorPrototype%":re,"%AsyncFunction%":Dn,"%AsyncGenerator%":Dn,"%AsyncGeneratorFunction%":Dn,"%AsyncIteratorPrototype%":Dn,"%Atomics%":typeof Atomics>"u"?re:Atomics,"%BigInt%":typeof BigInt>"u"?re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?re:FinalizationRegistry,"%Function%":Um,"%GeneratorFunction%":Dn,"%Int8Array%":typeof Int8Array>"u"?re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":An&&Ae?Ae(Ae([][Symbol.iterator]())):re,"%JSON%":typeof JSON=="object"?JSON:re,"%Map%":typeof Map>"u"?re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!An||!Ae?re:Ae(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?re:Promise,"%Proxy%":typeof Proxy>"u"?re:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!An||!Ae?re:Ae(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":An&&Ae?Ae(""[Symbol.iterator]()):re,"%Symbol%":An?Symbol:re,"%SyntaxError%":Rn,"%ThrowTypeError%":gb,"%TypedArray%":Tb,"%TypeError%":bn,"%Uint8Array%":typeof Uint8Array>"u"?re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?re:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?re:WeakSet};if(Ae)try{null.error}catch(n){Pm=Ae(Ae(n)),Xt["%Error.prototype%"]=Pm}var Pm,wb=function n(t){var r;if(t==="%AsyncFunction%")r=Qf("async function () {}");else if(t==="%GeneratorFunction%")r=Qf("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Qf("async function* () {}");else if(t==="%AsyncGenerator%"){var u=n("%AsyncGeneratorFunction%");u&&(r=u.prototype)}else if(t==="%AsyncIteratorPrototype%"){var f=n("%AsyncGenerator%");f&&Ae&&(r=Ae(f.prototype))}return Xt[t]=r,r},Fm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},gr=mr(),Es=Ut(),Sb=gr.call(Function.call,Array.prototype.concat),Ob=gr.call(Function.apply,Array.prototype.splice),xm=gr.call(Function.call,String.prototype.replace),vs=gr.call(Function.call,String.prototype.slice),Nb=gr.call(Function.call,RegExp.prototype.exec),Ib=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ab=/\\(\\)?/g,Db=function(t){var r=vs(t,0,1),u=vs(t,-1);if(r==="%"&&u!=="%")throw new Rn("invalid intrinsic syntax, expected closing `%`");if(u==="%"&&r!=="%")throw new Rn("invalid intrinsic syntax, expected opening `%`");var f=[];return xm(t,Ib,function(l,h,E,v){f[f.length]=E?xm(v,Ab,"$1"):h||l}),f},bb=function(t,r){var u=t,f;if(Es(Fm,u)&&(f=Fm[u],u="%"+f[0]+"%"),Es(Xt,u)){var l=Xt[u];if(l===Dn&&(l=wb(u)),typeof l>"u"&&!r)throw new bn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:f,name:u,value:l}}throw new Rn("intrinsic "+t+" does not exist!")};Bm.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new bn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new bn('"allowMissing" argument must be a boolean');if(Nb(/^%?[^%]*%?$/,t)===null)throw new Rn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var u=Db(t),f=u.length>0?u[0]:"",l=bb("%"+f+"%",r),h=l.name,E=l.value,v=!1,O=l.alias;O&&(f=O[0],Ob(u,Sb([0,1],O)));for(var A=1,b=!0;A<u.length;A+=1){var C=u[A],q=vs(C,0,1),F=vs(C,-1);if((q==='"'||q==="'"||q==="`"||F==='"'||F==="'"||F==="`")&&q!==F)throw new Rn("property names with quotes must have matching quotes");if((C==="constructor"||!b)&&(v=!0),f+="."+C,h="%"+f+"%",Es(Xt,h))E=Xt[h];else if(E!=null){if(!(C in E)){if(!r)throw new bn("base intrinsic for "+t+" exists, but the property is not available.");return}if(jt&&A+1>=u.length){var y=jt(E,C);b=!!y,b&&"get"in y&&!("originalValue"in y.get)?E=y.get:E=E[C]}else b=Es(E,C),E=E[C];b&&!v&&(Xt[h]=E)}}return E}});var gs=S((UP,Ym)=>{"use strict";var Rb=te(),tl=Rb("%Object.defineProperty%",!0),nl=function(){if(tl)try{return tl({},"a",{value:1}),!0}catch{return!1}return!1};nl.hasArrayLengthDefineBug=function(){if(!nl())return null;try{return tl([],"length",{value:1}).length!==1}catch{return!0}};Ym.exports=nl});var yr=S((BP,Hm)=>{"use strict";var Lb=Am(),Cb=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Mb=Object.prototype.toString,Pb=Array.prototype.concat,qm=Object.defineProperty,Fb=function(n){return typeof n=="function"&&Mb.call(n)==="[object Function]"},xb=gs()(),km=qm&&xb,Ub=function(n,t,r,u){if(t in n){if(u===!0){if(n[t]===r)return}else if(!Fb(u)||!u())return}km?qm(n,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):n[t]=r},Vm=function(n,t){var r=arguments.length>2?arguments[2]:{},u=Lb(t);Cb&&(u=Pb.call(u,Object.getOwnPropertySymbols(t)));for(var f=0;f<u.length;f+=1)Ub(n,u[f],t[u[f]],r[u[f]])};Vm.supportsDescriptors=!!km;Hm.exports=Vm});var Gm=S((YP,Wm)=>{"use strict";var wr=function(){return typeof function(){}.name=="string"},Tr=Object.getOwnPropertyDescriptor;if(Tr)try{Tr([],"length")}catch{Tr=null}wr.functionsHaveConfigurableNames=function(){if(!wr()||!Tr)return!1;var t=Tr(function(){},"name");return!!t&&!!t.configurable};var Bb=Function.prototype.bind;wr.boundFunctionsHaveNames=function(){return wr()&&typeof Bb=="function"&&function(){}.bind().name!==""};Wm.exports=wr});var Xm=S((qP,ys)=>{"use strict";var rl=mr(),Ln=te(),Zm=Ln("%Function.prototype.apply%"),$m=Ln("%Function.prototype.call%"),jm=Ln("%Reflect.apply%",!0)||rl.call($m,Zm),Km=Ln("%Object.getOwnPropertyDescriptor%",!0),Jt=Ln("%Object.defineProperty%",!0),Yb=Ln("%Math.max%");if(Jt)try{Jt({},"a",{value:1})}catch{Jt=null}ys.exports=function(t){var r=jm(rl,$m,arguments);if(Km&&Jt){var u=Km(r,"length");u.configurable&&Jt(r,"length",{value:1+Yb(0,t.length-(arguments.length-1))})}return r};var zm=function(){return jm(rl,Zm,arguments)};Jt?Jt(ys.exports,"apply",{value:zm}):ys.exports.apply=zm});var Qt=S((kP,eE)=>{"use strict";var Jm=te(),Qm=Xm(),qb=Qm(Jm("String.prototype.indexOf"));eE.exports=function(t,r){var u=Jm(t,!!r);return typeof u=="function"&&qb(t,".prototype.")>-1?Qm(u):u}});var il=S((VP,tE)=>{"use strict";tE.exports=function(t){return typeof t=="number"&&t>=55296&&t<=56319}});var ol=S((HP,nE)=>{"use strict";nE.exports=function(t){return typeof t=="number"&&t>=56320&&t<=57343}});var iE=S((WP,rE)=>{"use strict";rE.exports=function(t){if(t===null)return"Null";if(typeof t>"u")return"Undefined";if(typeof t=="function"||typeof t=="object")return"Object";if(typeof t=="number")return"Number";if(typeof t=="boolean")return"Boolean";if(typeof t=="string")return"String"}});var Te=S((GP,oE)=>{"use strict";var kb=iE();oE.exports=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":kb(t)}});var fE=S((KP,uE)=>{"use strict";var aE=te(),Vb=aE("%TypeError%"),sE=aE("%String.fromCharCode%"),Hb=il(),Wb=ol();uE.exports=function(t,r){if(!Hb(t)||!Wb(r))throw new Vb("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return sE(t)+sE(r)}});var _E=S((zP,pE)=>{"use strict";var Gb=te(),lE=Gb("%TypeError%"),dE=Qt(),Kb=il(),cE=ol(),zb=Te(),Zb=fE(),$b=dE("String.prototype.charAt"),hE=dE("String.prototype.charCodeAt");pE.exports=function(t,r){if(zb(t)!=="String")throw new lE("Assertion failed: `string` must be a String");var u=t.length;if(r<0||r>=u)throw new lE("Assertion failed: `position` must be >= 0, and < the length of `string`");var f=hE(t,r),l=$b(t,r),h=Kb(f),E=cE(f);if(!h&&!E)return{"[[CodePoint]]":l,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(E||r+1===u)return{"[[CodePoint]]":l,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var v=hE(t,r+1);return cE(v)?{"[[CodePoint]]":Zb(f,v),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":l,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}});var EE=S((ZP,mE)=>{"use strict";var jb=te(),Xb=jb("%Math.abs%");mE.exports=function(t){return Xb(t)}});var gE=S(($P,vE)=>{"use strict";var Jb=Te(),Qb=Math.floor;vE.exports=function(t){return Jb(t)==="BigInt"?t:Qb(t)}});var Ts=S((jP,yE)=>{"use strict";yE.exports=Number.isNaN||function(t){return t!==t}});var wE=S((XP,TE)=>{"use strict";var eR=Ts();TE.exports=function(n){return(typeof n=="number"||typeof n=="bigint")&&!eR(n)&&n!==1/0&&n!==-1/0}});var OE=S((JP,SE)=>{"use strict";var tR=EE(),nR=gE(),rR=Te(),iR=Ts(),oR=wE();SE.exports=function(t){if(rR(t)!=="Number"||iR(t)||!oR(t))return!1;var r=tR(t);return nR(r)===r}});var AE=S((QP,IE)=>{"use strict";var NE=te(),sR=NE("%Math%"),aR=NE("%Number%");IE.exports=aR.MAX_SAFE_INTEGER||sR.pow(2,53)-1});var al=S((eF,bE)=>{"use strict";var uR=te(),fR=_E(),lR=OE(),DE=Te(),cR=AE(),sl=uR("%TypeError%");bE.exports=function(t,r,u){if(DE(t)!=="String")throw new sl("Assertion failed: `S` must be a String");if(!lR(r)||r<0||r>cR)throw new sl("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(DE(u)!=="Boolean")throw new sl("Assertion failed: `unicode` must be a Boolean");if(!u)return r+1;var f=t.length;if(r+1>=f)return r+1;var l=fR(t,r);return r+l["[[CodeUnitCount]]"]}});var vt=S((tF,RE)=>{"use strict";RE.exports=function(t){return typeof t=="string"||typeof t=="symbol"}});var CE=S((nF,LE)=>{"use strict";var hR=te(),ws=hR("%Object.getOwnPropertyDescriptor%",!0);if(ws)try{ws([],"length")}catch{ws=null}LE.exports=ws});var ul=S((rF,ME)=>{"use strict";var dR=te(),pR=Ut(),_R=dR("%TypeError%");ME.exports=function(t,r){if(t.Type(r)!=="Object")return!1;var u={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var f in r)if(pR(r,f)&&!u[f])return!1;if(t.IsDataDescriptor(r)&&t.IsAccessorDescriptor(r))throw new _R("Property Descriptors may not be both accessor and data descriptors");return!0}});var xE=S((iF,FE)=>{"use strict";var PE=Ut();FE.exports=function(t){return PE(t,"[[StartIndex]]")&&PE(t,"[[EndIndex]]")&&t["[[StartIndex]]"]>=0&&t["[[EndIndex]]"]>=t["[[StartIndex]]"]&&String(parseInt(t["[[StartIndex]]"],10))===String(t["[[StartIndex]]"])&&String(parseInt(t["[[EndIndex]]"],10))===String(t["[[EndIndex]]"])}});var Sr=S((oF,qE)=>{"use strict";var UE=te(),BE=UE("%TypeError%"),mR=UE("%SyntaxError%"),et=Ut(),ER=xE(),YE={"Property Descriptor":function(t){var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!t)return!1;for(var u in t)if(et(t,u)&&!r[u])return!1;var f=et(t,"[[Value]]"),l=et(t,"[[Get]]")||et(t,"[[Set]]");if(f&&l)throw new BE("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":ER,"Iterator Record":function(t){return et(t,"[[Iterator]]")&&et(t,"[[NextMethod]]")&&et(t,"[[Done]]")},"PromiseCapability Record":function(t){return!!t&&et(t,"[[Resolve]]")&&typeof t["[[Resolve]]"]=="function"&&et(t,"[[Reject]]")&&typeof t["[[Reject]]"]=="function"&&et(t,"[[Promise]]")&&t["[[Promise]]"]&&typeof t["[[Promise]]"].then=="function"},"AsyncGeneratorRequest Record":function(t){return!!t&&et(t,"[[Completion]]")&&et(t,"[[Capability]]")&&YE["PromiseCapability Record"](t["[[Capability]]"])}};qE.exports=function(t,r,u,f){var l=YE[r];if(typeof l!="function")throw new mR("unknown record type: "+r);if(t(f)!=="Object"||!l(f))throw new BE(u+" must be a "+r)}});var Ss=S((sF,VE)=>{"use strict";var kE=Ut(),vR=Te(),gR=Sr();VE.exports=function(t){return!(typeof t>"u"||(gR(vR,"Property Descriptor","Desc",t),!kE(t,"[[Get]]")&&!kE(t,"[[Set]]")))}});var Or=S((aF,WE)=>{"use strict";var HE=Ut(),yR=Te(),TR=Sr();WE.exports=function(t){return!(typeof t>"u"||(TR(yR,"Property Descriptor","Desc",t),!HE(t,"[[Value]]")&&!HE(t,"[[Writable]]")))}});var KE=S((uF,GE)=>{"use strict";GE.exports=function(t){return t===null||typeof t!="function"&&typeof t!="object"}});var jE=S((fF,$E)=>{"use strict";var ZE=te(),wR=ZE("%Object.preventExtensions%",!0),SR=ZE("%Object.isExtensible%",!0),zE=KE();$E.exports=wR?function(t){return!zE(t)&&SR(t)}:function(t){return!zE(t)}});var fl=S((lF,XE)=>{"use strict";XE.exports=function(t){return!!t}});var tv=S((cF,ev)=>{"use strict";var QE=Function.prototype.toString,Cn=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,cl,Os;if(typeof Cn=="function"&&typeof Object.defineProperty=="function")try{cl=Object.defineProperty({},"length",{get:function(){throw Os}}),Os={},Cn(function(){throw 42},null,cl)}catch(n){n!==Os&&(Cn=null)}else Cn=null;var OR=/^\s*class\b/,hl=function(t){try{var r=QE.call(t);return OR.test(r)}catch{return!1}},ll=function(t){try{return hl(t)?!1:(QE.call(t),!0)}catch{return!1}},Ns=Object.prototype.toString,NR="[object Object]",IR="[object Function]",AR="[object GeneratorFunction]",DR="[object HTMLAllCollection]",bR="[object HTML document.all class]",RR="[object HTMLCollection]",LR=typeof Symbol=="function"&&!!Symbol.toStringTag,CR=!(0 in[,]),dl=function(){return!1};typeof document=="object"&&(JE=document.all,Ns.call(JE)===Ns.call(document.all)&&(dl=function(t){if((CR||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=Ns.call(t);return(r===DR||r===bR||r===RR||r===NR)&&t("")==null}catch{}return!1}));var JE;ev.exports=Cn?function(t){if(dl(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Cn(t,null,cl)}catch(r){if(r!==Os)return!1}return!hl(t)&&ll(t)}:function(t){if(dl(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(LR)return ll(t);if(hl(t))return!1;var r=Ns.call(t);return r!==IR&&r!==AR&&!/^\[object HTML/.test(r)?!1:ll(t)}});var pl=S((hF,nv)=>{"use strict";nv.exports=tv()});var ov=S((dF,iv)=>{"use strict";var gt=Ut(),MR=te(),Is=MR("%TypeError%"),PR=Te(),_l=fl(),rv=pl();iv.exports=function(t){if(PR(t)!=="Object")throw new Is("ToPropertyDescriptor requires an object");var r={};if(gt(t,"enumerable")&&(r["[[Enumerable]]"]=_l(t.enumerable)),gt(t,"configurable")&&(r["[[Configurable]]"]=_l(t.configurable)),gt(t,"value")&&(r["[[Value]]"]=t.value),gt(t,"writable")&&(r["[[Writable]]"]=_l(t.writable)),gt(t,"get")){var u=t.get;if(typeof u<"u"&&!rv(u))throw new Is("getter must be a function");r["[[Get]]"]=u}if(gt(t,"set")){var f=t.set;if(typeof f<"u"&&!rv(f))throw new Is("setter must be a function");r["[[Set]]"]=f}if((gt(r,"[[Get]]")||gt(r,"[[Set]]"))&&(gt(r,"[[Value]]")||gt(r,"[[Writable]]")))throw new Is("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return r}});var As=S((pF,av)=>{"use strict";var sv=Ts();av.exports=function(t,r){return t===r?t===0?1/t===1/r:!0:sv(t)&&sv(r)}});var ml=S((_F,fv)=>{"use strict";var FR=te(),uv=FR("%Array%"),xR=!uv.isArray&&Qt()("Object.prototype.toString");fv.exports=uv.isArray||function(t){return xR(t)==="[object Array]"}});var El=S((mF,dv)=>{"use strict";var cv=gs(),UR=te(),lv=cv()&&UR("%Object.defineProperty%",!0),hv=cv.hasArrayLengthDefineBug(),BR=hv&&ml(),YR=Qt(),qR=YR("Object.prototype.propertyIsEnumerable");dv.exports=function(t,r,u,f,l,h){if(!lv){if(!t(h)||!h["[[Configurable]]"]||!h["[[Writable]]"]||l in f&&qR(f,l)!==!!h["[[Enumerable]]"])return!1;var E=h["[[Value]]"];return f[l]=E,r(f[l],E)}return hv&&l==="length"&&"[[Value]]"in h&&BR(f)&&f.length!==h["[[Value]]"]?(f.length=h["[[Value]]"],f.length===h["[[Value]]"]):(lv(f,l,u(h)),!0)}});var _v=S((EF,pv)=>{"use strict";pv.exports=function(t,r){return!!r&&typeof r=="object"&&"[[Enumerable]]"in r&&"[[Configurable]]"in r&&(t.IsAccessorDescriptor(r)||t.IsDataDescriptor(r))}});var Ev=S((vF,mv)=>{"use strict";mv.exports=function(t){if(typeof t>"u")return t;var r={};return"[[Value]]"in t&&(r.value=t["[[Value]]"]),"[[Writable]]"in t&&(r.writable=!!t["[[Writable]]"]),"[[Get]]"in t&&(r.get=t["[[Get]]"]),"[[Set]]"in t&&(r.set=t["[[Set]]"]),"[[Enumerable]]"in t&&(r.enumerable=!!t["[[Enumerable]]"]),"[[Configurable]]"in t&&(r.configurable=!!t["[[Configurable]]"]),r}});var vl=S((gF,vv)=>{"use strict";var kR=Sr(),VR=Ev(),HR=Te();vv.exports=function(t){return typeof t<"u"&&kR(HR,"Property Descriptor","Desc",t),VR(t)}});var yv=S((yF,gv)=>{"use strict";var WR=Sr(),GR=Ss(),KR=Or(),zR=Te();gv.exports=function(t){return typeof t>"u"?!1:(WR(zR,"Property Descriptor","Desc",t),!GR(t)&&!KR(t))}});var Sv=S((TF,wv)=>{"use strict";var ZR=te(),Mn=ZR("%TypeError%"),Nr=El(),$R=_v(),Tv=ul(),Ir=vl(),bt=Ss(),yt=Or(),jR=yv(),XR=vt(),Tt=As(),Pn=Te();wv.exports=function(t,r,u,f,l){var h=Pn(t);if(h!=="Undefined"&&h!=="Object")throw new Mn("Assertion failed: O must be undefined or an Object");if(!XR(r))throw new Mn("Assertion failed: P must be a Property Key");if(Pn(u)!=="Boolean")throw new Mn("Assertion failed: extensible must be a Boolean");if(!Tv({Type:Pn,IsDataDescriptor:yt,IsAccessorDescriptor:bt},f))throw new Mn("Assertion failed: Desc must be a Property Descriptor");if(Pn(l)!=="Undefined"&&!Tv({Type:Pn,IsDataDescriptor:yt,IsAccessorDescriptor:bt},l))throw new Mn("Assertion failed: current must be a Property Descriptor, or undefined");if(Pn(l)==="Undefined")return u?h==="Undefined"?!0:bt(f)?Nr(yt,Tt,Ir,t,r,f):Nr(yt,Tt,Ir,t,r,{"[[Configurable]]":!!f["[[Configurable]]"],"[[Enumerable]]":!!f["[[Enumerable]]"],"[[Value]]":f["[[Value]]"],"[[Writable]]":!!f["[[Writable]]"]}):!1;if(!$R({IsAccessorDescriptor:bt,IsDataDescriptor:yt},l))throw new Mn("`current`, when present, must be a fully populated and valid Property Descriptor");if(!l["[[Configurable]]"]){if("[[Configurable]]"in f&&f["[[Configurable]]"]||"[[Enumerable]]"in f&&!Tt(f["[[Enumerable]]"],l["[[Enumerable]]"])||!jR(f)&&!Tt(bt(f),bt(l)))return!1;if(bt(l)){if("[[Get]]"in f&&!Tt(f["[[Get]]"],l["[[Get]]"])||"[[Set]]"in f&&!Tt(f["[[Set]]"],l["[[Set]]"]))return!1}else if(!l["[[Writable]]"]&&("[[Writable]]"in f&&f["[[Writable]]"]||"[[Value]]"in f&&!Tt(f["[[Value]]"],l["[[Value]]"])))return!1}if(h!=="Undefined"){var E,v;return yt(l)&&bt(f)?(E=("[[Configurable]]"in f?f:l)["[[Configurable]]"],v=("[[Enumerable]]"in f?f:l)["[[Enumerable]]"],Nr(yt,Tt,Ir,t,r,{"[[Configurable]]":!!E,"[[Enumerable]]":!!v,"[[Get]]":("[[Get]]"in f?f:l)["[[Get]]"],"[[Set]]":("[[Set]]"in f?f:l)["[[Set]]"]})):bt(l)&&yt(f)?(E=("[[Configurable]]"in f?f:l)["[[Configurable]]"],v=("[[Enumerable]]"in f?f:l)["[[Enumerable]]"],Nr(yt,Tt,Ir,t,r,{"[[Configurable]]":!!E,"[[Enumerable]]":!!v,"[[Value]]":("[[Value]]"in f?f:l)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in f?f:l)["[[Writable]]"]})):Nr(yt,Tt,Ir,t,r,f)}return!0}});var Rv=S((wF,bv)=>{"use strict";var Dv=te(),Ov=CE(),Nv=Dv("%SyntaxError%"),gl=Dv("%TypeError%"),JR=ul(),Iv=Ss(),QR=Or(),eL=jE(),tL=vt(),nL=ov(),rL=As(),Av=Te(),iL=Sv();bv.exports=function(t,r,u){if(Av(t)!=="Object")throw new gl("Assertion failed: O must be an Object");if(!tL(r))throw new gl("Assertion failed: P must be a Property Key");if(!JR({Type:Av,IsDataDescriptor:QR,IsAccessorDescriptor:Iv},u))throw new gl("Assertion failed: Desc must be a Property Descriptor");if(!Ov){if(Iv(u))throw new Nv("This environment does not support accessor property descriptors.");var f=!(r in t)&&u["[[Writable]]"]&&u["[[Enumerable]]"]&&u["[[Configurable]]"]&&"[[Value]]"in u,l=r in t&&(!("[[Configurable]]"in u)||u["[[Configurable]]"])&&(!("[[Enumerable]]"in u)||u["[[Enumerable]]"])&&(!("[[Writable]]"in u)||u["[[Writable]]"])&&"[[Value]]"in u;if(f||l)return t[r]=u["[[Value]]"],rL(t[r],u["[[Value]]"]);throw new Nv("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var h=Ov(t,r),E=h&&nL(h),v=eL(t);return iL(t,r,v,u,E)}});var Mv=S((SF,Cv)=>{"use strict";var oL=te(),Lv=oL("%TypeError%"),sL=vt(),aL=Rv(),uL=Te();Cv.exports=function(t,r,u){if(uL(t)!=="Object")throw new Lv("Assertion failed: Type(O) is not Object");if(!sL(r))throw new Lv("Assertion failed: IsPropertyKey(P) is not true");var f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":u,"[[Writable]]":!0};return aL(t,r,f)}});var Fv=S((OF,Pv)=>{"use strict";var fL=te(),yl=fL("%TypeError%"),lL=Mv(),cL=vt(),hL=Te();Pv.exports=function(t,r,u){if(hL(t)!=="Object")throw new yl("Assertion failed: Type(O) is not Object");if(!cL(r))throw new yl("Assertion failed: IsPropertyKey(P) is not true");var f=lL(t,r,u);if(!f)throw new yl("unable to create data property");return f}});var Bv=S((NF,Uv)=>{"use strict";var dL=te(),xv=dL("%TypeError%"),pL=El(),_L=vl(),mL=Or(),EL=vt(),vL=As(),gL=Te();Uv.exports=function(t,r,u){if(gL(t)!=="Object")throw new xv("Assertion failed: Type(O) is not Object");if(!EL(r))throw new xv("Assertion failed: IsPropertyKey(P) is not true");var f={"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":u,"[[Writable]]":!0};return pL(mL,vL,_L,t,r,f)}});var qv=S((IF,Yv)=>{"use strict";var yL=te(),TL=yL("%TypeError%");Yv.exports=function(t,r){if(t==null)throw new TL(r||"Cannot call method on "+t);return t}});var Vv=S((AF,kv)=>{"use strict";kv.exports=qv()});var Wv=S((DF,Hv)=>{"use strict";var wL=te(),SL=wL("%Object%"),OL=Vv();Hv.exports=function(t){return OL(t),SL(t)}});var Tl=S((bF,Gv)=>{"use strict";var NL=te(),IL=NL("%TypeError%"),AL=vt(),DL=Wv();Gv.exports=function(t,r){if(!AL(r))throw new IL("Assertion failed: IsPropertyKey(P) is not true");var u=DL(t);return u[r]}});var zv=S((RF,Kv)=>{Kv.exports=require("util").inspect});var Ls=S((LF,hg)=>{var Ll=typeof Map=="function"&&Map.prototype,wl=Object.getOwnPropertyDescriptor&&Ll?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bs=Ll&&wl&&typeof wl.get=="function"?wl.get:null,Zv=Ll&&Map.prototype.forEach,Cl=typeof Set=="function"&&Set.prototype,Sl=Object.getOwnPropertyDescriptor&&Cl?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Rs=Cl&&Sl&&typeof Sl.get=="function"?Sl.get:null,$v=Cl&&Set.prototype.forEach,bL=typeof WeakMap=="function"&&WeakMap.prototype,Dr=bL?WeakMap.prototype.has:null,RL=typeof WeakSet=="function"&&WeakSet.prototype,br=RL?WeakSet.prototype.has:null,LL=typeof WeakRef=="function"&&WeakRef.prototype,jv=LL?WeakRef.prototype.deref:null,CL=Boolean.prototype.valueOf,ML=Object.prototype.toString,PL=Function.prototype.toString,FL=String.prototype.match,Ml=String.prototype.slice,Yt=String.prototype.replace,xL=String.prototype.toUpperCase,Xv=String.prototype.toLowerCase,sg=RegExp.prototype.test,Jv=Array.prototype.concat,wt=Array.prototype.join,UL=Array.prototype.slice,Qv=Math.floor,Il=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ol=Object.getOwnPropertySymbols,Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Fe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Fn?"object":"symbol")?Symbol.toStringTag:null,ag=Object.prototype.propertyIsEnumerable,eg=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function tg(n,t){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||sg.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var u=n<0?-Qv(-n):Qv(n);if(u!==n){var f=String(u),l=Ml.call(t,f.length+1);return Yt.call(f,r,"$&_")+"."+Yt.call(Yt.call(l,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yt.call(t,r,"$&_")}var Dl=zv(),ng=Dl.custom,rg=fg(ng)?ng:null;hg.exports=function n(t,r,u,f){var l=r||{};if(Bt(l,"quoteStyle")&&l.quoteStyle!=="single"&&l.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Bt(l,"maxStringLength")&&(typeof l.maxStringLength=="number"?l.maxStringLength<0&&l.maxStringLength!==1/0:l.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=Bt(l,"customInspect")?l.customInspect:!0;if(typeof h!="boolean"&&h!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Bt(l,"indent")&&l.indent!==null&&l.indent!=="	"&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Bt(l,"numericSeparator")&&typeof l.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var E=l.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return cg(t,l);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var v=String(t);return E?tg(t,v):v}if(typeof t=="bigint"){var O=String(t)+"n";return E?tg(t,O):O}var A=typeof l.depth>"u"?5:l.depth;if(typeof u>"u"&&(u=0),u>=A&&A>0&&typeof t=="object")return bl(t)?"[Array]":"[Object]";var b=tC(l,u);if(typeof f>"u")f=[];else if(lg(f,t)>=0)return"[Circular]";function C(T,nn,We){if(nn&&(f=UL.call(f),f.push(nn)),We){var z={depth:l.depth};return Bt(l,"quoteStyle")&&(z.quoteStyle=l.quoteStyle),n(T,z,u+1,f)}return n(T,l,u+1,f)}if(typeof t=="function"&&!ig(t)){var q=KL(t),F=Ds(t,C);return"[Function"+(q?": "+q:" (anonymous)")+"]"+(F.length>0?" { "+wt.call(F,", ")+" }":"")}if(fg(t)){var y=Fn?Yt.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Al.call(t);return typeof t=="object"&&!Fn?Ar(y):y}if(JL(t)){for(var U="<"+Xv.call(String(t.nodeName)),w=t.attributes||[],M=0;M<w.length;M++)U+=" "+w[M].name+"="+ug(BL(w[M].value),"double",l);return U+=">",t.childNodes&&t.childNodes.length&&(U+="..."),U+="</"+Xv.call(String(t.nodeName))+">",U}if(bl(t)){if(t.length===0)return"[]";var I=Ds(t,C);return b&&!eC(I)?"["+Rl(I,b)+"]":"[ "+wt.call(I,", ")+" ]"}if(qL(t)){var L=Ds(t,C);return!("cause"in Error.prototype)&&"cause"in t&&!ag.call(t,"cause")?"{ ["+String(t)+"] "+wt.call(Jv.call("[cause]: "+C(t.cause),L),", ")+" }":L.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+wt.call(L,", ")+" }"}if(typeof t=="object"&&h){if(rg&&typeof t[rg]=="function"&&Dl)return Dl(t,{depth:A-u});if(h!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(zL(t)){var _=[];return Zv&&Zv.call(t,function(T,nn){_.push(C(nn,t,!0)+" => "+C(T,t))}),og("Map",bs.call(t),_,b)}if(jL(t)){var J=[];return $v&&$v.call(t,function(T){J.push(C(T,t))}),og("Set",Rs.call(t),J,b)}if(ZL(t))return Nl("WeakMap");if(XL(t))return Nl("WeakSet");if($L(t))return Nl("WeakRef");if(VL(t))return Ar(C(Number(t)));if(WL(t))return Ar(C(Il.call(t)));if(HL(t))return Ar(CL.call(t));if(kL(t))return Ar(C(String(t)));if(!YL(t)&&!ig(t)){var K=Ds(t,C),$=eg?eg(t)===Object.prototype:t instanceof Object||t.constructor===Object,B=t instanceof Object?"":"null prototype",xr=!$&&Fe&&Object(t)===t&&Fe in t?Ml.call(qt(t),8,-1):B?"Object":"",be=$||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",Yn=be+(xr||B?"["+wt.call(Jv.call([],xr||[],B||[]),": ")+"] ":"");return K.length===0?Yn+"{}":b?Yn+"{"+Rl(K,b)+"}":Yn+"{ "+wt.call(K,", ")+" }"}return String(t)};function ug(n,t,r){var u=(r.quoteStyle||t)==="double"?'"':"'";return u+n+u}function BL(n){return Yt.call(String(n),/"/g,"&quot;")}function bl(n){return qt(n)==="[object Array]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function YL(n){return qt(n)==="[object Date]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function ig(n){return qt(n)==="[object RegExp]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function qL(n){return qt(n)==="[object Error]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function kL(n){return qt(n)==="[object String]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function VL(n){return qt(n)==="[object Number]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function HL(n){return qt(n)==="[object Boolean]"&&(!Fe||!(typeof n=="object"&&Fe in n))}function fg(n){if(Fn)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!Al)return!1;try{return Al.call(n),!0}catch{}return!1}function WL(n){if(!n||typeof n!="object"||!Il)return!1;try{return Il.call(n),!0}catch{}return!1}var GL=Object.prototype.hasOwnProperty||function(n){return n in this};function Bt(n,t){return GL.call(n,t)}function qt(n){return ML.call(n)}function KL(n){if(n.name)return n.name;var t=FL.call(PL.call(n),/^function\s*([\w$]+)/);return t?t[1]:null}function lg(n,t){if(n.indexOf)return n.indexOf(t);for(var r=0,u=n.length;r<u;r++)if(n[r]===t)return r;return-1}function zL(n){if(!bs||!n||typeof n!="object")return!1;try{bs.call(n);try{Rs.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function ZL(n){if(!Dr||!n||typeof n!="object")return!1;try{Dr.call(n,Dr);try{br.call(n,br)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function $L(n){if(!jv||!n||typeof n!="object")return!1;try{return jv.call(n),!0}catch{}return!1}function jL(n){if(!Rs||!n||typeof n!="object")return!1;try{Rs.call(n);try{bs.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function XL(n){if(!br||!n||typeof n!="object")return!1;try{br.call(n,br);try{Dr.call(n,Dr)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function JL(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function cg(n,t){if(n.length>t.maxStringLength){var r=n.length-t.maxStringLength,u="... "+r+" more character"+(r>1?"s":"");return cg(Ml.call(n,0,t.maxStringLength),t)+u}var f=Yt.call(Yt.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,QL);return ug(f,"single",t)}function QL(n){var t=n.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+xL.call(t.toString(16))}function Ar(n){return"Object("+n+")"}function Nl(n){return n+" { ? }"}function og(n,t,r,u){var f=u?Rl(r,u):wt.call(r,", ");return n+" ("+t+") {"+f+"}"}function eC(n){for(var t=0;t<n.length;t++)if(lg(n[t],`
`)>=0)return!1;return!0}function tC(n,t){var r;if(n.indent==="	")r="	";else if(typeof n.indent=="number"&&n.indent>0)r=wt.call(Array(n.indent+1)," ");else return null;return{base:r,prev:wt.call(Array(t+1),r)}}function Rl(n,t){if(n.length===0)return"";var r=`
`+t.prev+t.base;return r+wt.call(n,","+r)+`
`+t.prev}function Ds(n,t){var r=bl(n),u=[];if(r){u.length=n.length;for(var f=0;f<n.length;f++)u[f]=Bt(n,f)?t(n[f],n):""}var l=typeof Ol=="function"?Ol(n):[],h;if(Fn){h={};for(var E=0;E<l.length;E++)h["$"+l[E]]=l[E]}for(var v in n)!Bt(n,v)||r&&String(Number(v))===v&&v<n.length||Fn&&h["$"+v]instanceof Symbol||(sg.call(/[^\w$]/,v)?u.push(t(v,n)+": "+t(n[v],n)):u.push(v+": "+t(n[v],n)));if(typeof Ol=="function")for(var O=0;O<l.length;O++)ag.call(n,l[O])&&u.push("["+t(l[O])+"]: "+t(n[l[O]],n));return u}});var Pl=S((CF,_g)=>{"use strict";var nC=te(),dg=nC("%TypeError%"),rC=Tl(),iC=pl(),oC=vt(),pg=Ls();_g.exports=function(t,r){if(!oC(r))throw new dg("Assertion failed: IsPropertyKey(P) is not true");var u=rC(t,r);if(u!=null){if(!iC(u))throw new dg(pg(r)+" is not a function: "+pg(u));return u}}});var Rr=S((MF,mg)=>{"use strict";mg.exports=ml()});var vg=S((PF,Eg)=>{"use strict";var sC=Jf();Eg.exports=function(){return sC()&&!!Symbol.toStringTag}});var yg=S((FF,gg)=>{"use strict";var aC=String.prototype.valueOf,uC=function(t){try{return aC.call(t),!0}catch{return!1}},fC=Object.prototype.toString,lC="[object String]",cC=vg()();gg.exports=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:cC?uC(t):fC.call(t)===lC}});var Fl=S((xF,wg)=>{"use strict";var hC=_s()(),Tg=te(),dC=Qt(),pC=yg(),_C=Tg("%Symbol.iterator%",!0),mC=dC("String.prototype.slice"),EC=Tg("%String%");wg.exports=function(t,r){var u;return hC?u=t.GetMethod(r,_C):t.IsArray(r)?u=function(){var f=-1,l=this;return{next:function(){return f+=1,{done:f>=l.length,value:l[f]}}}}:pC(r)&&(u=function(){var f=0;return{next:function(){var l=t.AdvanceStringIndex(EC(r),f,!0),h=mC(r,f,l);return f=l,{done:l>r.length,value:h}}}}),u}});var xl=S((UF,Og)=>{"use strict";var Sg=te(),vC=Qt(),gC=Sg("%TypeError%"),yC=Rr(),TC=Sg("%Reflect.apply%",!0)||vC("Function.prototype.apply");Og.exports=function(t,r){var u=arguments.length>2?arguments[2]:[];if(!yC(u))throw new gC("Assertion failed: optional `argumentsList`, if provided, must be a List");return TC(t,r,u)}});var bg=S((BF,Dg)=>{"use strict";var Ul=te(),Ng=Ul("%TypeError%"),wC=Ul("%SyntaxError%"),Ig=Ul("%Symbol.asyncIterator%",!0),SC=Ls(),OC=_s()(),NC=Fl(),IC=al(),AC=xl(),Ag=Pl(),DC=Rr(),bC=Te();Dg.exports=function(t,r,u){var f=r;if(arguments.length<2&&(f="sync"),f!=="sync"&&f!=="async")throw new Ng("Assertion failed: `hint` must be one of 'sync' or 'async', got "+SC(r));var l=u;if(arguments.length<3)if(f==="async"){if(OC&&Ig&&(l=Ag(t,Ig)),l===void 0)throw new wC("async from sync iterators aren't currently supported")}else l=NC({AdvanceStringIndex:IC,GetMethod:Ag,IsArray:DC},t);var h=AC(l,t);if(bC(h)!=="Object")throw new Ng("iterator must return an object");return h}});var Bl=S((YF,Lg)=>{"use strict";var RC=te(),Rg=RC("%TypeError%"),LC=Ls(),CC=vt(),MC=Te();Lg.exports=function(t,r){if(MC(t)!=="Object")throw new Rg("Assertion failed: Type(O) is not Object");if(!CC(r))throw new Rg("Assertion failed: IsPropertyKey(P) is not true, got "+LC(r));return t[r]}});var Mg=S((qF,Cg)=>{"use strict";var PC=te(),FC=PC("%TypeError%"),xC=Bl(),UC=fl(),BC=Te();Cg.exports=function(t){if(BC(t)!=="Object")throw new FC("Assertion failed: Type(iterResult) is not Object");return UC(xC(t,"done"))}});var xg=S((kF,Fg)=>{"use strict";var YC=te(),Pg=YC("%TypeError%"),qC=xl(),kC=Rr(),VC=Tl(),HC=vt();Fg.exports=function(t,r){if(!HC(r))throw new Pg("Assertion failed: P must be a Property Key");var u=arguments.length>2?arguments[2]:[];if(!kC(u))throw new Pg("Assertion failed: optional `argumentsList`, if provided, must be a List");var f=VC(t,r);return qC(f,t,u)}});var Bg=S((VF,Ug)=>{"use strict";var WC=te(),GC=WC("%TypeError%"),KC=xg(),zC=Te();Ug.exports=function(t,r){var u=KC(t,"next",arguments.length<2?[]:[r]);if(zC(u)!=="Object")throw new GC("iterator next must return an object");return u}});var qg=S((HF,Yg)=>{"use strict";var ZC=Mg(),$C=Bg();Yg.exports=function(t){var r=$C(t),u=ZC(r);return u===!0?!1:r}});var Vg=S((WF,kg)=>{"use strict";var jC=te(),XC=jC("%TypeError%"),JC=Bl(),QC=Te();kg.exports=function(t){if(QC(t)!=="Object")throw new XC("Assertion failed: Type(iterResult) is not Object");return JC(t,"value")}});var Gg=S((GF,Wg)=>{"use strict";var e1=Qt(),t1=e1("Array.prototype.push"),Hg=bg(),n1=qg(),r1=Vg();Wg.exports=function(t){var r;arguments.length>1?r=Hg(t,"sync",arguments[1]):r=Hg(t,"sync");for(var u=[],f=!0;f;)if(f=n1(r),f){var l=r1(f);t1(u,l)}return u}});var zg=S((KF,Kg)=>{"use strict";var i1=te(),o1=i1("%Object.setPrototypeOf%",!0),s1=ms()();Kg.exports=o1||(s1?function(n,t){return n.__proto__=t,n}:null)});var $g=S((zF,Zg)=>{"use strict";var a1=te(),u1=a1("%Object.getPrototypeOf%",!0),f1=ms()();Zg.exports=u1||(f1?function(n){return n.__proto__}:null)});var Qg=S((ZF,Jg)=>{"use strict";var l1=te(),jg=l1("%TypeError%"),Xg=$g(),c1=Te();Jg.exports=function(t){if(c1(t)!=="Object")throw new jg("Assertion failed: O must be an Object");if(!Xg)throw new jg("This environment does not support fetching prototypes.");return Xg(t)}});var ny=S(($F,ty)=>{"use strict";var h1=te(),d1=h1("%TypeError%"),p1=zg(),_1=Qg(),ey=Te();ty.exports=function(t,r){if(ey(r)!=="Object"&&ey(r)!=="Null")throw new d1("Assertion failed: V must be Object or Null");try{p1(t,r)}catch{return!1}return _1(t)===r}});var ql=S((jF,oy)=>{"use strict";var m1=al(),E1=Fv(),Yl=Bv(),v1=Pl(),g1=Rr(),y1=Gg(),ry=ny(),T1=Te(),w1=te(),S1=Fl(),O1=gs()(),iy=w1("%Error%");function Lr(n,t){var r=new iy(t);ry(r,Cs),delete r.constructor;var u=y1(n,S1({AdvanceStringIndex:m1,GetMethod:v1,IsArray:g1,Type:T1},n));return E1(r,"errors",u),r}O1&&Object.defineProperty(Lr,"prototype",{writable:!1});var Cs=Lr.prototype;if(!Yl(Cs,"constructor",Lr)||!Yl(Cs,"message","")||!Yl(Cs,"name","AggregateError"))throw new iy("unable to install AggregateError.prototype properties; please report this!");ry(Lr.prototype,Error.prototype);oy.exports=Lr});var kl=S((XF,sy)=>{"use strict";var N1=ql();sy.exports=function(){return typeof AggregateError=="function"?AggregateError:N1}});var Vl=S((JF,ay)=>{"use strict";ay.exports=global});var Hl=S((QF,uy)=>{"use strict";var I1=Vl();uy.exports=function(){return typeof global!="object"||!global||global.Math!==Math||global.Array!==Array?I1:global}});var ly=S((ex,fy)=>{"use strict";var A1=yr(),D1=Hl();fy.exports=function(){var t=D1();if(A1.supportsDescriptors){var r=Object.getOwnPropertyDescriptor(t,"globalThis");(!r||r.configurable&&(r.enumerable||!r.writable||globalThis!==t))&&Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else(typeof globalThis!="object"||globalThis!==t)&&(t.globalThis=t);return t}});var py=S((tx,dy)=>{"use strict";var b1=yr(),R1=Vl(),cy=Hl(),L1=ly(),C1=cy(),hy=function(){return C1};b1(hy,{getPolyfill:cy,implementation:R1,shim:L1});dy.exports=hy});var Ey=S((nx,my)=>{"use strict";var M1=yr(),_y=py()(),P1=kl();my.exports=function(){var t=P1();return M1(_y,{AggregateError:t},{AggregateError:function(){return _y.AggregateError!==t}}),t}});var Ps=S((rx,gy)=>{"use strict";var F1=mr(),x1=yr(),U1=Gm().functionsHaveConfigurableNames(),B1=ql(),vy=kl(),Y1=Ey(),Wl=vy(),Ms=F1.call(Wl);Object.defineProperty&&(U1&&Object.defineProperty(Ms,"name",{value:Wl.name}),Object.defineProperty(Ms,"prototype",{value:Wl.prototype}));x1(Ms,{getPolyfill:vy,implementation:B1,shim:Y1});gy.exports=Ms});var wy=S(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.connectInParallel=V1;Cr.connectInSequence=H1;Cr.lookupAllAddresses=Kl;var Fs=Gl(require("net")),q1=k1(require("punycode")),xn=Gl(Xr()),yy=Gl(Ps());function Ty(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(Ty=function(u){return u?r:t})(n)}function k1(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var r=Ty(t);if(r&&r.has(n))return r.get(n);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if(l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)){var h=f?Object.getOwnPropertyDescriptor(n,l):null;h&&(h.get||h.set)?Object.defineProperty(u,l,h):u[l]=n[l]}return u.default=n,r&&r.set(n,u),u}function Gl(n){return n&&n.__esModule?n:{default:n}}async function V1(n,t,r){if(r.aborted)throw new xn.default;let u=await Kl(n.host,t,r);return await new Promise((f,l)=>{let h=new Array(u.length),E=[];function v(b){E.push(b),this.removeListener("error",v),this.removeListener("connect",O),this.destroy(),E.length===u.length&&(r.removeEventListener("abort",A),l(new yy.default(E,"Could not connect (parallel)")))}function O(){r.removeEventListener("abort",A);for(let b=0;b<h.length;b++){let C=h[b];this!==C&&(C.removeListener("error",v),C.removeListener("connect",O),C.destroy())}f(this)}let A=()=>{for(let b=0;b<h.length;b++){let C=h[b];C.removeListener("error",v),C.removeListener("connect",O),C.destroy()}l(new xn.default)};for(let b=0,C=u.length;b<C;b++){let q=h[b]=Fs.default.connect({...n,host:u[b].address,family:u[b].family});q.on("error",v),q.on("connect",O)}r.addEventListener("abort",A,{once:!0})})}async function H1(n,t,r){if(r.aborted)throw new xn.default;let u=[],f=await Kl(n.host,t,r);for(let l of f)try{return await new Promise((h,E)=>{let v=Fs.default.connect({...n,host:l.address,family:l.family}),O=()=>{v.removeListener("error",A),v.removeListener("connect",b),v.destroy(),E(new xn.default)},A=C=>{r.removeEventListener("abort",O),v.removeListener("error",A),v.removeListener("connect",b),v.destroy(),E(C)},b=()=>{r.removeEventListener("abort",O),v.removeListener("error",A),v.removeListener("connect",b),h(v)};r.addEventListener("abort",O,{once:!0}),v.on("error",A),v.on("connect",b)})}catch(h){if(h instanceof Error&&h.name==="AbortError")throw h;u.push(h);continue}throw new yy.default(u,"Could not connect (sequence)")}async function Kl(n,t,r){if(r.aborted)throw new xn.default;return Fs.default.isIPv6(n)?[{address:n,family:6}]:Fs.default.isIPv4(n)?[{address:n,family:4}]:await new Promise((u,f)=>{let l=()=>{f(new xn.default)};r.addEventListener("abort",l),t(q1.toASCII(n),{all:!0},(h,E)=>{r.removeEventListener("abort",l),h?f(h):u(E)})})}});var zl=S(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.name=void 0;var W1="Tedious";xs.name=W1});var Sy=S(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.createNTLMRequest=G1;var tt={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_Unknown9:8,NTLM_NegotiateSign:16,NTLM_NegotiateSeal:32,NTLM_NegotiateDatagram:64,NTLM_NegotiateLanManagerKey:128,NTLM_Unknown8:256,NTLM_NegotiateNTLM:512,NTLM_NegotiateNTOnly:1024,NTLM_Anonymous:2048,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_Unknown6:16384,NTLM_NegotiateAlwaysSign:32768,NTLM_TargetTypeDomain:65536,NTLM_TargetTypeServer:131072,NTLM_TargetTypeShare:262144,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateIdentify:1048576,NTLM_Unknown5:2097152,NTLM_RequestNonNTSessionKey:4194304,NTLM_NegotiateTargetInfo:8388608,NTLM_Unknown4:16777216,NTLM_NegotiateVersion:33554432,NTLM_Unknown3:67108864,NTLM_Unknown2:134217728,NTLM_Unknown1:268435456,NTLM_Negotiate128:536870912,NTLM_NegotiateKeyExchange:1073741824,NTLM_Negotiate56:2147483648};function G1(n){let t=escape(n.domain.toUpperCase()),r=n.workstation?escape(n.workstation.toUpperCase()):"",u=tt.NTLM_NegotiateUnicode+tt.NTLM_NegotiateOEM+tt.NTLM_RequestTarget+tt.NTLM_NegotiateNTLM+tt.NTLM_NegotiateOemDomainSupplied+tt.NTLM_NegotiateOemWorkstationSupplied+tt.NTLM_NegotiateAlwaysSign+tt.NTLM_NegotiateVersion+tt.NTLM_NegotiateExtendedSecurity+tt.NTLM_Negotiate128+tt.NTLM_Negotiate56;r===""&&(u-=tt.NTLM_NegotiateOemWorkstationSupplied);let f=Buffer.alloc(40),l=[f],h=0;return h+=f.write("NTLMSSP",h,7,"ascii"),h=f.writeUInt8(0,h),h=f.writeUInt32LE(1,h),h=f.writeUInt32LE(u,h),h=f.writeUInt16LE(t.length,h),h=f.writeUInt16LE(t.length,h),h=f.writeUInt32LE(f.length+r.length,h),h=f.writeUInt16LE(r.length,h),h=f.writeUInt16LE(r.length,h),h=f.writeUInt32LE(f.length,h),h=f.writeUInt8(5,h),h=f.writeUInt8(0,h),h=f.writeUInt16LE(2195,h),h=f.writeUInt8(0,h),h=f.writeUInt8(0,h),h=f.writeUInt8(0,h),f.writeUInt8(15,h),l.push(Buffer.from(r,"ascii")),l.push(Buffer.from(t,"ascii")),Buffer.concat(l)}});var Ny=S(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.BulkLoadPayload=void 0;var Oy;Oy=Symbol.asyncIterator;var $l=class{constructor(t){this.bulkLoad=void 0,this.iterator=void 0,this.bulkLoad=t,this.iterator=this.bulkLoad.rowToPacketTransform[Symbol.asyncIterator]()}[Oy](){return this.iterator}toString(t=""){return t+"BulkLoad"}};Us.BulkLoadPayload=$l});var Iy=S((ux,K1)=>{K1.exports={author:"Mike D Pilsbury <mike.pilsbury@gmail.com>",contributors:["Alex Robson","Arthur Schreiber","Bret Copeland <bret@atlantisflight.org> (https://github.com/bretcope)","Bryan Ross <bryan@rossipedia.com> (https://github.com/rossipedia)","Ciaran Jessup <ciaranj@gmail.com>","Cort Fritz <cfritz@caa.com>","lastonesky","Patrik Simek <patrik@patriksimek.cz>","Phil Dodderidge <pdodde@poyntz.com>","Zach Aller"],name:"tedious",description:"A TDS driver, for connecting to MS SQLServer databases.",keywords:["sql","database","mssql","sqlserver","sql-server","tds","msnodesql","azure"],homepage:"https://github.com/tediousjs/tedious",bugs:"https://github.com/tediousjs/tedious/issues",license:"MIT",version:"15.1.3",main:"./lib/tedious.js",repository:{type:"git",url:"https://github.com/tediousjs/tedious.git"},engines:{node:">=14"},publishConfig:{tag:"next"},dependencies:{"@azure/identity":"^2.0.4","@azure/keyvault-keys":"^4.4.0","@js-joda/core":"^5.2.0",bl:"^5.0.0","es-aggregate-error":"^1.0.8","iconv-lite":"^0.6.3","js-md4":"^0.3.2",jsbi:"^4.3.0","native-duplexpair":"^1.0.0","node-abort-controller":"^3.0.1",punycode:"^2.1.0","sprintf-js":"^1.1.2"},devDependencies:{"@babel/cli":"^7.17.10","@babel/core":"^7.17.10","@babel/node":"^7.17.10","@babel/plugin-proposal-class-properties":"^7.16.7","@babel/preset-env":"^7.17.10","@babel/preset-typescript":"^7.16.7","@babel/register":"^7.17.7","@commitlint/cli":"^16.2.4","@commitlint/config-conventional":"^16.2.4","@commitlint/travis-cli":"^16.2.4","@types/es-aggregate-error":"^1.0.2","@types/async":"^3.2.13","@types/bl":"^5.0.2","@types/chai":"^4.3.1","@types/depd":"^1.1.32","@types/lru-cache":"^5.1.0","@types/mocha":"^9.1.1","@types/node":"^12.20.50","@types/sprintf-js":"^1.1.2","@typescript-eslint/eslint-plugin":"^5.22.0","@typescript-eslint/parser":"^5.22.0",async:"^3.2.3","babel-plugin-istanbul":"^6.1.1",chai:"^4.3.6",codecov:"^3.8.3",eslint:"^7.32.0",mitm:"^1.7.2",mocha:"^9.2.2",nyc:"^15.1.0",rimraf:"^3.0.2","semantic-release":"^19.0.3",sinon:"^11.1.2",typedoc:"^0.22.15",typescript:"^4.6.4"},scripts:{docs:"typedoc",lint:"eslint src test --ext .js,.ts && tsc",test:"mocha test/unit test/unit/token test/unit/tracking-buffer","test-integration":"mocha test/integration/","test-all":"mocha test/unit/ test/unit/token/ test/unit/tracking-buffer test/integration/",build:"rimraf lib && babel src --out-dir lib --extensions .js,.ts",prepublish:"npm run build","semantic-release":"semantic-release"},babel:{sourceMaps:"both",ignore:["./src/**/*.d.ts"],presets:[["@babel/preset-env",{targets:{node:14}}],["@babel/preset-typescript",{allowDeclareFields:!0}]],plugins:[["@babel/transform-typescript",{allowDeclareFields:!0}],["@babel/plugin-proposal-class-properties",{loose:!0}],["@babel/plugin-proposal-private-methods",{loose:!0}],["@babel/plugin-proposal-private-property-in-object",{loose:!0}]]},commitlint:{extends:["@commitlint/config-conventional"],rules:{"body-max-line-length":[1,"always",100],"footer-max-line-length":[1,"always",100],"header-max-length":[1,"always",100]}},mocha:{require:"test/setup.js",timeout:5e3,extension:["js","ts"]},nyc:{sourceMap:!1,instrument:!1,extension:[".ts"]}}});var Dy=S(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.UnexpectedTokenError=Ve.TokenHandler=Ve.RequestTokenHandler=Ve.Login7TokenHandler=Ve.InitialSqlTokenHandler=Ve.AttentionTokenHandler=void 0;var z1=Ay(vi()),St=gn(),Z1=Ay(Ps());function Ay(n){return n&&n.__esModule?n:{default:n}}var me=class extends Error{constructor(t,r){super("Unexpected token `"+r.name+"` in `"+t.constructor.name+"`")}};Ve.UnexpectedTokenError=me;var en=class{onInfoMessage(t){throw new me(this,t)}onErrorMessage(t){throw new me(this,t)}onSSPI(t){throw new me(this,t)}onDatabaseChange(t){throw new me(this,t)}onLanguageChange(t){throw new me(this,t)}onCharsetChange(t){throw new me(this,t)}onSqlCollationChange(t){throw new me(this,t)}onRoutingChange(t){throw new me(this,t)}onPacketSizeChange(t){throw new me(this,t)}onResetConnection(t){throw new me(this,t)}onBeginTransaction(t){throw new me(this,t)}onCommitTransaction(t){throw new me(this,t)}onRollbackTransaction(t){throw new me(this,t)}onFedAuthInfo(t){throw new me(this,t)}onFeatureExtAck(t){throw new me(this,t)}onLoginAck(t){throw new me(this,t)}onColMetadata(t){throw new me(this,t)}onOrder(t){throw new me(this,t)}onRow(t){throw new me(this,t)}onReturnStatus(t){throw new me(this,t)}onReturnValue(t){throw new me(this,t)}onDoneProc(t){throw new me(this,t)}onDoneInProc(t){throw new me(this,t)}onDone(t){throw new me(this,t)}onDatabaseMirroringPartner(t){throw new me(this,t)}};Ve.TokenHandler=en;var jl=class extends en{constructor(t){super(),this.connection=void 0,this.connection=t}onInfoMessage(t){this.connection.emit("infoMessage",t)}onErrorMessage(t){this.connection.emit("errorMessage",t)}onDatabaseChange(t){this.connection.emit("databaseChange",t.newValue)}onLanguageChange(t){this.connection.emit("languageChange",t.newValue)}onCharsetChange(t){this.connection.emit("charsetChange",t.newValue)}onSqlCollationChange(t){this.connection.databaseCollation=t.newValue}onPacketSizeChange(t){this.connection.messageIo.packetSize(t.newValue)}onBeginTransaction(t){this.connection.transactionDescriptors.push(t.newValue),this.connection.inTransaction=!0}onCommitTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(t){this.connection.emit("error",new Error("Received 'columnMetadata' when no sqlRequest is in progress")),this.connection.close()}onOrder(t){this.connection.emit("error",new Error("Received 'order' when no sqlRequest is in progress")),this.connection.close()}onRow(t){this.connection.emit("error",new Error("Received 'row' when no sqlRequest is in progress")),this.connection.close()}onReturnStatus(t){}onReturnValue(t){}onDoneProc(t){}onDoneInProc(t){}onDone(t){}onResetConnection(t){this.connection.emit("resetConnection")}};Ve.InitialSqlTokenHandler=jl;var Xl=class extends en{constructor(t){super(),this.connection=void 0,this.fedAuthInfoToken=void 0,this.routingData=void 0,this.loginAckReceived=!1,this.connection=t}onInfoMessage(t){this.connection.emit("infoMessage",t)}onErrorMessage(t){this.connection.emit("errorMessage",t);let r=new St.ConnectionError(t.message,"ELOGIN");this.connection.transientErrorLookup.isTransientError(t.number)&&this.connection.curTransientRetryCount!==this.connection.config.options.maxRetriesOnTransientErrors&&(r.isTransient=!0),this.connection.loginError=r}onSSPI(t){t.ntlmpacket&&(this.connection.ntlmpacket=t.ntlmpacket,this.connection.ntlmpacketBuffer=t.ntlmpacketBuffer)}onDatabaseChange(t){this.connection.emit("databaseChange",t.newValue)}onLanguageChange(t){this.connection.emit("languageChange",t.newValue)}onCharsetChange(t){this.connection.emit("charsetChange",t.newValue)}onSqlCollationChange(t){this.connection.databaseCollation=t.newValue}onFedAuthInfo(t){this.fedAuthInfoToken=t}onFeatureExtAck(t){let{authentication:r}=this.connection.config;r.type==="azure-active-directory-password"||r.type==="azure-active-directory-access-token"||r.type==="azure-active-directory-msi-vm"||r.type==="azure-active-directory-msi-app-service"||r.type==="azure-active-directory-service-principal-secret"||r.type==="azure-active-directory-default"?t.fedAuth===void 0?this.connection.loginError=new St.ConnectionError("Did not receive Active Directory authentication acknowledgement"):t.fedAuth.length!==0&&(this.connection.loginError=new St.ConnectionError(`Active Directory authentication acknowledgment for ${r.type} authentication method includes extra data`)):t.fedAuth===void 0&&t.utf8Support===void 0?this.connection.loginError=new St.ConnectionError("Received acknowledgement for unknown feature"):t.fedAuth&&(this.connection.loginError=new St.ConnectionError("Did not request Active Directory authentication, but received the acknowledgment"))}onLoginAck(t){if(!t.tdsVersion){this.connection.loginError=new St.ConnectionError("Server responded with unknown TDS version.","ETDS");return}if(!t.interface){this.connection.loginError=new St.ConnectionError("Server responded with unsupported interface.","EINTERFACENOTSUPP");return}this.connection.config.options.tdsVersion=t.tdsVersion,this.loginAckReceived=!0}onRoutingChange(t){let[r]=t.newValue.server.split("\\");this.routingData={server:r,port:t.newValue.port}}onDoneInProc(t){}onDone(t){}onPacketSizeChange(t){this.connection.messageIo.packetSize(t.newValue)}onDatabaseMirroringPartner(t){}};Ve.Login7TokenHandler=Xl;var Jl=class extends en{constructor(t,r){super(),this.connection=void 0,this.request=void 0,this.errors=void 0,this.connection=t,this.request=r,this.errors=[]}onInfoMessage(t){this.connection.emit("infoMessage",t)}onErrorMessage(t){if(this.connection.emit("errorMessage",t),!this.request.canceled){let r=new St.RequestError(t.message,"EREQUEST");r.number=t.number,r.state=t.state,r.class=t.class,r.serverName=t.serverName,r.procName=t.procName,r.lineNumber=t.lineNumber,this.errors.push(r),this.request.error=r,this.request instanceof z1.default&&this.errors.length>1&&(this.request.error=new Z1.default(this.errors))}}onDatabaseChange(t){this.connection.emit("databaseChange",t.newValue)}onLanguageChange(t){this.connection.emit("languageChange",t.newValue)}onCharsetChange(t){this.connection.emit("charsetChange",t.newValue)}onSqlCollationChange(t){this.connection.databaseCollation=t.newValue}onPacketSizeChange(t){this.connection.messageIo.packetSize(t.newValue)}onBeginTransaction(t){this.connection.transactionDescriptors.push(t.newValue),this.connection.inTransaction=!0}onCommitTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(t){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(t){if(!this.request.canceled)if(this.connection.config.options.useColumnNames){let r=Object.create(null);for(let u=0,f=t.columns.length;u<f;u++){let l=t.columns[u];r[l.colName]==null&&(r[l.colName]=l)}this.request.emit("columnMetadata",r)}else this.request.emit("columnMetadata",t.columns)}onOrder(t){this.request.canceled||this.request.emit("order",t.orderColumns)}onRow(t){this.request.canceled||(this.connection.config.options.rowCollectionOnRequestCompletion&&this.request.rows.push(t.columns),this.connection.config.options.rowCollectionOnDone&&this.request.rst.push(t.columns),this.request.emit("row",t.columns))}onReturnStatus(t){this.request.canceled||(this.connection.procReturnStatusValue=t.value)}onReturnValue(t){this.request.canceled||this.request.emit("returnValue",t.paramName,t.value,t.metadata)}onDoneProc(t){this.request.canceled||(t.sqlError&&!this.request.error&&(this.request.error=new St.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("doneProc",t.rowCount,t.more,this.connection.procReturnStatusValue,this.request.rst),this.connection.procReturnStatusValue=void 0,t.rowCount!==void 0&&(this.request.rowCount+=t.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDoneInProc(t){this.request.canceled||(this.request.emit("doneInProc",t.rowCount,t.more,this.request.rst),t.rowCount!==void 0&&(this.request.rowCount+=t.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDone(t){this.request.canceled||(t.sqlError&&!this.request.error&&(this.request.error=new St.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("done",t.rowCount,t.more,this.request.rst),t.rowCount!==void 0&&(this.request.rowCount+=t.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onResetConnection(t){this.connection.emit("resetConnection")}};Ve.RequestTokenHandler=Jl;var Ql=class extends en{constructor(t,r){super(),this.connection=void 0,this.request=void 0,this.attentionReceived=void 0,this.connection=t,this.request=r,this.attentionReceived=!1}onDone(t){t.attention&&(this.attentionReceived=!0)}};Ve.AttentionTokenHandler=Ql});var Fy=S((Ys,Py)=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.default=void 0;var $1=Be(require("crypto")),j1=Be(require("os")),X1=Be(require("dns")),J1=Be(require("constants")),ec=require("stream"),Bs=Cc(),Q1=Be(La()),eM=Be(Fc()),Bn=require("events"),tM=Gc(),nM=Kc(),De=jn(),Cy=Be(Xc()),rM=Be(eh()),iM=Be(oh()),He=Be(vi()),Mr=Be(ch()),by=Be(ph()),oM=Be(Fd()),sM=fm(),Ke=zf(),Oe=gn(),Ry=wy(),aM=zl(),uM=Xn(),Ly=Be(Di()),fM=Sy(),lM=Pa(),tn=cr(),cM=Ny(),My=Be(Ps()),hM=Iy(),dM=require("url"),Un=Dy();function Be(n){return n&&n.__esModule?n:{default:n}}var pM=30*1e3,_M=15*1e3,mM=15*1e3,EM=5*1e3,vM=500,gM=4*1024,yM=2147483647,TM=7,wM=1433,SM="7_4",OM="us_english",NM="mdy",Pr={NORMAL:0,REDIRECT:1,RETRY:2},Fr=class extends Bn.EventEmitter{constructor(t){if(super(),this.fedAuthRequired=void 0,this.config=void 0,this.secureContextOptions=void 0,this.inTransaction=void 0,this.transactionDescriptors=void 0,this.transactionDepth=void 0,this.isSqlBatch=void 0,this.curTransientRetryCount=void 0,this.transientErrorLookup=void 0,this.closed=void 0,this.loginError=void 0,this.debug=void 0,this.ntlmpacket=void 0,this.ntlmpacketBuffer=void 0,this.routingData=void 0,this.messageIo=void 0,this.state=void 0,this.resetConnectionOnNextRequest=void 0,this.request=void 0,this.procReturnStatusValue=void 0,this.socket=void 0,this.messageBuffer=void 0,this.connectTimer=void 0,this.cancelTimer=void 0,this.requestTimer=void 0,this.retryTimer=void 0,this._cancelAfterRequestSent=void 0,this.databaseCollation=void 0,typeof t!="object"||t===null)throw new TypeError('The "config" argument is required and must be of type Object.');if(typeof t.server!="string")throw new TypeError('The "config.server" property is required and must be of type string.');this.fedAuthRequired=!1;let r;if(t.authentication!==void 0){if(typeof t.authentication!="object"||t.authentication===null)throw new TypeError('The "config.authentication" property must be of type Object.');let u=t.authentication.type,f=t.authentication.options===void 0?{}:t.authentication.options;if(typeof u!="string")throw new TypeError('The "config.authentication.type" property must be of type string.');if(u!=="default"&&u!=="ntlm"&&u!=="azure-active-directory-password"&&u!=="azure-active-directory-access-token"&&u!=="azure-active-directory-msi-vm"&&u!=="azure-active-directory-msi-app-service"&&u!=="azure-active-directory-service-principal-secret"&&u!=="azure-active-directory-default")throw new TypeError('The "type" property must one of "default", "ntlm", "azure-active-directory-password", "azure-active-directory-access-token", "azure-active-directory-default", "azure-active-directory-msi-vm" or "azure-active-directory-msi-app-service" or "azure-active-directory-service-principal-secret".');if(typeof f!="object"||f===null)throw new TypeError('The "config.authentication.options" property must be of type object.');if(u==="ntlm"){if(typeof f.domain!="string")throw new TypeError('The "config.authentication.options.domain" property must be of type string.');if(f.userName!==void 0&&typeof f.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(f.password!==void 0&&typeof f.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');r={type:"ntlm",options:{userName:f.userName,password:f.password,domain:f.domain&&f.domain.toUpperCase()}}}else if(u==="azure-active-directory-password"){if(typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(f.userName!==void 0&&typeof f.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(f.password!==void 0&&typeof f.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');if(f.tenantId!==void 0&&typeof f.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');r={type:"azure-active-directory-password",options:{userName:f.userName,password:f.password,tenantId:f.tenantId,clientId:f.clientId}}}else if(u==="azure-active-directory-access-token"){if(typeof f.token!="string")throw new TypeError('The "config.authentication.options.token" property must be of type string.');r={type:"azure-active-directory-access-token",options:{token:f.token}}}else if(u==="azure-active-directory-msi-vm"){if(f.clientId!==void 0&&typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-msi-vm",options:{clientId:f.clientId}}}else if(u==="azure-active-directory-default"){if(f.clientId!==void 0&&typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-default",options:{clientId:f.clientId}}}else if(u==="azure-active-directory-msi-app-service"){if(f.clientId!==void 0&&typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');r={type:"azure-active-directory-msi-app-service",options:{clientId:f.clientId}}}else if(u==="azure-active-directory-service-principal-secret"){if(typeof f.clientId!="string")throw new TypeError('The "config.authentication.options.clientId" property must be of type string.');if(typeof f.clientSecret!="string")throw new TypeError('The "config.authentication.options.clientSecret" property must be of type string.');if(typeof f.tenantId!="string")throw new TypeError('The "config.authentication.options.tenantId" property must be of type string.');r={type:"azure-active-directory-service-principal-secret",options:{clientId:f.clientId,clientSecret:f.clientSecret,tenantId:f.tenantId}}}else{if(f.userName!==void 0&&typeof f.userName!="string")throw new TypeError('The "config.authentication.options.userName" property must be of type string.');if(f.password!==void 0&&typeof f.password!="string")throw new TypeError('The "config.authentication.options.password" property must be of type string.');r={type:"default",options:{userName:f.userName,password:f.password}}}}else r={type:"default",options:{userName:void 0,password:void 0}};if(this.config={server:t.server,authentication:r,options:{abortTransactionOnError:!1,appName:void 0,camelCaseColumns:!1,cancelTimeout:EM,columnEncryptionKeyCacheTTL:2*60*60*1e3,columnEncryptionSetting:!1,columnNameReplacer:void 0,connectionRetryInterval:vM,connectTimeout:_M,connectionIsolationLevel:Ke.ISOLATION_LEVEL.READ_COMMITTED,cryptoCredentialsDetails:{},database:void 0,datefirst:TM,dateFormat:NM,debug:{data:!1,packet:!1,payload:!1,token:!1},enableAnsiNull:!0,enableAnsiNullDefault:!0,enableAnsiPadding:!0,enableAnsiWarnings:!0,enableArithAbort:!0,enableConcatNullYieldsNull:!0,enableCursorCloseOnCommit:null,enableImplicitTransactions:!1,enableNumericRoundabort:!1,enableQuotedIdentifier:!0,encrypt:!0,fallbackToDefaultDb:!1,encryptionKeyStoreProviders:void 0,instanceName:void 0,isolationLevel:Ke.ISOLATION_LEVEL.READ_COMMITTED,language:OM,localAddress:void 0,maxRetriesOnTransientErrors:3,multiSubnetFailover:!1,packetSize:gM,port:wM,readOnlyIntent:!1,requestTimeout:mM,rowCollectionOnDone:!1,rowCollectionOnRequestCompletion:!1,serverName:void 0,serverSupportsColumnEncryption:!1,tdsVersion:SM,textsize:yM,trustedServerNameAE:void 0,trustServerCertificate:!1,useColumnNames:!1,useUTC:!0,workstationId:void 0,lowerCaseGuids:!1}},t.options){if(t.options.port&&t.options.instanceName)throw new Error("Port and instanceName are mutually exclusive, but "+t.options.port+" and "+t.options.instanceName+" provided");if(t.options.abortTransactionOnError!==void 0){if(typeof t.options.abortTransactionOnError!="boolean"&&t.options.abortTransactionOnError!==null)throw new TypeError('The "config.options.abortTransactionOnError" property must be of type string or null.');this.config.options.abortTransactionOnError=t.options.abortTransactionOnError}if(t.options.appName!==void 0){if(typeof t.options.appName!="string")throw new TypeError('The "config.options.appName" property must be of type string.');this.config.options.appName=t.options.appName}if(t.options.camelCaseColumns!==void 0){if(typeof t.options.camelCaseColumns!="boolean")throw new TypeError('The "config.options.camelCaseColumns" property must be of type boolean.');this.config.options.camelCaseColumns=t.options.camelCaseColumns}if(t.options.cancelTimeout!==void 0){if(typeof t.options.cancelTimeout!="number")throw new TypeError('The "config.options.cancelTimeout" property must be of type number.');this.config.options.cancelTimeout=t.options.cancelTimeout}if(t.options.columnNameReplacer){if(typeof t.options.columnNameReplacer!="function")throw new TypeError('The "config.options.cancelTimeout" property must be of type function.');this.config.options.columnNameReplacer=t.options.columnNameReplacer}if(t.options.connectionIsolationLevel!==void 0&&((0,Ke.assertValidIsolationLevel)(t.options.connectionIsolationLevel,"config.options.connectionIsolationLevel"),this.config.options.connectionIsolationLevel=t.options.connectionIsolationLevel),t.options.connectTimeout!==void 0){if(typeof t.options.connectTimeout!="number")throw new TypeError('The "config.options.connectTimeout" property must be of type number.');this.config.options.connectTimeout=t.options.connectTimeout}if(t.options.cryptoCredentialsDetails!==void 0){if(typeof t.options.cryptoCredentialsDetails!="object"||t.options.cryptoCredentialsDetails===null)throw new TypeError('The "config.options.cryptoCredentialsDetails" property must be of type Object.');this.config.options.cryptoCredentialsDetails=t.options.cryptoCredentialsDetails}if(t.options.database!==void 0){if(typeof t.options.database!="string")throw new TypeError('The "config.options.database" property must be of type string.');this.config.options.database=t.options.database}if(t.options.datefirst!==void 0){if(typeof t.options.datefirst!="number"&&t.options.datefirst!==null)throw new TypeError('The "config.options.datefirst" property must be of type number.');if(t.options.datefirst!==null&&(t.options.datefirst<1||t.options.datefirst>7))throw new RangeError('The "config.options.datefirst" property must be >= 1 and <= 7');this.config.options.datefirst=t.options.datefirst}if(t.options.dateFormat!==void 0){if(typeof t.options.dateFormat!="string"&&t.options.dateFormat!==null)throw new TypeError('The "config.options.dateFormat" property must be of type string or null.');this.config.options.dateFormat=t.options.dateFormat}if(t.options.debug){if(t.options.debug.data!==void 0){if(typeof t.options.debug.data!="boolean")throw new TypeError('The "config.options.debug.data" property must be of type boolean.');this.config.options.debug.data=t.options.debug.data}if(t.options.debug.packet!==void 0){if(typeof t.options.debug.packet!="boolean")throw new TypeError('The "config.options.debug.packet" property must be of type boolean.');this.config.options.debug.packet=t.options.debug.packet}if(t.options.debug.payload!==void 0){if(typeof t.options.debug.payload!="boolean")throw new TypeError('The "config.options.debug.payload" property must be of type boolean.');this.config.options.debug.payload=t.options.debug.payload}if(t.options.debug.token!==void 0){if(typeof t.options.debug.token!="boolean")throw new TypeError('The "config.options.debug.token" property must be of type boolean.');this.config.options.debug.token=t.options.debug.token}}if(t.options.enableAnsiNull!==void 0){if(typeof t.options.enableAnsiNull!="boolean"&&t.options.enableAnsiNull!==null)throw new TypeError('The "config.options.enableAnsiNull" property must be of type boolean or null.');this.config.options.enableAnsiNull=t.options.enableAnsiNull}if(t.options.enableAnsiNullDefault!==void 0){if(typeof t.options.enableAnsiNullDefault!="boolean"&&t.options.enableAnsiNullDefault!==null)throw new TypeError('The "config.options.enableAnsiNullDefault" property must be of type boolean or null.');this.config.options.enableAnsiNullDefault=t.options.enableAnsiNullDefault}if(t.options.enableAnsiPadding!==void 0){if(typeof t.options.enableAnsiPadding!="boolean"&&t.options.enableAnsiPadding!==null)throw new TypeError('The "config.options.enableAnsiPadding" property must be of type boolean or null.');this.config.options.enableAnsiPadding=t.options.enableAnsiPadding}if(t.options.enableAnsiWarnings!==void 0){if(typeof t.options.enableAnsiWarnings!="boolean"&&t.options.enableAnsiWarnings!==null)throw new TypeError('The "config.options.enableAnsiWarnings" property must be of type boolean or null.');this.config.options.enableAnsiWarnings=t.options.enableAnsiWarnings}if(t.options.enableArithAbort!==void 0){if(typeof t.options.enableArithAbort!="boolean"&&t.options.enableArithAbort!==null)throw new TypeError('The "config.options.enableArithAbort" property must be of type boolean or null.');this.config.options.enableArithAbort=t.options.enableArithAbort}if(t.options.enableConcatNullYieldsNull!==void 0){if(typeof t.options.enableConcatNullYieldsNull!="boolean"&&t.options.enableConcatNullYieldsNull!==null)throw new TypeError('The "config.options.enableConcatNullYieldsNull" property must be of type boolean or null.');this.config.options.enableConcatNullYieldsNull=t.options.enableConcatNullYieldsNull}if(t.options.enableCursorCloseOnCommit!==void 0){if(typeof t.options.enableCursorCloseOnCommit!="boolean"&&t.options.enableCursorCloseOnCommit!==null)throw new TypeError('The "config.options.enableCursorCloseOnCommit" property must be of type boolean or null.');this.config.options.enableCursorCloseOnCommit=t.options.enableCursorCloseOnCommit}if(t.options.enableImplicitTransactions!==void 0){if(typeof t.options.enableImplicitTransactions!="boolean"&&t.options.enableImplicitTransactions!==null)throw new TypeError('The "config.options.enableImplicitTransactions" property must be of type boolean or null.');this.config.options.enableImplicitTransactions=t.options.enableImplicitTransactions}if(t.options.enableNumericRoundabort!==void 0){if(typeof t.options.enableNumericRoundabort!="boolean"&&t.options.enableNumericRoundabort!==null)throw new TypeError('The "config.options.enableNumericRoundabort" property must be of type boolean or null.');this.config.options.enableNumericRoundabort=t.options.enableNumericRoundabort}if(t.options.enableQuotedIdentifier!==void 0){if(typeof t.options.enableQuotedIdentifier!="boolean"&&t.options.enableQuotedIdentifier!==null)throw new TypeError('The "config.options.enableQuotedIdentifier" property must be of type boolean or null.');this.config.options.enableQuotedIdentifier=t.options.enableQuotedIdentifier}if(t.options.encrypt!==void 0){if(typeof t.options.encrypt!="boolean")throw new TypeError('The "config.options.encrypt" property must be of type boolean.');this.config.options.encrypt=t.options.encrypt}if(t.options.fallbackToDefaultDb!==void 0){if(typeof t.options.fallbackToDefaultDb!="boolean")throw new TypeError('The "config.options.fallbackToDefaultDb" property must be of type boolean.');this.config.options.fallbackToDefaultDb=t.options.fallbackToDefaultDb}if(t.options.instanceName!==void 0){if(typeof t.options.instanceName!="string")throw new TypeError('The "config.options.instanceName" property must be of type string.');this.config.options.instanceName=t.options.instanceName,this.config.options.port=void 0}if(t.options.isolationLevel!==void 0&&((0,Ke.assertValidIsolationLevel)(t.options.isolationLevel,"config.options.isolationLevel"),this.config.options.isolationLevel=t.options.isolationLevel),t.options.language!==void 0){if(typeof t.options.language!="string"&&t.options.language!==null)throw new TypeError('The "config.options.language" property must be of type string or null.');this.config.options.language=t.options.language}if(t.options.localAddress!==void 0){if(typeof t.options.localAddress!="string")throw new TypeError('The "config.options.localAddress" property must be of type string.');this.config.options.localAddress=t.options.localAddress}if(t.options.multiSubnetFailover!==void 0){if(typeof t.options.multiSubnetFailover!="boolean")throw new TypeError('The "config.options.multiSubnetFailover" property must be of type boolean.');this.config.options.multiSubnetFailover=t.options.multiSubnetFailover}if(t.options.packetSize!==void 0){if(typeof t.options.packetSize!="number")throw new TypeError('The "config.options.packetSize" property must be of type number.');this.config.options.packetSize=t.options.packetSize}if(t.options.port!==void 0){if(typeof t.options.port!="number")throw new TypeError('The "config.options.port" property must be of type number.');if(t.options.port<=0||t.options.port>=65536)throw new RangeError('The "config.options.port" property must be > 0 and < 65536');this.config.options.port=t.options.port,this.config.options.instanceName=void 0}if(t.options.readOnlyIntent!==void 0){if(typeof t.options.readOnlyIntent!="boolean")throw new TypeError('The "config.options.readOnlyIntent" property must be of type boolean.');this.config.options.readOnlyIntent=t.options.readOnlyIntent}if(t.options.requestTimeout!==void 0){if(typeof t.options.requestTimeout!="number")throw new TypeError('The "config.options.requestTimeout" property must be of type number.');this.config.options.requestTimeout=t.options.requestTimeout}if(t.options.maxRetriesOnTransientErrors!==void 0){if(typeof t.options.maxRetriesOnTransientErrors!="number")throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be of type number.');if(t.options.maxRetriesOnTransientErrors<0)throw new TypeError('The "config.options.maxRetriesOnTransientErrors" property must be equal or greater than 0.');this.config.options.maxRetriesOnTransientErrors=t.options.maxRetriesOnTransientErrors}if(t.options.connectionRetryInterval!==void 0){if(typeof t.options.connectionRetryInterval!="number")throw new TypeError('The "config.options.connectionRetryInterval" property must be of type number.');if(t.options.connectionRetryInterval<=0)throw new TypeError('The "config.options.connectionRetryInterval" property must be greater than 0.');this.config.options.connectionRetryInterval=t.options.connectionRetryInterval}if(t.options.rowCollectionOnDone!==void 0){if(typeof t.options.rowCollectionOnDone!="boolean")throw new TypeError('The "config.options.rowCollectionOnDone" property must be of type boolean.');this.config.options.rowCollectionOnDone=t.options.rowCollectionOnDone}if(t.options.rowCollectionOnRequestCompletion!==void 0){if(typeof t.options.rowCollectionOnRequestCompletion!="boolean")throw new TypeError('The "config.options.rowCollectionOnRequestCompletion" property must be of type boolean.');this.config.options.rowCollectionOnRequestCompletion=t.options.rowCollectionOnRequestCompletion}if(t.options.tdsVersion!==void 0){if(typeof t.options.tdsVersion!="string")throw new TypeError('The "config.options.tdsVersion" property must be of type string.');this.config.options.tdsVersion=t.options.tdsVersion}if(t.options.textsize!==void 0){if(typeof t.options.textsize!="number"&&t.options.textsize!==null)throw new TypeError('The "config.options.textsize" property must be of type number or null.');if(t.options.textsize>2147483647)throw new TypeError(`The "config.options.textsize" can't be greater than 2147483647.`);if(t.options.textsize<-1)throw new TypeError(`The "config.options.textsize" can't be smaller than -1.`);this.config.options.textsize=t.options.textsize|0}if(t.options.trustServerCertificate!==void 0){if(typeof t.options.trustServerCertificate!="boolean")throw new TypeError('The "config.options.trustServerCertificate" property must be of type boolean.');this.config.options.trustServerCertificate=t.options.trustServerCertificate}if(t.options.useColumnNames!==void 0){if(typeof t.options.useColumnNames!="boolean")throw new TypeError('The "config.options.useColumnNames" property must be of type boolean.');this.config.options.useColumnNames=t.options.useColumnNames}if(t.options.useUTC!==void 0){if(typeof t.options.useUTC!="boolean")throw new TypeError('The "config.options.useUTC" property must be of type boolean.');this.config.options.useUTC=t.options.useUTC}if(t.options.workstationId!==void 0){if(typeof t.options.workstationId!="string")throw new TypeError('The "config.options.workstationId" property must be of type string.');this.config.options.workstationId=t.options.workstationId}if(t.options.lowerCaseGuids!==void 0){if(typeof t.options.lowerCaseGuids!="boolean")throw new TypeError('The "config.options.lowerCaseGuids" property must be of type boolean.');this.config.options.lowerCaseGuids=t.options.lowerCaseGuids}}this.secureContextOptions=this.config.options.cryptoCredentialsDetails,this.secureContextOptions.secureOptions===void 0&&(this.secureContextOptions=Object.create(this.secureContextOptions,{secureOptions:{value:J1.default.SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS}})),this.debug=this.createDebug(),this.inTransaction=!1,this.transactionDescriptors=[Buffer.from([0,0,0,0,0,0,0,0])],this.transactionDepth=0,this.isSqlBatch=!1,this.closed=!1,this.messageBuffer=Buffer.alloc(0),this.curTransientRetryCount=0,this.transientErrorLookup=new nM.TransientErrorLookup,this.state=this.STATE.INITIALIZED,this._cancelAfterRequestSent=()=>{this.messageIo.sendMessage(De.TYPE.ATTENTION),this.createCancelTimer()}}connect(t){if(this.state!==this.STATE.INITIALIZED)throw new Oe.ConnectionError("`.connect` can not be called on a Connection in `"+this.state.name+"` state.");if(t){let r=f=>{this.removeListener("error",u),t(f)},u=f=>{this.removeListener("connect",r),t(f)};this.once("connect",r),this.once("error",u)}this.transitionTo(this.STATE.CONNECTING)}on(t,r){return super.on(t,r)}emit(t,...r){return super.emit(t,...r)}close(){this.transitionTo(this.STATE.FINAL)}initialiseConnection(){let t=this.createConnectTimer();return this.config.options.port?this.connectOnPort(this.config.options.port,this.config.options.multiSubnetFailover,t):(0,tM.instanceLookup)({server:this.config.server,instanceName:this.config.options.instanceName,timeout:this.config.options.connectTimeout,signal:t}).then(r=>{process.nextTick(()=>{this.connectOnPort(r,this.config.options.multiSubnetFailover,t)})},r=>{this.clearConnectTimer(),r.name!=="AbortError"&&process.nextTick(()=>{this.emit("connect",new Oe.ConnectionError(r.message,"EINSTLOOKUP"))})})}cleanupConnection(t){if(!this.closed){this.clearConnectTimer(),this.clearRequestTimer(),this.clearRetryTimer(),this.closeConnection(),t===Pr.REDIRECT?this.emit("rerouting"):t!==Pr.RETRY&&process.nextTick(()=>{this.emit("end")});let r=this.request;if(r){let u=new Oe.RequestError("Connection closed before request completed.","ECLOSE");r.callback(u),this.request=void 0}this.closed=!0,this.loginError=void 0}}createDebug(){let t=new eM.default(this.config.options.debug);return t.on("debug",r=>{this.emit("debug",r)}),t}createTokenStreamParser(t,r){return new sM.Parser(t,this.debug,r,this.config.options)}connectOnPort(t,r,u){let f={host:this.routingData?this.routingData.server:this.config.server,port:this.routingData?this.routingData.port:t,localAddress:this.config.options.localAddress};(r?Ry.connectInParallel:Ry.connectInSequence)(f,X1.default.lookup,u).then(h=>{process.nextTick(()=>{h.on("error",E=>{this.socketError(E)}),h.on("close",()=>{this.socketClose()}),h.on("end",()=>{this.socketEnd()}),h.setKeepAlive(!0,pM),this.messageIo=new oM.default(h,this.config.options.packetSize,this.debug),this.messageIo.on("secure",E=>{this.emit("secure",E)}),this.socket=h,this.closed=!1,this.debug.log("connected to "+this.config.server+":"+this.config.options.port),this.sendPreLogin(),this.transitionTo(this.STATE.SENT_PRELOGIN)})},h=>{this.clearConnectTimer(),h.name!=="AbortError"&&process.nextTick(()=>{this.socketError(h)})})}closeConnection(){this.socket&&this.socket.destroy()}createConnectTimer(){let t=new lM.AbortController;return this.connectTimer=setTimeout(()=>{t.abort(),this.connectTimeout()},this.config.options.connectTimeout),t.signal}createCancelTimer(){this.clearCancelTimer();let t=this.config.options.cancelTimeout;t>0&&(this.cancelTimer=setTimeout(()=>{this.cancelTimeout()},t))}createRequestTimer(){this.clearRequestTimer();let t=this.request,r=t.timeout!==void 0?t.timeout:this.config.options.requestTimeout;r&&(this.requestTimer=setTimeout(()=>{this.requestTimeout()},r))}createRetryTimer(){this.clearRetryTimer(),this.retryTimer=setTimeout(()=>{this.retryTimeout()},this.config.options.connectionRetryInterval)}connectTimeout(){let t=`Failed to connect to ${this.config.server}${this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`} in ${this.config.options.connectTimeout}ms`;this.debug.log(t),this.emit("connect",new Oe.ConnectionError(t,"ETIMEOUT")),this.connectTimer=void 0,this.dispatchEvent("connectTimeout")}cancelTimeout(){let t=`Failed to cancel request in ${this.config.options.cancelTimeout}ms`;this.debug.log(t),this.dispatchEvent("socketError",new Oe.ConnectionError(t,"ETIMEOUT"))}requestTimeout(){this.requestTimer=void 0;let t=this.request;t.cancel();let u="Timeout: Request failed to complete in "+(t.timeout!==void 0?t.timeout:this.config.options.requestTimeout)+"ms";t.error=new Oe.RequestError(u,"ETIMEOUT")}retryTimeout(){this.retryTimer=void 0,this.emit("retry"),this.transitionTo(this.STATE.CONNECTING)}clearConnectTimer(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=void 0)}clearCancelTimer(){this.cancelTimer&&(clearTimeout(this.cancelTimer),this.cancelTimer=void 0)}clearRequestTimer(){this.requestTimer&&(clearTimeout(this.requestTimer),this.requestTimer=void 0)}clearRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0)}transitionTo(t){if(this.state===t){this.debug.log("State is already "+t.name);return}this.state&&this.state.exit&&this.state.exit.call(this,t),this.debug.log("State change: "+(this.state?this.state.name:"undefined")+" -> "+t.name),this.state=t,this.state.enter&&this.state.enter.apply(this)}getEventHandler(t){let r=this.state.events[t];if(!r)throw new Error(`No event '${t}' in state '${this.state.name}'`);return r}dispatchEvent(t,...r){let u=this.state.events[t];u?u.apply(this,r):(this.emit("error",new Error(`No event '${t}' in state '${this.state.name}'`)),this.close())}socketError(t){if(this.state===this.STATE.CONNECTING||this.state===this.STATE.SENT_TLSSSLNEGOTIATION){let r=`Failed to connect to ${this.config.server}:${this.config.options.port} - ${t.message}`;this.debug.log(r),this.emit("connect",new Oe.ConnectionError(r,"ESOCKET"))}else{let r=`Connection lost - ${t.message}`;this.debug.log(r),this.emit("error",new Oe.ConnectionError(r,"ESOCKET"))}this.dispatchEvent("socketError",t)}socketEnd(){if(this.debug.log("socket ended"),this.state!==this.STATE.FINAL){let t=new Error("socket hang up");t.code="ECONNRESET",this.socketError(t)}}socketClose(){if(this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.state===this.STATE.REROUTING)this.debug.log("Rerouting to "+this.routingData.server+":"+this.routingData.port),this.dispatchEvent("reconnect");else if(this.state===this.STATE.TRANSIENT_FAILURE_RETRY){let t=this.routingData?this.routingData.server:this.config.server,r=this.routingData?this.routingData.port:this.config.options.port;this.debug.log("Retry after transient failure connecting to "+t+":"+r),this.dispatchEvent("retry")}else this.transitionTo(this.STATE.FINAL)}sendPreLogin(){let[,t,r,u]=/^(\d+)\.(\d+)\.(\d+)/.exec(hM.version)??["0.0.0","0","0","0"],f=new Cy.default({encrypt:this.config.options.encrypt,version:{major:Number(t),minor:Number(r),build:Number(u),subbuild:0}});this.messageIo.sendMessage(De.TYPE.PRELOGIN,f.data),this.debug.payload(function(){return f.toString("  ")})}sendLogin7Packet(){let t=new rM.default({tdsVersion:uM.versions[this.config.options.tdsVersion],packetSize:this.config.options.packetSize,clientProgVer:0,clientPid:process.pid,connectionId:0,clientTimeZone:new Date().getTimezoneOffset(),clientLcid:1033}),{authentication:r}=this.config;switch(r.type){case"azure-active-directory-password":t.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"default"};break;case"azure-active-directory-access-token":t.fedAuth={type:"SECURITYTOKEN",echo:this.fedAuthRequired,fedAuthToken:r.options.token};break;case"azure-active-directory-msi-vm":case"azure-active-directory-default":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":t.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"integrated"};break;case"ntlm":t.sspi=(0,fM.createNTLMRequest)({domain:r.options.domain});break;default:t.userName=r.options.userName,t.password=r.options.password}t.hostname=this.config.options.workstationId||j1.default.hostname(),t.serverName=this.routingData?this.routingData.server:this.config.server,t.appName=this.config.options.appName||"Tedious",t.libraryName=aM.name,t.language=this.config.options.language,t.database=this.config.options.database,t.clientId=Buffer.from([1,2,3,4,5,6]),t.readOnlyIntent=this.config.options.readOnlyIntent,t.initDbFatal=!this.config.options.fallbackToDefaultDb,this.routingData=void 0,this.messageIo.sendMessage(De.TYPE.LOGIN7,t.toBuffer()),this.debug.payload(function(){return t.toString("  ")})}sendFedAuthTokenMessage(t){let r=Buffer.byteLength(t,"ucs2"),u=Buffer.alloc(8+r),f=0;f=u.writeUInt32LE(r+4,f),f=u.writeUInt32LE(r,f),u.write(t,f,"ucs2"),this.messageIo.sendMessage(De.TYPE.FEDAUTH_TOKEN,u),this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}sendInitialSql(){let t=new by.default(this.getInitialSql(),this.currentTransactionDescriptor(),this.config.options),r=new Ly.default({type:De.TYPE.SQL_BATCH});this.messageIo.outgoingMessageStream.write(r),ec.Readable.from(t).pipe(r)}getInitialSql(){let t=[];return this.config.options.enableAnsiNull===!0?t.push("set ansi_nulls on"):this.config.options.enableAnsiNull===!1&&t.push("set ansi_nulls off"),this.config.options.enableAnsiNullDefault===!0?t.push("set ansi_null_dflt_on on"):this.config.options.enableAnsiNullDefault===!1&&t.push("set ansi_null_dflt_on off"),this.config.options.enableAnsiPadding===!0?t.push("set ansi_padding on"):this.config.options.enableAnsiPadding===!1&&t.push("set ansi_padding off"),this.config.options.enableAnsiWarnings===!0?t.push("set ansi_warnings on"):this.config.options.enableAnsiWarnings===!1&&t.push("set ansi_warnings off"),this.config.options.enableArithAbort===!0?t.push("set arithabort on"):this.config.options.enableArithAbort===!1&&t.push("set arithabort off"),this.config.options.enableConcatNullYieldsNull===!0?t.push("set concat_null_yields_null on"):this.config.options.enableConcatNullYieldsNull===!1&&t.push("set concat_null_yields_null off"),this.config.options.enableCursorCloseOnCommit===!0?t.push("set cursor_close_on_commit on"):this.config.options.enableCursorCloseOnCommit===!1&&t.push("set cursor_close_on_commit off"),this.config.options.datefirst!==null&&t.push(`set datefirst ${this.config.options.datefirst}`),this.config.options.dateFormat!==null&&t.push(`set dateformat ${this.config.options.dateFormat}`),this.config.options.enableImplicitTransactions===!0?t.push("set implicit_transactions on"):this.config.options.enableImplicitTransactions===!1&&t.push("set implicit_transactions off"),this.config.options.language!==null&&t.push(`set language ${this.config.options.language}`),this.config.options.enableNumericRoundabort===!0?t.push("set numeric_roundabort on"):this.config.options.enableNumericRoundabort===!1&&t.push("set numeric_roundabort off"),this.config.options.enableQuotedIdentifier===!0?t.push("set quoted_identifier on"):this.config.options.enableQuotedIdentifier===!1&&t.push("set quoted_identifier off"),this.config.options.textsize!==null&&t.push(`set textsize ${this.config.options.textsize}`),this.config.options.connectionIsolationLevel!==null&&t.push(`set transaction isolation level ${this.getIsolationLevelText(this.config.options.connectionIsolationLevel)}`),this.config.options.abortTransactionOnError===!0?t.push("set xact_abort on"):this.config.options.abortTransactionOnError===!1&&t.push("set xact_abort off"),t.join(`
`)}processedInitialSql(){this.clearConnectTimer(),this.emit("connect")}execSqlBatch(t){this.makeRequest(t,De.TYPE.SQL_BATCH,new by.default(t.sqlTextOrProcedure,this.currentTransactionDescriptor(),this.config.options))}execSql(t){try{t.validateParameters(this.databaseCollation)}catch(u){t.error=u,process.nextTick(()=>{this.debug.log(u.message),t.callback(u)});return}let r=[];r.push({type:tn.TYPES.NVarChar,name:"statement",value:t.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),t.parameters.length&&(r.push({type:tn.TYPES.NVarChar,name:"params",value:t.makeParamsParameter(t.parameters),output:!1,length:void 0,precision:void 0,scale:void 0}),r.push(...t.parameters)),this.makeRequest(t,De.TYPE.RPC_REQUEST,new Mr.default("sp_executesql",r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}newBulkLoad(t,r,u){let f;if(u===void 0?(u=r,f={}):f=r,typeof f!="object")throw new TypeError('"options" argument must be an object');return new Q1.default(t,this.databaseCollation,this.config.options,f,u)}execBulkLoad(t,r){if(t.executionStarted=!0,r){if(t.streamingMode)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that was put in streaming mode.");if(t.firstRowWritten)throw new Error("Connection.execBulkLoad can't be called with a BulkLoad that already has rows written to it.");let h=ec.Readable.from(r);h.on("error",E=>{t.rowToPacketTransform.destroy(E)}),t.rowToPacketTransform.on("error",E=>{h.destroy(E)}),h.pipe(t.rowToPacketTransform)}else t.streamingMode||t.rowToPacketTransform.end();let u=()=>{l.cancel()},f=new cM.BulkLoadPayload(t),l=new He.default(t.getBulkInsertSql(),h=>{if(t.removeListener("cancel",u),h){h.code==="UNKNOWN"&&(h.message+=" This is likely because the schema of the BulkLoad does not match the schema of the table you are attempting to insert into."),t.error=h,t.callback(h);return}this.makeRequest(t,De.TYPE.BULK_LOAD,f)});t.once("cancel",u),this.execSqlBatch(l)}prepare(t){let r=[];r.push({type:tn.TYPES.Int,name:"handle",value:void 0,output:!0,length:void 0,precision:void 0,scale:void 0}),r.push({type:tn.TYPES.NVarChar,name:"params",value:t.parameters.length?t.makeParamsParameter(t.parameters):null,output:!1,length:void 0,precision:void 0,scale:void 0}),r.push({type:tn.TYPES.NVarChar,name:"stmt",value:t.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),t.preparing=!0,t.on("returnValue",(u,f)=>{u==="handle"?t.handle=f:t.error=new Oe.RequestError(`Tedious > Unexpected output parameter ${u} from sp_prepare`)}),this.makeRequest(t,De.TYPE.RPC_REQUEST,new Mr.default("sp_prepare",r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}unprepare(t){let r=[];r.push({type:tn.TYPES.Int,name:"handle",value:t.handle,output:!1,length:void 0,precision:void 0,scale:void 0}),this.makeRequest(t,De.TYPE.RPC_REQUEST,new Mr.default("sp_unprepare",r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}execute(t,r){let u=[];u.push({type:tn.TYPES.Int,name:"handle",value:t.handle,output:!1,length:void 0,precision:void 0,scale:void 0});try{for(let f=0,l=t.parameters.length;f<l;f++){let h=t.parameters[f];u.push({...h,value:h.type.validate(r?r[h.name]:null,this.databaseCollation)})}}catch(f){t.error=f,process.nextTick(()=>{this.debug.log(f.message),t.callback(f)});return}this.makeRequest(t,De.TYPE.RPC_REQUEST,new Mr.default("sp_execute",u,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}callProcedure(t){try{t.validateParameters(this.databaseCollation)}catch(r){t.error=r,process.nextTick(()=>{this.debug.log(r.message),t.callback(r)});return}this.makeRequest(t,De.TYPE.RPC_REQUEST,new Mr.default(t.sqlTextOrProcedure,t.parameters,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}beginTransaction(t,r="",u=this.config.options.isolationLevel){(0,Ke.assertValidIsolationLevel)(u,"isolationLevel");let f=new Ke.Transaction(r,u);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new He.default("SET TRANSACTION ISOLATION LEVEL "+f.isolationLevelToTSQL()+";BEGIN TRAN "+f.name,h=>{this.transactionDepth++,this.transactionDepth===1&&(this.inTransaction=!0),t(h)}));let l=new He.default(void 0,h=>t(h,this.currentTransactionDescriptor()));return this.makeRequest(l,De.TYPE.TRANSACTION_MANAGER,f.beginPayload(this.currentTransactionDescriptor()))}commitTransaction(t,r=""){let u=new Ke.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new He.default("COMMIT TRAN "+u.name,l=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),t(l)}));let f=new He.default(void 0,t);return this.makeRequest(f,De.TYPE.TRANSACTION_MANAGER,u.commitPayload(this.currentTransactionDescriptor()))}rollbackTransaction(t,r=""){let u=new Ke.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new He.default("ROLLBACK TRAN "+u.name,l=>{this.transactionDepth--,this.transactionDepth===0&&(this.inTransaction=!1),t(l)}));let f=new He.default(void 0,t);return this.makeRequest(f,De.TYPE.TRANSACTION_MANAGER,u.rollbackPayload(this.currentTransactionDescriptor()))}saveTransaction(t,r){let u=new Ke.Transaction(r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new He.default("SAVE TRAN "+u.name,l=>{this.transactionDepth++,t(l)}));let f=new He.default(void 0,t);return this.makeRequest(f,De.TYPE.TRANSACTION_MANAGER,u.savePayload(this.currentTransactionDescriptor()))}transaction(t,r){if(typeof t!="function")throw new TypeError("`cb` must be a function");let u=this.inTransaction,f="_tedious_"+$1.default.randomBytes(10).toString("hex"),l=(h,E,...v)=>{h?this.inTransaction&&this.state===this.STATE.LOGGED_IN?this.rollbackTransaction(O=>{E(O||h,...v)},f):E(h,...v):u?(this.config.options.tdsVersion<"7_2"&&this.transactionDepth--,E(null,...v)):this.commitTransaction(O=>{E(O,...v)},f)};return u?this.saveTransaction(h=>h?t(h):r?this.execSqlBatch(new He.default("SET transaction isolation level "+this.getIsolationLevelText(r),E=>t(E,l))):t(null,l),f):this.beginTransaction(h=>h?t(h):t(null,l),f,r)}makeRequest(t,r,u){if(this.state!==this.STATE.LOGGED_IN){let f="Requests can only be made in the "+this.STATE.LOGGED_IN.name+" state, not the "+this.state.name+" state";this.debug.log(f),t.callback(new Oe.RequestError(f,"EINVALIDSTATE"))}else if(t.canceled)process.nextTick(()=>{t.callback(new Oe.RequestError("Canceled.","ECANCEL"))});else{r===De.TYPE.SQL_BATCH?this.isSqlBatch=!0:this.isSqlBatch=!1,this.request=t,t.connection=this,t.rowCount=0,t.rows=[],t.rst=[];let f=()=>{h.unpipe(l),h.destroy(new Oe.RequestError("Canceled.","ECANCEL")),l.ignore=!0,l.end(),t instanceof He.default&&t.paused&&t.resume()};t.once("cancel",f),this.createRequestTimer();let l=new Ly.default({type:r,resetConnection:this.resetConnectionOnNextRequest});this.messageIo.outgoingMessageStream.write(l),this.transitionTo(this.STATE.SENT_CLIENT_REQUEST),l.once("finish",()=>{t.removeListener("cancel",f),t.once("cancel",this._cancelAfterRequestSent),this.resetConnectionOnNextRequest=!1,this.debug.payload(function(){return u.toString("  ")})});let h=ec.Readable.from(u);h.once("error",E=>{h.unpipe(l),t.error??(t.error=E),l.ignore=!0,l.end()}),h.pipe(l)}}cancel(){return!this.request||this.request.canceled?!1:(this.request.cancel(),!0)}reset(t){let r=new He.default(this.getInitialSql(),u=>{this.config.options.tdsVersion<"7_2"&&(this.inTransaction=!1),t(u)});this.resetConnectionOnNextRequest=!0,this.execSqlBatch(r)}currentTransactionDescriptor(){return this.transactionDescriptors[this.transactionDescriptors.length-1]}getIsolationLevelText(t){switch(t){case Ke.ISOLATION_LEVEL.READ_UNCOMMITTED:return"read uncommitted";case Ke.ISOLATION_LEVEL.REPEATABLE_READ:return"repeatable read";case Ke.ISOLATION_LEVEL.SERIALIZABLE:return"serializable";case Ke.ISOLATION_LEVEL.SNAPSHOT:return"snapshot";default:return"read committed"}}};function tc(n){return n instanceof My.default&&(n=n.errors[0]),n instanceof Oe.ConnectionError&&!!n.isTransient}var IM=Fr;Ys.default=IM;Py.exports=Fr;Fr.prototype.STATE={INITIALIZED:{name:"Initialized",events:{}},CONNECTING:{name:"Connecting",enter:function(){this.initialiseConnection()},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_PRELOGIN:{name:"SentPrelogin",enter:function(){(async()=>{let n=Buffer.alloc(0),t;try{t=await this.messageIo.readMessage()}catch(l){return this.socketError(l)}for await(let l of t)n=Buffer.concat([n,l]);let r=new Cy.default(n);if(this.debug.payload(function(){return r.toString("  ")}),r.fedAuthRequired===1&&(this.fedAuthRequired=!0),r.encryptionString==="ON"||r.encryptionString==="REQ"){if(!this.config.options.encrypt)return this.emit("connect",new Oe.ConnectionError("Server requires encryption, set 'encrypt' config option to true.","EENCRYPT")),this.close();try{var u;this.transitionTo(this.STATE.SENT_TLSSSLNEGOTIATION),await this.messageIo.startTls(this.secureContextOptions,((u=this.routingData)===null||u===void 0?void 0:u.server)??this.config.server,this.config.options.trustServerCertificate)}catch(l){return this.socketError(l)}}this.sendLogin7Packet();let{authentication:f}=this.config;switch(f.type){case"azure-active-directory-password":case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":case"azure-active-directory-default":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_FEDAUTH);break;case"ntlm":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_NTLM);break;default:this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN);break}})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},REROUTING:{name:"ReRouting",enter:function(){this.cleanupConnection(Pr.REDIRECT)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},reconnect:function(){this.transitionTo(this.STATE.CONNECTING)}}},TRANSIENT_FAILURE_RETRY:{name:"TRANSIENT_FAILURE_RETRY",enter:function(){this.curTransientRetryCount++,this.cleanupConnection(Pr.RETRY)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},retry:function(){this.createRetryTimer()}}},SENT_TLSSSLNEGOTIATION:{name:"SentTLSSSLNegotiation",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_STANDARD_LOGIN:{name:"SentLogin7WithStandardLogin",enter:function(){(async()=>{let n;try{n=await this.messageIo.readMessage()}catch(u){return this.socketError(u)}let t=new Un.Login7TokenHandler(this),r=this.createTokenStreamParser(n,t);await(0,Bn.once)(r,"end"),t.loginAckReceived?t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL):this.loginError?tc(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Oe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_NTLM:{name:"SentLogin7WithNTLMLogin",enter:function(){(async()=>{for(;;){let n;try{n=await this.messageIo.readMessage()}catch(u){return this.socketError(u)}let t=new Un.Login7TokenHandler(this),r=this.createTokenStreamParser(n,t);if(await(0,Bn.once)(r,"end"),t.loginAckReceived)return t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);if(this.ntlmpacket){let u=this.config.authentication,f=new iM.default({domain:u.options.domain,userName:u.options.userName,password:u.options.password,ntlmpacket:this.ntlmpacket});this.messageIo.sendMessage(De.TYPE.NTLMAUTH_PKT,f.data),this.debug.payload(function(){return f.toString("  ")}),this.ntlmpacket=void 0}else return this.loginError?tc(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Oe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))}})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_FEDAUTH:{name:"SentLogin7Withfedauth",enter:function(){(async()=>{let n;try{n=await this.messageIo.readMessage()}catch(f){return this.socketError(f)}let t=new Un.Login7TokenHandler(this),r=this.createTokenStreamParser(n,t);if(await(0,Bn.once)(r,"end"),t.loginAckReceived){t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);return}let u=t.fedAuthInfoToken;if(u&&u.stsurl&&u.spn){let f=this.config.authentication,l=new dM.URL("/.default",u.spn).toString(),h;switch(f.type){case"azure-active-directory-password":h=new Bs.UsernamePasswordCredential(f.options.tenantId??"common",f.options.clientId,f.options.userName,f.options.password);break;case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":let O=f.options.clientId?[f.options.clientId,{}]:[{}];h=new Bs.ManagedIdentityCredential(...O);break;case"azure-active-directory-default":let A=f.options.clientId?{managedIdentityClientId:f.options.clientId}:{};h=new Bs.DefaultAzureCredential(A);break;case"azure-active-directory-service-principal-secret":h=new Bs.ClientSecretCredential(f.options.tenantId,f.options.clientId,f.options.clientSecret);break}let E;try{E=await h.getToken(l)}catch(O){this.loginError=new My.default([new Oe.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH"),O]),this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL);return}let v=E.token;this.sendFedAuthTokenMessage(v)}else this.loginError?tc(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new Oe.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN_SENDING_INITIAL_SQL:{name:"LoggedInSendingInitialSql",enter:function(){(async()=>{this.sendInitialSql();let n;try{n=await this.messageIo.readMessage()}catch(r){return this.socketError(r)}let t=this.createTokenStreamParser(n,new Un.InitialSqlTokenHandler(this));await(0,Bn.once)(t,"end"),this.transitionTo(this.STATE.LOGGED_IN),this.processedInitialSql()})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN:{name:"LoggedIn",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_CLIENT_REQUEST:{name:"SentClientRequest",enter:function(){(async()=>{var n,t,r;let u;try{u=await this.messageIo.readMessage()}catch(O){return this.socketError(O)}this.clearRequestTimer();let f=this.createTokenStreamParser(u,new Un.RequestTokenHandler(this,this.request));if((n=this.request)!==null&&n!==void 0&&n.canceled&&this.cancelTimer)return this.transitionTo(this.STATE.SENT_ATTENTION);let l=()=>{f.resume()},h=()=>{var O;f.pause(),(O=this.request)===null||O===void 0||O.once("resume",l)};(t=this.request)===null||t===void 0||t.on("pause",h),this.request instanceof He.default&&this.request.paused&&h();let E=()=>{var O,A;f.removeListener("end",v),this.request instanceof He.default&&this.request.paused&&this.request.resume(),(O=this.request)===null||O===void 0||O.removeListener("pause",h),(A=this.request)===null||A===void 0||A.removeListener("resume",l),this.transitionTo(this.STATE.SENT_ATTENTION)},v=()=>{var O,A,b,C;(O=this.request)===null||O===void 0||O.removeListener("cancel",this._cancelAfterRequestSent),(A=this.request)===null||A===void 0||A.removeListener("cancel",E),(b=this.request)===null||b===void 0||b.removeListener("pause",h),(C=this.request)===null||C===void 0||C.removeListener("resume",l),this.transitionTo(this.STATE.LOGGED_IN);let q=this.request;this.request=void 0,this.config.options.tdsVersion<"7_2"&&q.error&&this.isSqlBatch&&(this.inTransaction=!1),q.callback(q.error,q.rowCount,q.rows)};f.once("end",v),(r=this.request)===null||r===void 0||r.once("cancel",E)})()},exit:function(n){this.clearRequestTimer()},events:{socketError:function(n){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(n)}}},SENT_ATTENTION:{name:"SentAttention",enter:function(){(async()=>{let n;try{n=await this.messageIo.readMessage()}catch(u){return this.socketError(u)}let t=new Un.AttentionTokenHandler(this,this.request),r=this.createTokenStreamParser(n,t);if(await(0,Bn.once)(r,"end"),t.attentionReceived){this.clearCancelTimer();let u=this.request;this.request=void 0,this.transitionTo(this.STATE.LOGGED_IN),u.error&&u.error instanceof Oe.RequestError&&u.error.code==="ETIMEOUT"?u.callback(u.error):u.callback(new Oe.RequestError("Canceled.","ECANCEL"))}})().catch(n=>{process.nextTick(()=>{throw n})})},events:{socketError:function(n){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(n)}}},FINAL:{name:"Final",enter:function(){this.cleanupConnection(Pr.NORMAL)},events:{connectTimeout:function(){},message:function(){},socketError:function(){}}}}});Object.defineProperty(exports,"__esModule",{value:!0});Object.defineProperty(exports,"BulkLoad",{enumerable:!0,get:function(){return AM.default}});Object.defineProperty(exports,"Connection",{enumerable:!0,get:function(){return xy.default}});Object.defineProperty(exports,"ConnectionError",{enumerable:!0,get:function(){return Uy.ConnectionError}});Object.defineProperty(exports,"ISOLATION_LEVEL",{enumerable:!0,get:function(){return LM.ISOLATION_LEVEL}});Object.defineProperty(exports,"Request",{enumerable:!0,get:function(){return DM.default}});Object.defineProperty(exports,"RequestError",{enumerable:!0,get:function(){return Uy.RequestError}});Object.defineProperty(exports,"TDS_VERSION",{enumerable:!0,get:function(){return CM.versions}});Object.defineProperty(exports,"TYPES",{enumerable:!0,get:function(){return RM.TYPES}});exports.connect=PM;exports.library=void 0;var AM=nc(La()),xy=nc(Fy()),DM=nc(vi()),bM=zl(),Uy=gn(),RM=cr(),LM=zf(),CM=Xn();function nc(n){return n&&n.__esModule?n:{default:n}}var MM={name:bM.name};exports.library=MM;function PM(n,t){let r=new xy.default(n);return r.connect(t),r}
/*
 * @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter, Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * [js-md4]{@link https://github.com/emn178/js-md4}
 *
 * @namespace md4
 * @version 0.3.2
 * @author Yi-Cyuan Chen [emn178@gmail.com]
 * @copyright Yi-Cyuan Chen 2015-2027
 * @license MIT
 */
//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
//! @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
//! @version @js-joda/core - 5.5.3
