import{_ as f}from"./checkbox-26fd37aa.js";import{n as d,i as m,_ as c}from"./vueConfig-a3f6b6fb.js";import{n as s,s as _,e as u}from"./notify-10ab7721.js";import"./checkbox-a81e98d8.js";const g={props:["full"]};var h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-container",class:{"card-container-full":t.full}},[e("div",{staticClass:"card"},[t._t("default")],2)])},C=[],y=d(g,h,C,!1,null,"a42e296e",null,null);const p=y.exports;const w={components:{Card:p},mixins:[m],data(){return{user:null,uploadConfirm:!1,removeConfirm:!1,downloadConfirm:!1,importConfirm:!1,syncKeyPath:null,uploadLoading:!1,removeLoading:!1,downloadLoading:!1,triggerChooseSyncKey:!1,isDev:!1}},computed:{isPay(){return this.user&&this.user.expireTime>new Date().getTime()}},mounted(){this.on("user",o=>{this.user=o}).on("importConfirm",()=>{this.importConfirm=!0}).on("importResult",({success:o,message:t,cancel:e})=>{if(this.importConfirm=!1,e)return;s({showClose:!0,duration:o?1e3:2e3,message:t,type:o?"success":"error"})}).on("downloadConfirm",()=>{this.downloadLoading=!1,this.downloadConfirm=!0}).on("donwnloadResult",({success:o,message:t})=>{this.downloadLoading=!1,s({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("uploadRes",({success:o,message:t})=>{this.uploadLoading=!1,s({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("removeRes",({success:o,message:t})=>{this.removeLoading=!1,s({showClose:!0,duration:o?1e3:3e3,message:t,type:o?"success":"error"})}).on("syncKey",o=>{(!this.syncKeyPath||this.triggerChooseSyncKey)&&(this.syncKeyPath=o,this.triggerChooseSyncKey=!1)})},methods:{showLayout(){_(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},clearCache(){this.emit("clearCache")},reportIssue(){this.emit("open","https://github.com/cweijan/vscode-database-client/issues")},editConfig(){this.emit("editConfig")},chooseSyncKey(){this.triggerChooseSyncKey=!0,this.emit("chooseSyncKey")},exportConfig(){this.emit("exportConfig")},importConfig(o){this.emit("importConfig",o)},uploadConfig(){if(!this.isPay){u("Free account not support upload configuration!");return}this.uploadConfirm=!1,this.uploadLoading=!0,this.emit("uploadConfig",this.syncKeyPath)},removeConfig(){this.removeConfirm=!1,this.removeLoading=!0,this.emit("removeConfig")},downloadConfig(o){if(!this.isPay){u("Free account not support sync data!");return}this.downloadConfirm=!1,this.downloadLoading=!0,this.emit("downloadConfig",{keyPath:this.syncKeyPath,type:o})}}};var $=function(){var t=this,e=t._self._c;return e("div",[e("Card",[e("div",{staticStyle:{"min-width":"300px"}},[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" "+t._s(t.$t("console.configuration"))+" ")]),e("div",{staticStyle:{margin:"20px 0"}},[e("vsc-button",{attrs:{icon:"codicon-edit"},on:{click:t.editConfig}},[t._v(t._s(t.$t("console.edit"))+" ")]),e("vsc-button",{attrs:{icon:"codicon-arrow-down"},on:{click:t.exportConfig}},[t._v(t._s(t.$t("console.export"))+" ")]),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.importConfirm,trigger:"manual"}},[e("p",[t._v(t._s(t.$t("console.mergeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.importConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:function(n){return t.importConfig("merge")}}},[t._v(t._s(t.$t("console.merge")))]),e("vsc-button",{on:{click:function(n){return t.importConfig("overwrite")}}},[t._v(t._s(t.$t("console.overwrite")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{icon:"codicon-arrow-up"},on:{click:function(n){return t.importConfig()}}},[t._v(t._s(t.$t("console.import"))+" ")])],1)],2)],1)])]),e("Card",[e("div",[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" "+t._s(t.$t("console.sync"))+" ")]),e("div",{staticStyle:{margin:"20px 0"}},[e(c,{attrs:{placement:"top",width:"360",value:t.removeConfirm,trigger:"manual"}},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.removeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.removeConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:t.removeConfig}},[t._v(t._s(t.$t("result.confirm")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{icon:"codicon-close",loading:t.removeLoading},on:{click:function(n){t.removeConfirm=!0}}},[t._v(t._s(t.$t("console.remove")))])],1)],2),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.uploadConfirm,trigger:"manual"}},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.uploadConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.uploadConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:t.uploadConfig}},[t._v(t._s(t.$t("result.confirm")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{icon:"codicon-cloud-upload",loading:t.uploadLoading},on:{click:function(n){t.uploadConfirm=!0}}},[t._v(t._s(t.$t("console.upload")))])],1)],2),e(c,{staticClass:"ml-7px",attrs:{placement:"top",width:"360",value:t.downloadConfirm,trigger:"manual"}},[e("p",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[t._v(t._s(t.$t("console.mergeConfirm")))]),e("div",{staticStyle:{"text-align":"right",margin:"0"}},[e("vsc-button",{attrs:{type:"secondary"},on:{click:function(n){t.downloadConfirm=!1}}},[t._v(t._s(t.$t("common.cancel")))]),e("vsc-button",{on:{click:function(n){return t.downloadConfig("merge")}}},[t._v(t._s(t.$t("console.merge")))]),e("vsc-button",{on:{click:function(n){return t.downloadConfig("overwrite")}}},[t._v(t._s(t.$t("console.overwrite")))])],1),e("template",{slot:"reference"},[e("vsc-button",{attrs:{icon:"codicon-cloud-download",loading:t.downloadLoading},on:{click:function(n){return t.downloadConfig()}}},[t._v(t._s(t.$t("console.download")))])],1)],2),e("div",{staticStyle:{"margin-top":"20px"}},[e("vsc-input",{staticClass:"!w-52 !text-sm",attrs:{size:"mini",placeholder:"Encryption Key"},model:{value:t.syncKeyPath,callback:function(n){t.syncKeyPath=n},expression:"syncKeyPath"}}),e("vsc-button",{staticClass:"!ml-1",attrs:{icon:"codicon-file"},on:{click:t.chooseSyncKey}},[t._v(t._s(t.$t("common.choose")))])],1)],1)])]),e("Card",[e("div",[e("div",{staticStyle:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},[t._v(" Others ")]),e("div",{staticStyle:{margin:"20px 0"}},[e("vsc-button",{attrs:{icon:"codicon-github-inverted",size:"mini"},on:{click:t.reportIssue}},[t._v(" "+t._s(t.$t("toolbar.reportIssue"))+" ")]),e("vsc-button",{attrs:{icon:"codicon-clear-all",size:"mini",type:"secondary"},on:{click:t.clearCache}},[t._v(" "+t._s(t.$t("toolbar.clearCache"))+" ")])],1),e("div",[t.isDev?e("vsc-button",{attrs:{icon:"codicon-gear",size:"mini"},on:{click:t.showLayout}},[t._v(" 获取页面宽高 ")]):t._e()],1)])])],1)},x=[],b=d(w,$,x,!1,null,"1e9e4455",null,null);const S=b.exports,k={editor:["disableSqlCodeLenNew","highlightSQLBlock","escapedAllObjectName","autoPagingSQL","bindConnectionByActiveMark","executeCursorSQLByShortcut"],result:["resultRowHeight","maximumColumnWidth","showFilter","fetchColumnWhenOpenTable","reloadAfterDML","autoGetTableCount"],treeView:["showUser","showProcedure","showFunction","showTrigger","showEvent","saveConnectionExpandedState"]};function l(o,t){const e=k[o];return t.filter(n=>e.includes(n.name)).sort((n,r)=>e.indexOf(n.name)-e.indexOf(r.name))}const L={components:{Card:p,CloudConfig:S},mixins:[m],data(){return{options:[],user:null}},computed:{optionTypes(){return[{title:this.$t("console.editorOptions"),options:l("editor",this.options)},{title:this.$t("console.resultOptions"),options:l("result",this.options)},{title:this.$t("console.treeOptions"),options:l("treeView",this.options)}]}},async mounted(){this.emit("options").on("options",({options:o})=>{this.options=o}).on("user",o=>{this.user=o}).on("configSuccess",o=>{s({showClose:!0,duration:1e3,message:o,type:"success"})}).on("resetSuccess",o=>{s({showClose:!0,duration:1e3,message:o,type:"success"}),this.emit("options")}).init()},methods:{resetOption(o){this.emit("resetOption",o)},changeOpt(o){let t=o.value;o.type=="boolean"&&(t=!o.value,o.value=t),this.emit("updateOption",{...o,value:t})}}};var K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-wrap justify-center console-container"},[e("CloudConfig"),e("div",{staticClass:"option-container"},t._l(t.optionTypes,function(n,r){return e("Card",{key:r,staticStyle:{"max-width":"330px","min-width":"300px"}},[e("div",{staticClass:"option-title"},[t._v(" "+t._s(n.title)+" ")]),e("div",{staticClass:"option-list"},t._l(n.options,function(i,v){return e("div",{key:v,staticClass:"option-item"},[i.type=="boolean"||i.name=="escapedAllObjectName"?e(f,{attrs:{value:i.value},on:{change:function(a){return t.changeOpt(i,a)}}},[t._v(" "+t._s(i.description)+" ")]):["string","number"].includes(i.type)?e("div",[t._v(" "+t._s(i.description)+" "),e("vsc-input",{staticClass:"!w-20 !text-sm ml-1",attrs:{size:"mini"},on:{change:function(a){return t.changeOpt(i)}},model:{value:i.value,callback:function(a){t.$set(i,"value",a)},expression:"option.value"}})],1):t._e()],1)}),0),e("div",{staticStyle:{"text-align":"center"}},[e("vsc-button",{attrs:{icon:"codicon-wand",size:"mini"},on:{click:function(i){return t.resetOption(n.options)}}},[t._v(t._s(t.$t("console.resetConfig")))])],1)])}),1)],1)},O=[],P=d(L,K,O,!1,null,"24e44ea6",null,null);const T=P.exports;export{T as default};
